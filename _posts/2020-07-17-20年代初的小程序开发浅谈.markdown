---
type: post
category: fe
---

# 20 年代初的小程序开发浅谈

貌似有两周没怎么更新博客了哈，因为这几天白天就是冲浪游泳晒太阳，晚上就是写代码（啊~惬意），写了一个踏浪 App，用来查看大陆东南沿岸的冲浪浪点情况。

![踏浪小程序码](./2020-07-17.jpg)

## 为什么选择小程序

就国内来说，如果是放到 web 这个纯开放平台上，就是 SEO 做得再好，也要被埋到广告里面；放到酷安和苹果商店...开发者要交钱的...我为爱发电还没这么强。反倒放到小程序里，因为大陆微信普及率很高，基本上说一句「你要是想看看浪情，去微信搜一下踏浪 App」就好了，再一个，微信小程序的云函数也提供了类似于 Google firebase 的前后台 sdk，也不用担心搭建服务器什么的了（毕竟我在旅游，运维的事情还是不想做）。

## 包管理的尴尬

小程序其实就是个优化了的浏览器，但是开发的时候不能搞到浏览器实例（window），这导致大部分 NPM 库里的 JS 都不能不加修改地在小程序中运行（哪怕是 lodash 这样的基础库），甚至是 D3 都跑！不！了！

应该有很多库已经提供解决方案了，毕竟就是个编译就能解决掉的问题，可是像包管理这种东西，小程序上了这么年，一直都很烂，可见它是多不挣钱。

## 云函数

小程序的云函数只能在小程序编辑器里面开发，哪怕是到了腾讯云后台都看不到，这个不知道是不是鹅厂内部的问题。

## SVG

小程序 CSS 中支持 SVG。这点可以有，好多图我都是 figma 里面妥妥拽拽导出 SVG。但是在 Vdom 中直接插入 SVG 还是不行。

## WSL

另外，在 Windows 下面开发小程序是无法使用 WSL 环境的，哪怕是映射过去的文件地址也不行，但是可以把项目放在 Windows 的目录下如`/mnt/c/minprogram`开发。
