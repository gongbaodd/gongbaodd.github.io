{"posts":[{"id":"2017/01/09/PyQt.md","slug":"2017/01/09/pyqt","body":"\nå‰ç«¯åšå¾—ä¹…äº†ï¼Œæˆ‘çš„å·¥ç¨‹æ ¹ç›®å½•ä¸‹é¢å°±ä¼šå¤šä¸€ä¸ªbashè„šæœ¬ï¼ŒæŠŠæ¯ä¸€ä¸ªé¡¹ç›®çš„å¯åŠ¨è„šæœ¬æ”¾åœ¨é‡Œé¢ç„¶åæ³¨é‡Šæ‰ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¦‚æœè¦å¯åŠ¨ä¸€ä¸ªé¡¹ç›®çš„æ—¶å€™åªéœ€è¦è¿è¡Œè„šæœ¬å°±å¥½äº†ã€‚\n\nå¯æ˜¯é—®é¢˜éšä¹‹å‡ºç°äº†ï¼Œé¡¹ç›®è¶Šæ¥è¶Šå¤šï¼Œç„¶åé‚£ä¸ªè„šæœ¬å°±å˜æˆäº†ä¸‹é¢è¿™æ ·ã€‚\n\n![è„šæœ¬åº“](http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbkbh1idg9j20gi046q4s.jpg)\n\nå› ä¸ºç”¨çš„éƒ½æ˜¯fekitï¼Œæ‰€ä»¥å„ä¸ªå·¥ç¨‹å°±mockæ•°æ®ä¸ä¸€æ ·ã€‚ä¸ä¹…æˆ‘å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå·¥ä½œä¸€å¤©ï¼Œè€çœ¼æ˜èŠ±ä¹‹åï¼Œè¦æƒ³åœ¨é¡¹ç›®ä¹‹é—´åˆ‡æ¢ï¼Œå°±æ˜¯æ¯æ¬¡è¦æ•°å‡ºç¬¬å‡ è¡Œï¼ŒæŠŠå®ƒè§£æ³¨é‡Šï¼Œé‚£ç®€ç›´æ˜¯ä»¶ææ€–çš„äº‹æƒ…ã€‚\n\näºæ˜¯æˆ‘ä¾¿å¸Œæœ›æœ‰ä¸€ä¸ªå›¾å½¢åŒ–çš„ç•Œé¢ï¼Œèƒ½å®æ—¶æ˜¾ç¤ºæˆ‘ç›®å‰å¤„äºä»€ä¹ˆç¯å¢ƒï¼Œå¹¶ä¸”èƒ½å¤Ÿåˆ‡ç¯å¢ƒï¼ˆå› ä¸ºæ˜¯è§¦æ‘¸å±ï¼Œæ‰€ä»¥å›¾å½¢åŒ–ç•Œé¢æ•ˆç‡å¾ˆé«˜ğŸ˜,åŒæ—¶å› ä¸ºæˆ‘ç»å¸¸åœ¨archLinuxå’ŒMacä¸‹é¢åˆ‡æ¢ï¼Œæ‰€ä»¥æˆ‘å¯¹è·¨å¹³å°è¦æ±‚å¾ˆé«˜ï¼‰ã€‚\n\n# éœ€æ±‚\n\n1. å›¾å½¢åŒ–çš„ç•Œé¢ï¼Œèƒ½å¤Ÿæ˜¾ç¤ºç°åœ¨mockçš„æ˜¯å“ªä¸ªé¡¹ç›®ã€‚\n2. å…¼å®¹ArchLinux(Gnome)å’ŒOSXã€‚\n3. å¼€å‘æ—¶é—´è¶ŠçŸ­è¶Šå¥½ï¼ˆæ ¹æœ¬æ²¡æ—¶é—´åœ¨å·¥å…·ä¸Šä¸‹åŠŸå¤«ğŸ˜¢ï¼‰ã€‚\n4. ä¸è¦å½±å“åˆ°æˆ‘ç°æœ‰çš„å¼€å‘ä¹ æƒ¯ï¼ˆç”Ÿæˆçš„shellè„šæœ¬æ ¼å¼ä¸èƒ½å˜ï¼‰ã€‚\n\n# åˆ†æ\n\né¢ï¼Œå¥½å§ï¼Œå…¶å®electronä¹Ÿè¡Œï¼Œå¯æ˜¯å®å®å°±æ˜¯è§‰å¾—pyQtå¥½ä¹…ä¸ç”¨äº†ï¼Œå°±æ˜¯æƒ³ç”¨ç”¨ã€‚\n\n# ç¼–å†™\n\næ–‡ä»¶è¯»å†™\n\n```python\nimport sys\nimport os\nimport re\n\nQMB_FILE_PATH = os.path.split(os.path.realpath(__file__))[0] + '/qmbrun.sh'# æˆ‘é‚£ä¸ªshellè„šæœ¬å«qmbrun.sh\nRUN_BASH_PREFIX = '#!/bin/bash\\n'\nFEKIT_SERVER = 'fekit server'\nHASH_CHAR = '#'\nPRD_REG = r'.*-m\\s(.*)/.*'\n\ndef readFile():\n    commands = {}\n    file = open(QMB_FILE_PATH)\n    line = file.readline()\n    while line:\n        if line.find(FEKIT_SERVER) > -1:\n            command = line.replace(HASH_CHAR,'')\n            match = re.match(PRD_REG, command)\n            if match: \n                product = match.groups()[0]\n            if product:\n                commands[product] = {\n                    'selected': line.find(HASH_CHAR) < 0,\n                    'command': command\n                }\n        line = file.readline()\n    file.close()\n    return commands\n\ndef writeFile(str):\n    file = open(QMB_FILE_PATH,'w')\n    file.write(RUN_BASH_PREFIX + str)\n    file.close()\n```\n\nå¯¹è¯æ¡†\n\n```python\nfrom PyQt5.QtWidgets import *\n\nclass QMBedit(QDialog):\n    def __init__(self, parent = None):\n        super(QMBedit, self).__init__(parent)\n\n        self.btns = []\n        self.commands = readFile()\n        \n        self.setWindowTitle('QMBedit')\n        layout = QVBoxLayout()\n\n        for cmd in self.commands.keys():\n            btn = QRadioButton(cmd)\n            btn.setChecked(self.commands[cmd]['selected'])\n            btn.clicked.connect(self.btn_clicked)\n            self.btns.append(btn)\n            layout.addWidget(btn)\n\n        self.setLayout(layout)\n    \n    def btn_clicked(self): \n        for btn in self.btns:\n            self.commands[btn.text()]['selected'] = btn.isChecked()\n        self.map2str()\n    \n    def map2str(self):\n        str = ''\n        for cmd in self.commands.keys():\n            if self.commands[cmd]['selected']:\n                str += self.commands[cmd]['command']\n            else:\n                str += HASH_CHAR + self.commands[cmd]['command']\n        writeFile(str)\n```\n\n# è¿è¡Œ\n\n![è¿è¡Œç»“æœ](http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbkbh2aju0j205s04xwex.jpg)\n\nOKï¼Œç”¨èµ·æ¥ä¸é”™ï¼Œæ‹¯æ•‘äº†è€çœ¼æ˜èŠ±çš„æˆ‘ã€‚è¯è¯´æœ¬æ–‡æ˜¯æœ¬å¹´åº¦ç¬¬ä¸€æ–‡å•Šï¼å…¶å®æˆ‘æŒºç”¨å¿ƒçš„ï¼Œå†™æ–‡ç« çš„æ—¶é—´è¿œè¿œè¶…è¿‡äº†å†™è¿™æ®µä»£ç çš„æ—¶é—´ã€‚ã€‚ã€‚çœŸçš„ğŸ˜‚ã€‚\n\nPSï¼šè¯è¯´emojipediaçœŸçš„å¾ˆå¥½ç”¨ï¼Œå¯ä»¥è€ƒè™‘ç»™vcodeå¼€å‘ä¸ªæ’ä»¶ğŸ¤”ã€‚","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/01/17/VScode-Python-python3.6.md","slug":"2017/01/17/vscode-python-python36","body":"\næœ¬æ¥æƒ³å†™ä¸€ç¯‡pyqt+qmlçš„æ–‡ç« ï¼Œç»“æœä»Šå¤©æ‰“å¼€VScodeå‘ç°Pythonä¸è¯­æ³•æç¤ºäº†ã€‚æ‰“å¼€å¼€å‘è€…æ¨¡å¼ï¼Œå‘ç°ä¸€ç›´åœ¨æŠ¥é”™ï¼Œgramar3.6 not foundã€‚\n\næ‰“å¼€```~/.vscode/extensions/donjayamanne.python-0.5.5/pythonFiles/preview/jedi/parser```æ‰¾åˆ°é‡Œé¢çš„```grammar3.5.txt```å¤åˆ¶ä¸º```grammar3.6.txt```\n\né‡å¯VScodeå°±å¥½äº†ã€‚","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/01/18/PyQt-QML.md","slug":"2017/01/18/pyqt-qml","body":"\n> ç¿»äº†ç¿»ä»¥å‰ä¿å­˜çš„ä¹¦ç­¾ï¼Œå‘ç°äº†ä¸€ä¸ªpyQtå’ŒQMLçš„å¼€å‘æ€»ç»“ï¼Œä»£ç è·‘èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹é”™è¯¯ï¼Œä½†æ˜¯è¿˜æ˜¯æ¯”å®˜ç½‘çš„tutorialæ›´ç®€å•ç›´è§‚ä¸€ç‚¹ã€‚è¿˜èƒ½ä»é‡Œé¢æ‰¾ä¸€ç‚¹hybridå¼€å‘çš„ideaï¼ˆå› ä¸ºQMLå…¶å®ä¹Ÿæ˜¯ä¸€ç§ECMAScriptå¼•æ“å®ç°ï¼‰ã€‚\n\n# åœ¨QMLä¸Šä¸‹æ–‡æ’å…¥å˜é‡\n\nåœ¨```view.setSource```ä¹‹å‰å°†å˜é‡æ’å…¥ä¸Šä¸‹æ–‡ä¹‹ä¸­ã€‚\n\n```python\nfrom PyQt4.QtDeclarative import QDeclarativeView\nfrom PyQt4.QtGui import QApplication\nfrom PyQt4.QtCore import QUrl\n\napp = QApplication([])\n\nview = QDeclarativeView()\n\nrootCtx = view.rootContext()\nrootCtx.setContextProperty(\"textData\", \"hi\")\n\nview.setSource(QUrl('ctxProp.qml'))\nview.show()\n\napp.exec_()\n```\n\n```qml\nimport Qt 4.7\n\nRectangle {\n    id: test\n\n    width: 1000; height: 300\n\n    Text {\n        \n        anchors.fill: parent;\n        text: textData\n    }\n}\n```\n\n# PyQtä¿®æ”¹QMLä¸­å˜é‡\n\nè¿™æ ·å¯ä»¥å…ˆåŠ è½½qmlå†ä¿®æ”¹å†…éƒ¨çš„å€¼ï¼Œæ³¨æ„```property```åé¢æ˜¯æœ‰ç±»å‹çš„ã€‚\n\n```python\nfrom PyQt4.QtDeclarative import QDeclarativeView\nfrom PyQt4.QtGui import QApplication\nfrom PyQt4.QtCore import QUrl\n\napp = QApplication([])\n\nview = QDeclarativeView()\nview.setSource(QUrl('./ownProp.qml'))\n\nrootObj = view.rootObject()\nrootObj.setProperty(\"textData\", 'hi')\n\nview.show()\napp.exec_()\n```\n\n```qml\nimport Qt 4.7\n\nRectangle {\n    width: 1000\n    height: 300\n    id: test\n    \n    property string textData;\n\n    Text {\n        \n        anchors.fill: parent;\n        text: textData;\n    }\n    \n}\n```\n\n# æ¶ˆæ¯ä¼ é€’\n\nQTæœ€ä¸»è¦çš„å°±æ˜¯å®ƒçš„ä¿¡å·æ§½æœºåˆ¶ï¼Œå¯¹æˆ‘çš„å½±å“ä¹Ÿå¾ˆå¾ˆå¤§ï¼Œä»¥è‡³äºæˆ‘ç°åœ¨çš„ç»„ä»¶å¼€å‘ä¹Ÿåœ¨ç”¨è¿™ä¸€å¥—æ€ç»´ã€‚é‚£ä¹ˆQTæ€ä¹ˆå’ŒQMLå†…éƒ¨è¿›è¡Œæ¶ˆæ¯ä¼ é€’å‘¢ï¼Ÿ\n\n```python\nfrom PyQt4.QtDeclarative import QDeclarativeView\nfrom PyQt4.QtGui import QApplication\nfrom PyQt4.QtCore import QUrl\n\napp = QApplication([])\n\nview = QDeclarativeView()\nview.setSource(QUrl('./signal.qml'))\n\ndef on_click():\n    print(\"hi\")\n\nrootQbj = view.rootObject()\nrootQbj.mclicked.connect(on_click)\nrootQbj.setProperty('name','hello')\nview.show()\napp.exec_()\n```\n\n```qml\nimport Qt 4.7\n\nRectangle {\n    width: 1000\n    height: 300\n    id: test;\n    signal mclicked;\n    property string name;\n    \n\n    Text {\n        anchors.fill: parent;\n        text: name\n    }\n\n    MouseArea {        \n        anchors.fill: parent\n\n        onClicked: {\n            mclicked();\n        }\n    }\n    \n}\n\n```\n\n# è°ƒç”¨QMLå†…éƒ¨å‡½æ•°\n\n```python\nfrom PyQt4.QtDeclarative import QDeclarativeView\nfrom PyQt4.QtGui import QApplication\nfrom PyQt4.QtCore import QUrl\n\napp = QApplication([])\n\nview = QDeclarativeView()\nview.setSource(QUrl('./interface.qml'))\n\ndef on_click():\n    rootObject.set_text('Clicked')\n\nrootObject = view.rootObject()\nrootObject.mclicked.connect(on_click)\n\nview.show()\napp.exec_()\n```\n\n```qml\nimport Qt 4.7\n\nRectangle {\n    width: 1000\n    height: 300\n    color: \"transparent\"\n    id: test\n    signal mclicked\n    Text {\n        id: testText\n        \n        anchors.fill: parent\n        \n        text: \"Click Me\"\n    }\n    MouseArea {\n        anchors.fill: parent\n        onClicked: {\n            mclicked();\n        }\n    }\n    function set_text(text) {\n        testText.text = text\n    }   \n}\n```\n\nå°±é…±ï¼Œåé¢å†å†™ä¸€ç¯‡QMLè°ƒç”¨jsçš„æ–‡ç« å§ğŸ¤”ã€‚","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/02/03/node-302.md","slug":"2017/02/03/node-302","body":"\n```javascript\nvar http = require(\"http\");\n\nvar server = http.createServer(function(req, res) {\n    var clientIP = req.headers['x-forwarded-for'] ||\n                   req.connection.remoteAddress ||\n                   req.socket.remoteAddress ||\n                   req.connection.socket.remoteAddress,\n        ServerDate = new Date();\n    console.log('['+ ServerDate +']' + clientIP);\n    res.writeHead( 302, { 'Location': 'http://www.baidu.com/' });\n    res.end();\n});\n\nserver.listen(80);\n```\n\nç„¶åå°†è„šæœ¬ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹å¯åŠ¨\n\n```bash\nnohup node app.js > app.log &\n```","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/02/10/AP.md","slug":"2017/02/10/ap","body":"","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/05/14/nas.md","slug":"2017/05/14/nas","body":"\n# æ ‘è“æ´¾æ­å»º NAS\n\nå¥½å¿™å•Šï¼Œå†™ä¸ªå¤§çº²å¥½äº†\n\n## å®‰è£… RPI-Monitor\n\n## å®‰è£…å¸è¡€è¿…é›·\n\n## Samba å…±äº«æ–‡ä»¶\n\n## ssh ç«¯å£æ˜ å°„\n","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/05/28/Second-screen.md","slug":"2017/05/28/second-screen","body":"# ç¬¬äºŒå—å±å¹•\n\nä½œä¸ºä¸€ä¸ªå‰ç«¯ç¨‹åºå‘˜ï¼Œ13å¯¸çš„å±å¹•æ˜¾ç„¶ä¸å¤Ÿå·¥ä½œï¼Œå°¤å…¶æ˜¯å½“ä½ å†™ä»£ç çš„æ—¶å€™è¿˜æƒ³çœ‹ç¾å‰§çš„æ—¶å€™ã€‚\n\næˆ‘æœ‰ä¸€ä¸ªå±å¹•ï¼Œ15å¯¸çš„è”æƒ³800x600 VGAå±å¹•ï¼Œä»¥å‰ä¸ºäº†ç©æ ‘è“æ´¾åœ¨æ—§è´§å¸‚åœºæ·˜æ¥çš„ï¼Œåˆ†è¾¨ç‡å®åœ¨å¤ªä½äº†ã€‚å¦‚æœè¿æˆ‘å®¶çš„æŠ•å½±çš„è¯ï¼Œä¸ºäº†ä½¿ç”¨è‡ªç”±ï¼Œæˆ‘åªä¼šä½¿ç”¨æ— çº¿è¿æ¥ï¼Œä½†æ˜¯linuxä¸‹é¢è¿˜æ²¡æœ‰ä¸€ä¸ªå®Œå¤‡çš„æ— çº¿è¿æ¥æ–¹æ¡ˆã€‚\n\n## æ‹†æ‰æˆ‘çš„æ—§ç”µè„‘\n\nå¹´å‰æˆ‘æåˆ°è¿‡ï¼Œæˆ‘æŠŠæˆ‘çš„è€ç”µè„‘æ‹†äº†ï¼Œç¡¬ç›˜ç”¨æ¥æ¥æ ‘è“æ´¾ï¼Œå½“ç„¶æˆ‘ä¹ŸæŠŠå±å¹•æ‹†è¿‡æ¥äº†ã€‚æˆ‘åœ¨æ·˜å®ä¸Šæœäº†ä¸€ä¸‹äº”åˆä¸€å±å¹•é©±åŠ¨æ¿ï¼ŒåŠ ä¸Šç”µæºå¤§æ¦‚100å—æå®šï¼Œå–å®¶æ¯”è¾ƒçƒ­å¿ƒï¼Œé—®å¥½å‹å·ä¹‹åæ•´å—é©±åŠ¨æ¿åŸºæœ¬ä¸Šæ˜¯è¿æ¥å¥½å°±å¯„è¿‡æ¥äº†ã€‚\n\n## åšä¸€ä¸ªæ¯”è¾ƒå¥½çš„å£³\n\nåŸºæœ¬ä¸Šåªèƒ½æ‹¿åƒåœ¾åšä¸€ä¸ªå£³äº†ï¼Œåœ¨åŒ—äº¬çš„å®¶é‡Œé¢ï¼Œæ²¡æœ‰èºä¸ï¼Œæ‰€ä»¥æˆ‘åªèƒ½æŠŠé©±åŠ¨æ¿ç¼åœ¨å·§å…‹åŠ›ç›’åŒ…è£…ä¸Šã€‚å¤§æ¦‚å¦‚å›¾ï¼ˆå¦‚æœæˆ‘ä¼ å›¾äº†ï¼‰ã€‚\n\n## linuxå¤„ç†ç¬¬äºŒå—å±å¹•\n\nå…¶å®è¿æ¥å¥½å±å¹•å°±å¯ä»¥ç©äº†ï¼Œä½†æ˜¯ç”±äºæˆ‘çš„ç¬”è®°æœ¬æ˜¯4Kçš„ï¼Œè€å±å¹•è™½ç„¶æ˜¯14å¯¸ï¼Œä½†å…¶å®åªèƒ½æ˜¾ç¤ºæˆ‘ç°åœ¨ç¬”è®°æœ¬çš„1/4.éœ€è¦xrandrå¤„ç†ç¼©æ”¾ã€‚\n\n    xrandr --output eDP1 --auto --scale 1x1 --output DP1 --auto --scale 1.8x1.8 --right-of eDP1\n\n> ä¸ºä»€ä¹ˆä¸æ˜¯ 2x2 ? å…¶å®æˆ‘å°è¯•è¿‡ï¼Œå¯æ˜¯å¾ˆå¿«å°±èƒ½æŒ‚æ‰ï¼Œæ‰€ä»¥æˆ‘æ”¹æˆ 1.8x1.8 \n\nè¿˜æœ‰ä¸€ä¸ªbugï¼Œå±å¹•è™½ç„¶èƒ½å¤Ÿæ˜¾ç¤ºäº†ï¼Œä½†é¼ æ ‡èƒ½å¤Ÿæ§åˆ¶çš„åœ°æ–¹è¿˜æ˜¯1/4ã€‚ArchWikié‡Œé¢è¯´æ˜¯ä¸€ä¸ªbugï¼Œçœ‹äº†ä¸€ä¸‹ã€‚è²Œä¼¼è¿˜æ²¡è§£å†³ã€‚ã€‚ã€‚\n\nå¥½å§ï¼Œæœ€åæˆ‘é€‰æ‹©äº†å¦¥åï¼Œæ¯•ç«Ÿå·²ç»å¯ä»¥ç¾ç¾å“’åœ°çœ‹ç¾å‰§äº†ï½\n\n---\n\n<p style=\"float:right;\">\nå®«ä¸ä¸Šï¼Œ2017/05/28ã€ç«¯åˆèŠ‚ã€‘ï¼Œåœ¨åŒ—äº¬9ã¡çš„å®¶ä¸­ã€‚\n</p>\n","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/05/30/sad-WPS4linux.md","slug":"2017/05/30/sad-wps4linux","body":"# sad,WPS4Linuxåœæ­¢å¼€å‘\n\né»˜å“€ä¸‰åˆ†é’Ÿ","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/06/03/sinopia-NPM.md","slug":"2017/06/03/sinopia-npm","body":"# sinopiaæ­å»ºä½ çš„ç§äººNPM\n\nä»Šå¤©æœ¬æ¥æƒ³è¾¹åˆ·CodeWarsè¾¹çœ‹ã€Šçº¸ç‰Œå±‹ã€‹çš„ï¼Œæ˜¾ç„¶ä¸¤ä»¶çƒ§è„‘çš„äº‹æƒ…è¿˜æ˜¯ä¸è¦æ”¾åˆ°ä¸€èµ·åšæ¯”è¾ƒå¥½ã€‚\n\nç®€è¯„ä¸€ä¸‹ã€Šçº¸ç‰Œå±‹ã€‹ç¬¬äº”å­£ï¼Œç¼–å‰§èƒ½å†™äº”å­£ä¸é”™äº†ï¼Œèµ¶ç´§å®Œç»“å§ï¼Œå‰§æƒ…å¼€å§‹èµ°ä¸‹å¡è·¯å’¯ã€‚\n\n## è¿›å…¥æ­£é¢˜\n\nä¸ºä»€ä¹ˆè¦æ­å»ºç§äººNPMï¼Ÿæˆ‘é ï¼Œè¿™è¿˜ç”¨é—®ã€‚ã€‚ã€‚ï¼ˆä½ è‡ªå·±çŒœå§ï¼‰\n\n    npm install -g sinopia\n\nå®‰è£…å¥½sinopiaä¹‹åï¼Œæ‰§è¡Œsinopiaå°±å¥½äº†ï¼Œé»˜è®¤ç«¯å£4873ï¼Œåªèƒ½æœ¬åœ°è®¿é—®ã€‚\n\n## é…ç½®\n\nå¾€å¾€æˆ‘ä¼šæ–°å»ºä¸€ä¸ªç”¨æˆ·\n\n    useradd -G users sinopia -d\n\nç„¶åç”¨æˆ·è¿™ä¸ªç”¨æˆ·æ‰§è¡Œsinopiaï¼Œsinopiaæ‰§è¡Œçš„æ ¹ç›®å½•éœ€è¦ä¸‰ä¸ªæ–‡ä»¶ï¼Œconfig.yamlï¼Œstorageï¼Œhtpasswd\n\nåªé…ç½®config.yamlå°±å¥½äº†ï¼Œç¤ºä¾‹åœ¨https://github.com/rlidwka/sinopia/tree/master/conf\n\n## æ‰§è¡Œ\n\nç”¨PM2æ‰§è¡Œï¼Œé»˜è®¤sinopiaä¼šåœ¨æ‰§è¡Œç›®å½•å¯»æ‰¾configã€‚æœ¬åœ°è®¿é—®æˆåŠŸåå¤§å·¥é€ æˆã€‚\n\n***æ³¨æ„***\n\n1. å› ä¸ºæˆ‘ç”¨çš„æ˜¯Linuxï¼Œè‡ªä»å®‰è£…äº†node8+npm5ä¹‹åï¼Œå¯èƒ½æ¶‰åŠåˆ°Darwinçš„åŒ…ä¼šæŠ¥è­¦ï¼Œä¸è¿‡å¿½ç•¥å°±å¥½ã€‚\n\n2. æ³¨å†Œçš„æ—¶å€™æŠ¥é”™crypt3æ‰¾ä¸åˆ°ï¼Œè²Œä¼¼å®‰è£…çš„æ—¶å€™gypå‡ºé”™è¢«å¿½ç•¥æ‰äº†ï¼Œæˆ‘åˆ°sinopiaç›®å½•é‡Œé‡è£…äº†crypt3è§£å†³ã€‚","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/07/14/egg-ts.md","slug":"2017/07/14/egg-ts","body":"# èµ·å› \n\nä»Šå¹´æˆ‘å¼€å§‹åœ¨ç”Ÿäº§ç¯å¢ƒé‡Œè¯•ç”¨nodeï¼ˆè²Œä¼¼æ¯”å¾ˆå¤šäººæ…¢äº†ä¸€å¹´......ï¼‰ã€‚\nç”±äºå…¬å¸nodeç¯å¢ƒè¾ƒä½ï¼Œæˆ‘åªèƒ½ä½¿ç”¨ä¸€æ¬¾ä¿®æ”¹è¿‡çš„expressï¼Œ\nä¸ºäº†è§£å†³å…¼å®¹é—®é¢˜æˆ‘è¿˜ç”¨typescriptè¿›è¡Œç¼–è¯‘ï¼ˆäº‹å®è¯æ˜typescriptç®€ç›´awesomeï¼‰ã€‚\n\néšç€å…¬å¸æ›´æ–°äº†æ–°ç‰ˆçš„nodeï¼ˆä¹Ÿä¸é«˜ï¼Œ6.1.2ï¼‰ã€‚æˆ‘ä¹Ÿæœ‰äº†æ›´å¤šé€‰æ‹©ï¼Œ\næœ‰ä¸€å¤©æˆ‘åœ¨cnodeä¸Šé¢çœ‹åˆ°äº†eggçš„å‘å¸ƒï¼Œæ‰“ç®—è‡ªå·±è¯•ä¸€ä¸‹ã€‚\n\n## åºŸè¯å°‘è¯´ï¼Œä»å¿«é€Ÿå…¥é—¨å¼€å§‹\n\neggæœ‰ä¸€ä¸ªè¯¦ç»†çš„å¿«é€Ÿå…¥é—¨[https://eggjs.org/zh-cn/intro/quickstart.html]()ï¼Œ\nä½†æ˜¯æ—¶é—´ç´§å¼ ï¼Œæˆ‘ç›´æ¥ç”¨è„šæ‰‹æ¶å»ºé¡¹ç›®äº†ã€‚\n\n    egg-init egg-example --type=simple\n\n## ç›®å½•ç»“æ„\n\næˆ‘æ›¾ä¸€åº¦è®¤ä¸ºä¸€ä¸ªè¾ƒå¥½çš„æ¡†æ¶å…¶å®ä¸éœ€è¦ä»€ä¹ˆç›®å½•ç»“æ„ï¼Œè‡ªæ‰“æˆ‘å’Œå…¶ä»–äººåˆä½œä¹‹åæˆ‘å°±å½»åº•æ‰“æ¶ˆè¿™ä¸ªå¿µå¤´äº†ã€‚\n\n```shell\negg-project\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ app.js (å¯é€‰)\nâ”œâ”€â”€ agent.js (å¯é€‰)\nâ”œâ”€â”€ ts\n|   â”œâ”€â”€ router.ts\nâ”‚   â”œâ”€â”€ controller\nâ”‚   |   â””â”€â”€ home.ts\nâ”‚   â”œâ”€â”€ service (å¯é€‰)\nâ”‚   |   â””â”€â”€ user.ts\nâ”‚   â”œâ”€â”€ middleware (å¯é€‰)\nâ”‚   |   â””â”€â”€ response_time.ts\nâ”‚   â”œâ”€â”€ schedule (å¯é€‰)\nâ”‚   |   â””â”€â”€ my_task.ts\nâ”‚   â”œâ”€â”€ public (å¯é€‰)\nâ”‚   |   â””â”€â”€ reset.css\nâ”‚   â””â”€â”€ extend (å¯é€‰)\nâ”‚       â”œâ”€â”€ helper.ts (å¯é€‰)\nâ”‚       â”œâ”€â”€ request.ts (å¯é€‰)\nâ”‚       â”œâ”€â”€ response.ts (å¯é€‰)\nâ”‚       â”œâ”€â”€ context.ts (å¯é€‰)\nâ”‚       â”œâ”€â”€ application.ts (å¯é€‰)\nâ”‚       â””â”€â”€ agent.ts (å¯é€‰)\nâ”œâ”€â”€ config\n|   â”œâ”€â”€ plugin.js\n|   â”œâ”€â”€ config.default.js\nâ”‚   â”œâ”€â”€ config.prod.js\n|   â”œâ”€â”€ config.test.js (å¯é€‰)\n|   â”œâ”€â”€ config.local.js (å¯é€‰)\n|   â””â”€â”€ config.unittest.js (å¯é€‰)\nâ””â”€â”€ test\n    â”œâ”€â”€ middleware\n    |   â””â”€â”€ response_time.test.js\n    â””â”€â”€ controller\n        â””â”€â”€ home.test.js\n```\n\nåˆ äº†é¡¹ç›®é‡Œçš„appæ–‡ä»¶å¤¹ï¼Œå¹¶æŠŠappæ–‡ä»¶å¤¹åŠ åˆ°.gitignoreé‡Œé¢ã€‚\nä¿®æ”¹tsconfig.jsonï¼Œcsså¯ä»¥ç”¨åˆ«çš„å·¥å…·è§£å†³ï¼Œä¸åœ¨æœ¬æ¬¡è¯é¢˜é‡Œé¢ã€‚\n\n```json\n{\n  \"compilerOptions\": {\n    \"target\": \"ES2016\",\n    \"module\": \"commonjs\",\n    \"outDir\": \"./app\",\n    \"rootDir\": \"./src\"\n  }\n}\n```\n\nå¦å¤–ï¼Œæˆ‘æŠŠviewæ–‡ä»¶å¤¹ç»™åˆ æ‰äº†ï¼Œç†ç”±æ˜¯æˆ‘ä¸€ç›´æ¯”è¾ƒæ¨å´‡å‰åç«¯åŒæ„ï¼Œæ‰€ä»¥æ—¢ç„¶æœ‰viewå±‚ï¼Œå‰åç«¯çš„æ¨¡æ¿åº”è¯¥ä¸€è‡´ï¼Œ\nç›®å‰å‰ç«¯å¿™äºç»„ä»¶åŒ–ï¼ŒåŸºäºvueå’Œjsxçš„æ¨¡æ¿è¯­è¨€ä¹Ÿå¾ˆå¤šï¼ˆè™½ç„¶æ€§èƒ½ä¸é«˜ï¼Œä½†å¯é¢„è§æ€§èƒ½é—®é¢˜ä¼šå¾ˆå¿«è§£å†³ï¼‰ï¼Œæ‰€ä»¥æœ¬æ–‡æš‚æ—¶ä¸è°ˆviewã€‚\n\n## OKï¼Œå¯ä»¥æ„‰å¿«åœ°å†™ä»£ç äº†\n\nå› ä¸ºå®˜ç½‘æ²¡æœ‰TSçš„ç›¸å…³æ–‡æ¡£ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚\n\n### æ–°å»ºä¸€ä¸ªController\n\n    // src/controller/home.ts\n    import { Controller } from \"egg\";\n    import { prefix, suffix } from \"../frags\";\n\n    export default class HomeController extends Controller {\n        async index() {\n            this.ctx.body = `${prefix}<h1>Hello World</h1>${suffix}`;\n        }\n    }\n\n### Routerçš„å¼•ç”¨\n\n    import { Application } from \"egg\";\n\n    export default (app: Application) => {\n        app.get('/', \"home.index\");\n    }\n\n## ç»“è®º\n\neggå…¶å®ä¸é”™ï¼Œèƒ½æ¢è‡ªç„¶æ˜¯æœ€å¥½äº†ã€‚ä½†æ˜¯ä¸æ¢çš„è¯ï¼Œå¦‚æœé¡¹ç›®å·²ç»è·‘èµ·æ¥äº†ï¼Œ\nè¯´æ˜eggè¯¥è¶Ÿçš„å‘éƒ½è¢«ä½ è‡ªå·±è¶Ÿè¿‡äº†ï¼Œè€Œä¸”å·²ç»ç”¨äº†typescriptï¼Œasyncå’Œawaitè‡ªç„¶éƒ½ç”¨ä¸Šäº†ï¼Œ\næ‰€ä»¥ï¼ˆåœ¨æˆ‘çœ‹æ¥ï¼‰generatorå°±æ²¡æ›´å¤šä¼˜åŠ¿äº†ã€‚\n\nä½†æ˜¯å¦‚æœä½ è¿˜æ²¡ç”¨ä¸Štypescript...çœŸçš„ï¼ŒåŠ¨æ€ä¸€æ—¶çˆ½ï¼Œé‡æ„ç«è‘¬åœºå•Šã€‚\n\nä»¥ä¸Šã€‚","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/10/17/linux-swap.md","slug":"2017/10/17/linux-swap","body":"# ç»™ linux å¢åŠ  swap æ–‡ä»¶\n\n> ä¸Šå‘¨æœ«ï¼Œè‡ªå·±å†™çš„å…¬å¸çš„æœåŠ¡æŒ‚äº†ï¼Œå¿ƒç–¼è‡ªå·±å‡ åˆ†é’Ÿã€‚ã€‚ã€‚\n\näº‹å‘ä¹‹åçœ‹äº†çœ¼æœåŠ¡å™¨ï¼Œå¥½å¤šé…ç½®è¢«å½“ç™½é¼ äº†ï¼Œæ¯”å¦‚æœºå™¨éƒ½æ²¡æœ‰ SWAPï¼Œ\nä»¥å‰éƒ½æ˜¯è£…æœºå™¨çš„æ—¶å€™ä¹ æƒ¯æ€§åˆ†é… SWAPï¼Œè¿˜æ²¡æœ‰ç°æŒ‚è½½çš„ç»éªŒï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚\n\n1. åˆ›å»ºåˆ†é¡µæ–‡ä»¶ï¼ˆ3GBï¼‰\n\n        dd if=/dev/zero of=/opt/swapfile bs=1M count=3000\n\n2. æ ¼å¼åŒ–ä¸º SWAP åˆ†åŒº\n\n        mkswap /opt/swapfile \n\n3. æŒ‚è½½åˆ†åŒº\n\n        swapon /opt/swapfile\n\n4. ä¿è¯ä»¥åé‡å¯åè‡ªåŠ¨æŒ‚è½½ï¼ˆåœ¨ /etc/fstab å¢åŠ ä¿¡æ¯ï¼‰\n\n         /opt/swapfile    swap   swap defaults 0 0\n\n5. é‡æ–°æŒ‚è½½\n\n        mount -a\n\n> å…³äºæ‰§è¡Œ free -m çš„æç¤º\n\nå†…å­˜ä¸­çš„ buffered å’Œ cached åˆ†åˆ«è¡¨ç¤ºå¯ä»¥ç”¨æ¥ å†™å…¥/å†™å‡º ç£ç›˜çš„å†…å­˜","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/11/26/QA-node.md","slug":"2017/11/26/qa-node","body":"# ç»™ QA åŒå­¦çœ‹çš„ node ç§‘æ™®\n\n## ç›®å½•\n\n* ä»€ä¹ˆæ˜¯ Node.js\n* ä»€ä¹ˆæ˜¯ NPM\n* ä»€ä¹ˆæ˜¯ QXF\n* ä»€ä¹ˆæ˜¯ webpack\n* ä»€ä¹ˆæ˜¯ postcss\n* ä»€ä¹ˆæ˜¯ sass\n* ä»€ä¹ˆæ˜¯ babel\n* ä»€ä¹ˆæ˜¯ TypeScript\n* nodeæ—¶ä»£ä¸‹çš„å‰ç«¯å‘å¸ƒæµç¨‹\n* å•å…ƒæµ‹è¯•\n* ç«¯å¯¹ç«¯æµ‹è¯•\n\n## ä»€ä¹ˆæ˜¯ Node.js\n\n![](http://click-labs.com/wp-content/uploads/2014/05/nodejs_logo_green.jpg)\n\nNode.js æ˜¯ä¸€ä¸ªå¼€æºçš„è·¨å¹³å° javascript è¿è¡Œæ—¶. \nåˆæœŸæ˜¯ç”± Ryan Dahl åœ¨ 2009 å¹´è®¾è®¡å¼€å‘.\n\nè®¾è®¡ Node.js çš„çµæ„Ÿæ¥è‡ªäºä¸€å¥—å‘ Flicker ä¸Šä¼ è¿›åº¦æ¡çš„å®ç°. \n\n![](https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Ryan_Dahl.jpg/440px-Ryan_Dahl.jpg)\n\n## Node.js çš„æŠ€æœ¯ç»†èŠ‚\n\n* åŸºäºè°·æ­Œ Chrome çš„ V8 JavaScript å³æ—¶ç¼–è¯‘å™¨\n* å•çº¿ç¨‹æ— é˜»å¡ I/O\n* åŸºäº CommonJS çš„æ¨¡å—æœºåˆ¶\n* ä¸€å…ƒåŒ–çš„ API\n* äº‹ä»¶è½®è¯¢\n\n### å•çº¿ç¨‹æ— é˜»å¡ I/O\n\nWeb è¯·æ±‚,å¯¹äºå³æ—¶æ€§è¦æ±‚å¹¶ä¸é«˜,\næœåŠ¡å™¨éœ€è¦å¤„ç†ä¸€å †çš„å¼‚æ­¥äº‹ä»¶,\nç…§ä»¥å¾€çš„é€»è¾‘,\næˆ‘ä»¬ä¼šé€šè¿‡æ–°å»ºçº¿ç¨‹æ¥å¤„ç†è¿™å¥—é€»è¾‘,\nè€Œè¿™ç§æ–¹å¼å¾€å¾€æ˜¯æµªè´¹èµ„æºçš„.\n\nåœ¨ Node.js é‡Œé¢ç¨‹åºæ˜¯å•çº¿ç¨‹çš„,\næ¯ä¸€ä¸ªå¼‚æ­¥äº‹ä»¶é€šè¿‡äº‹ä»¶è½®è¯¢çš„æ–¹å¼è§£å†³.\nä»£ç è¢«è¦æ±‚ä»¥å›è°ƒå½¢å¼ç¼–å†™.\n\n```javascript\nconst server = http.createServer((req, res) => {\n  res.statusCode = 200;\n  res.setHeader('Content-Type', 'text/plain');\n  res.end('Hello World\\n');\n});\n\nserver.listen(port, hostname, () => {\n  console.log(`Server running at http://${hostname}:${port}/`);\n});\n```\n\n### CommonJS\n\nå› ä¸º JavaScript çš„æ¨¡å—æ ‡å‡†æ˜¯åœ¨ 2016 å¹´æ‰è¢«å®šä¹‰çš„,\næ‰€ä»¥ Node.js ä½¿ç”¨çš„æ˜¯å¦å¤–ä¸€å¥—æ¨¡å—æœºåˆ¶ CommonJS.\n\nCommonJS åŒ…æ‹¬ require å‡½æ•°å’Œ module å¯¹è±¡.\n\n```javascript\nvar a = require(\"path/to/a.js\");\nmodule.exports = {...};\n```\n\n### ä¸€å…ƒåŒ–çš„API\n\nä½¿ç”¨ JavaScript åšæœåŠ¡å™¨è¯­è¨€çš„æ¡†æ¶å…¶å®å¾ˆå¤š,\nä½†æ˜¯ Nodejs æœ€å¸å¼•äººçš„ä¸€ç‚¹å°±æ˜¯ä¸€å…ƒåŒ–API.\n\næ¯”å¦‚æ—¥å¿—API:\n\n```javascript\nvar a = \"æµè§ˆå™¨ä¸‹æ‰“å°æ—¥å¿—\";\nconsole.log(a);\n```\n\n```JavaScript\nvar a = \".Netä¸‹æ‰“å°æ—¥å¿—\";\nprint(a);\n```\n\n```JavaScript\nvar a = \"Node.jsä¸‹æ‰“å°æ—¥å¿—\";\nconsole.log(a);\n```\n\n### äº‹ä»¶è½®è¯¢\n\näº‹ä»¶è½®è¯¢æ˜¯è®¡ç®—æœºç³»ç»Ÿçš„ä¸€ç§æœºåˆ¶,\nJavaScript ç”¨çš„æ˜¯è¿™ç§æœºåˆ¶æ¥è§£å†³å•çº¿ç¨‹è¿è¡Œå¸¦æ¥çš„é—®é¢˜.\n\n![](http://image.beekka.com/blog/201310/2013102001.png)\n\n## Node.js å°ç»“\n\n![](https://img3.doubanio.com/lpic/s27269296.jpg)\n\n## ä»€ä¹ˆæ˜¯ NPM\n\n![](http://playnode.io/2012/img/profile/aa.jpg)\n\nNPM æ˜¯ 2010å¹´ç”± Isaac Z. Schlueter å¼€å‘,\nç”¨äº JavaScript çš„æ¨¡å—ç®¡ç†.\n\nNPM åŒ…æ‹¬ä¸€ä¸ªå‘½ä»¤è¡Œçš„å‰ç«¯å’Œä¸€ä¸ªè¿œç«¯èµ„æºåº“é»˜è®¤æ˜¯ https://registry.npmjs.org/\n\nnpmjs.org é»˜è®¤å…è´¹, ä½†æ˜¯æäº¤è€…çš„ä»£ç å¿…é¡»é¢å‘å…¨ç½‘ä½¿ç”¨,\nä¹Ÿå¯ä»¥è´­ä¹°ç§æœ‰æº, ç§æœ‰æ¨¡å—å¾€å¾€å¦‚\n\n```shell\n@xxx/name\n```\n\nç”±äº NPM æœ¬èº«å¼€æº,\næ‰€ä»¥ä¹Ÿæœ‰å¾ˆå¤šå…¬å¸ä¸ºäº†çœé’±å•ç‹¬æ­å»ºèµ„æºåº“,\nå¹¶å®šæœŸå’ŒNPMåŒæ­¥.\n\n### NPM åœ¨å®¢æˆ·ç«¯çš„ç”¨é€”\n\n#### æœ¬åœ°å®‰è£… NPM ä»£ç åŒ…\n\n```shell\nnpm install <package_name><?:@version>\n```\n\næ‰§è¡Œä»¥ä¸Šä»£ç ä¹‹å,\næœ¬åœ°æ–‡ä»¶å¤¹ä¸‹ä¼šå¢åŠ ä¸€ä¸ª node_modules æ–‡ä»¶å¤¹,\né‡Œé¢æ”¾çš„æ˜¯æ–°å®‰è£…çš„ NPM ä»£ç åŒ….\n\nä»£ç åŒ…ä¼šé¦–å…ˆæŒ‰ç…§æŒ‡å®šçš„ version å®‰è£…,\nå…¶æ¬¡ä¼šæŒ‰ç…§æœ¬åœ° npm-shrinkwrap.json å®‰è£…,\nå†æ¬¡ä¼šæŒ‰ç…§æœ¬åœ° package.json æŒ‰è£…,\næœ€åä¼šå®‰è£…æœ€æ–°ç‰ˆ.\n\n#### pacakge.json\n\n```\nnpm init\n```\n\næ¯ä¸€ä¸ª NPM æ¨¡å—å¿…é¡»æœ‰ä¸€ä¸ª package.json,\nä¸€ä¸‹ç®€å•ä»‹ç»å‡ ä¸ªé‡è¦å­—æ®µ.\n\n* nameã€€ä»£ç åŒ…çš„åå­—\n* version ä»£ç ç‰ˆæœ¬\n* main åŒ…çš„å…¥å£æ–‡ä»¶\n* scripts è‡ªå®šä¹‰å‘½ä»¤\n* dependencies æœ¬åŒ…éœ€è¦å®‰è£…çš„ä¾èµ–åŒ…\n* devDependencies æœ¬åŒ…å¼€å‘æ—¶éœ€è¦å®‰è£…çš„ä¾èµ–åŒ…\n\n#### npm-shrinkwrap.json\n\npackage.json é‡Œé¢åªè®°å½•äº†ä¾èµ–åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯,\nä¼šå¯¼è‡´å¤šç«¯æ‰§è¡Œ npm install ä¹‹åç”Ÿæˆçš„ node_modules ä¸ä¸€è‡´.\n\n```shell\nnpm shrinkwrap\n```\n\næ‰§è¡Œä¸Šè¿°å‘½ä»¤, æœ¬åœ°æ ¹ç›®å½•ä¼šæ–°å»º npm-shrinkwrap.json,\næ–‡ä»¶ä¼šè®°å½•æœ¬åœ°å®‰è£…çš„æ¯ä¸€ä¸ªä¾èµ–åŒ…çš„ç¡®åˆ‡ç‰ˆæœ¬ä¿¡æ¯ä»¥åŠèµ„æºåº“åœ°å€.\n\n#### run-script\n\npackage.json é‡Œé¢çš„ script å­—æ®µæ˜¯å¯ä»¥å†™ shell å‘½ä»¤çš„.\n\n```javascript\n{\n    \"script\": {\n        \"test\": \"node test.js\",\n        \"dev\": \"NODE_ENV=dev && node index.js\",\n        \"prd\": \"NODE_ENV=prd && node index.js\",\n        \"hello\": \"echo \\\"hello\\\"\"\n    }\n}\n```\n\næ‰§è¡Œå‘½ä»¤ä¹Ÿå¾ˆç®€å•\n\n```shell\nnpm run test\n```\n\n## ä»€ä¹ˆæ˜¯ Express\n\n![](http://img.kuqin.com/upimg/allimg/140806/2330395116-1.jpg)\n\nExpress æ˜¯ TJ Holowaychuk äº 2009å¹´å¼€å‘çš„, åŸºäº Node.js å¹³å°ï¼Œå¿«é€Ÿã€å¼€æ”¾ã€æç®€çš„ web å¼€å‘æ¡†æ¶ã€‚\n\n```javascript\nvar express = require('express');\nvar app = express();\n\napp.get('/', function (req, res) {\n  res.send('Hello World!');\n});\n\nvar server = app.listen(3000, function () {\n  var host = server.address().address;\n  var port = server.address().port;\n\n  console.log('Example app listening at http://%s:%s', host, port);\n});\n```\n\n### Connect ä¸­é—´ä»¶\n\nConnectæ˜¯ä¸€ä¸ªnodeä¸­é—´ä»¶ï¼ˆmiddlewareï¼‰æ¡†æ¶ã€‚å¦‚æœæŠŠä¸€ä¸ªhttpå¤„ç†è¿‡ç¨‹æ¯”ä½œæ˜¯æ±¡æ°´å¤„ç†ï¼Œä¸­é—´ä»¶å°±åƒæ˜¯ä¸€å±‚å±‚çš„è¿‡æ»¤ç½‘ã€‚æ¯ä¸ªä¸­é—´ä»¶åœ¨httpå¤„ç†è¿‡ç¨‹ä¸­é€šè¿‡æ”¹å†™requestæˆ–ï¼ˆå’Œï¼‰responseçš„æ•°æ®ã€çŠ¶æ€ï¼Œå®ç°äº†ç‰¹å®šçš„åŠŸèƒ½ã€‚\n\n```javascript\napp.use(middleware);\n```\n\n### è·¯ç”±å™¨\n\nExpress è·¯ç”±å™¨åœ¨æˆ‘çœ‹æ¥ç®—æ˜¯ä¸€ç§ç‰¹æ®Šçš„ä¸­é—´ä»¶,\nåªä¸è¿‡è·¯ç”±ç»“æŸä¹‹åæ•´ä¸ªè¯·æ±‚å°±ç»“æŸäº†.\n\n```javascript\napp.use('/calendar', router);\n```\n\n### QXF\n\nQXF æ˜¯å»å“ªå„¿åŸºäº Express ä¿®æ”¹çš„ web æ¡†æ¶,\nåœ¨ Express çš„åŸºç¡€ä¸Šå¢åŠ äº†é¢å‘å»å“ªå„¿å†…éƒ¨çš„ç›‘æ§ç­‰æœåŠ¡SDK.\n\n## ä»€ä¹ˆæ˜¯ webpack\n\nwebpack æ˜¯ä¸€ä¸ªæ¨¡å—çš„æ‰“åŒ…å·¥å…·, æ”¯æŒæ‰“åŒ… CommonJs, AMD, ES6 modules, CSS, Images, JSON, Coffeescript, LESS, ...\n\n### ä»€ä¹ˆæ˜¯ FEkit\n\nFEkit æ˜¯å»å“ªå„¿ä¹‹å‰ä¸€ç›´ä½¿ç”¨çš„å‰ç«¯æ‰“åŒ…å·¥å…·,èƒ½å¤Ÿæ‰“åŒ… CSS å’Œ CommonJS, ç°åœ¨å·²ç»ä¸è¿›è¡Œç»´æŠ¤.\n\n### ä»€ä¹ˆæ˜¯ ykit\n\nykit åŸºäº webpack, æ˜¯å»å“ªå„¿ç›®å‰å¤§éƒ¨åˆ†ä½¿ç”¨çš„æ‰“åŒ…å·¥å…·.\n\n## ä»€ä¹ˆæ˜¯ postcss\n\npostcss æ˜¯ä¸€ä¸ªç±»ä¼¼äº node-sass çš„é¢„ç¼–è¯‘æœŸå™¨,\nåªä¸è¿‡ç¼–è¯‘çš„æ˜¯ CSS. å®ƒå¯ä»¥æŠŠæ›´é«˜çº§çš„ CSS ä»£ç è¿›è¡Œé™çº§å¤„ç†ä»¥é€‚é…å…¼å®¹æ›´å¤è€çš„æµè§ˆå™¨.\n\n## ä»€ä¹ˆæ˜¯ SASS\n\nSASS æ˜¯ CSS çš„æ‰©å±•è¯­è¨€,\nnode-sass æ˜¯ SASS çš„ç¼–è¯‘å™¨,\nSASS ç¼–è¯‘ä¹‹åä¼šç”Ÿæˆ CSS.\n\nç”±äºå»å“ªå„¿å†…éƒ¨å¤§é‡ä½¿ç”¨çš„ Yo æ¡†æ¶åŸºäº SASS,\næ‰€ä»¥ node-sass ç¼–è¯‘æ˜¯ä¸€ä¸ªå¿…é€‰é¡¹.\n\n## ä»€ä¹ˆæ˜¯ babel\n\nbabel å¯ä»¥å¯¹æ›´é«˜çº§çš„ JavaScript ä»£ç è¿›è¡Œé™çº§å¤„ç†,\nä»¥é€‚é…å…¼å®¹æ›´å¤è€çš„æµè§ˆå™¨.\n\n## ä»€ä¹ˆæ˜¯ TypeScript\n\nTypeScript æ˜¯å¯¹ JavaScript çš„åŠŸèƒ½æ‰©å±•ä¹‹åçš„è¯­è¨€,\nå¢åŠ äº†ç±»å‹æ£€æŸ¥å’Œä»£ç ç¼–è¯‘ä»¥é€‚åº”æ›´å¤æ‚çš„å¼€å‘éœ€æ±‚.\nå®ƒç¼–è¯‘åç”Ÿæˆä»£ç æ˜¯ JavaScript.\n\n## nodeæ—¶ä»£ä¸‹çš„å‰ç«¯å‘å¸ƒæµç¨‹\n\n### ä»£ç æ£€æŸ¥\n\næ£€æŸ¥JS,TS,SASS,CSS...ç­‰æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯\n\n### èµ„æºåˆ†æ‹£\n\n* åˆ†ç¦»å‰åç«¯JS\n* åˆ†ç¦»CSS\n* åˆ†ç¦»å¤§å›¾ç‰‡\n* å°å›¾ç‰‡ base64 ç¼–ç \n\n### ç¼–è¯‘æ£€æŸ¥\n\n* ç¼–è¯‘ TypeScript\n* ç¼–è¯‘ SASS\n\n### å‘ä¸‹ç¼–è¯‘\n\n* babel å‘ä¸‹å…¼å®¹å¤„ç†\n* postcss å‘ä¸‹å…¼å®¹å¤„ç†\n\n### æ‰“åŒ…\n\nåˆ†åˆ«æ‰“åŒ…å‰åç«¯ä»£ç \n\n### å®¢æˆ·ç«¯ä»£ç æ··æ·†å‹ç¼©\n\n* JS ä½¿ç”¨ Uglify æ··æ·†\n* CSS ä½¿ç”¨ cssnano æ··æ·†\n\n### å®¢æˆ·ç«¯ä»£ç ä¸Šä¼  CDN\n\n### Node ä»£ç ä¸Šä¼ æœåŠ¡å™¨\n\n### é‡å¯æœåŠ¡\n\n## å•å…ƒæµ‹è¯•\n\nJavaScript ç›®å‰å·²ç»æœ‰å¤šå¥—å•å…ƒæµ‹è¯•æ¡†æ¶,\nå¦‚ Jest, Jasmine, Tape, AVA...\n\n```javascript\nconst sum = require('./sum');\n\ntest('adds 1 + 2 to equal 3', () => {\n  expect(sum(1, 2)).toBe(3);\n});\n```\n\n## ç«¯å¯¹ç«¯æµ‹è¯•\n\nsuperagent å¯ä»¥å¯¹ http è¯·æ±‚è¿›è¡Œæ–­è¨€å¤„ç†.\n\n```javascript\nconst request = require('supertest');\nconst express = require('express');\n\nconst app = express();\n\napp.get('/user', function(req, res) {\n  res.status(200).json({ name: 'tobi' });\n});\n\nrequest(app)\n  .get('/user')\n  .expect('Content-Type', /json/)\n  .expect('Content-Length', '15')\n  .expect(200)\n  .end(function(err, res) {\n    if (err) throw err;\n  });\n```","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/12/08/ArchLinux.md","slug":"2017/12/08/archlinux","body":"# æ ‘è“æ´¾+ArchLinux\n\nå¤§æ¦‚æ˜¯ä»Šå¹´äº”æœˆä»½å§,æˆ‘çš„æ ‘è“æ´¾2åˆä¸€æ¬¡åƒç°äº†,\nä¹‹å‰ç”¨æ¥å½“AP, å¯æ˜¯ Tenda U1 çš„é©±åŠ¨(RTL8192EU)éœ€è¦é…åˆæ–°å†…æ ¸ç¼–è¯‘,\næ¯«æ— æ„å¤–çš„ç¼–è¯‘å¤±è´¥äº†, åæ­£ä¹Ÿä¸æƒ³æŠ˜è…¾äº†, å°±è®©å®ƒåƒç°äº†.\n\næœ€è¿‘æ”¶æ‹¾ä¸œè¥¿, å‘ç°äº†åœ¨åƒç°çš„æ ‘è“æ´¾, æƒ³æƒ³å¹²è„†æ‹¿å‡ºæ¥åˆ·ä¸Š Arch,\nå°±å½“ rust çš„ç¼–è¯‘ç¯å¢ƒå§.\n\nwlanå°±ç”¨æ°´æ˜Ÿçš„å§, èµ·ç ä¸ç”¨ç¼–è¯‘é©±åŠ¨äº†.\n\nå®‰è£…æ–¹æ³•å¾ˆç®€å•, ç…§è¿™ä¸ªé“¾æ¥åšå°±å¥½\n\nhttps://github.com/phortx/Raspberry-Pi-Setup-Guide\n\nArchLinuxARM ä¸æ˜¯åƒ Raspbian é‚£æ ·çƒ§å½•çš„,\næ‰€ä»¥è¦ä¸‹è½½å¥½ tar åŒ…, è§£å‹åˆ° SD å¡é‡Œ.\n\nä¸ªäººç»éªŒ, å› ä¸ºå›½å†…è¯»å¡å™¨çœŸçš„ä¸å’‹åœ°,\næœ€å¥½å…ˆè§£å‹åˆ°æœ¬åœ°åœ¨å¤åˆ¶è¿‡å».\n\nå¦å¤– aliyun æ²¡æœ‰ ArchLinuxARM çš„æº,\nä½†æ˜¯å¯ä»¥ä½¿ç”¨æ¸…åçš„æº.\n\nå®‰è£…å®Œ ohmyzsh ä¹‹å,\nåˆ‡æ¢ ssh é»˜è®¤ä¸º zsh\n\nchsh -s /usr/bin/zsh\n\nç„¶åä¿®æ”¹ .zsh ä¸»é¢˜(å› ä¸ºæˆ‘æœ¬åœ°ä¹Ÿæ˜¯zsh),\né€‰æ‹© avit ä¹Ÿè¡Œ\n\n![](https://cloud.githubusercontent.com/assets/2618447/6316718/51a2fd9a-ba00-11e4-845a-24bed6ae9210.png)\n","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/12/23/P2P.md","slug":"2017/12/23/p2p","body":"# P2På®ç°ä¸æ­»ç½‘ç»œ","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/12/26/Mac-20264.md","slug":"2017/12/26/mac-20264","body":"# è§£å†³ MacOS å®‰è£…ç»¿è”20264ç½‘çº¿é€‚é…å™¨é©±åŠ¨å¤±è´¥çš„é—®é¢˜\n\nå…¬å¸é‡Œé¢é…çš„ Mac ç½‘çº¿é€‚é…å™¨å¿«è¦æ–­äº†, æˆ‘èµ¶ç´§å»ç‹—ä¸œå®šäº†ä¸€ä¸ªç»¿è”çš„.\nè°æˆæƒ³, æ’ä¸Šæœºå™¨æ²¡æœ‰ååº”, ç¿»äº†è¯´æ˜æ–‡æ¡£æ˜¯è¦å®‰è£…é©±åŠ¨çš„,\nåˆ°å®˜ç½‘ä¸‹è½½é©±åŠ¨, å®‰è£…æˆåŠŸ. é‡å¯åè¿˜æ˜¯æ²¡ååº”...\n\næˆ‘æ’åˆ° linux æœºå™¨ä¸Šé¢, æ²¡é—®é¢˜, æ€¥å¿™æœäº†ä¸€ä¸‹,\nåŸæ¥æ˜¯è‹¹æœ SIP æœºåˆ¶æŠŠç¬¬ä¸‰æ–¹é©±åŠ¨æ‹¦æˆªäº†.\n\n[è‹¹æœSIPæœºåˆ¶](http://www.freebuf.com/articles/system/97411.html)\n\n## è§£å†³æ–¹æ¡ˆ\n\n1. é‡å¯, ä¸€ç›´æŒ‰ cmd + R è¿›å…¥ recovery\n\n+. æ‰§è¡Œå‘½ä»¤ csrutil disable\n\n+. é‡å¯, é‡æ–°å®‰è£…é©±åŠ¨","collection":"blog","data":{"type":"post","category":"tech"}}]}