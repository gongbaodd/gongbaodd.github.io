{"posts":[{"id":"2019/09/10/cloudflare worker-CSP.md","slug":"2019/09/10/cloudflare-worker-csp","body":"# cloudflare worker 增加 CSP\n\n```javascript\naddEventListener('fetch', event => {\n\n  event.respondWith(fetch(event.request)\n      .then(function(response){\n            response = new Response(response.body, response);\n            // Set content-security-policy header to self and also include \n            // cloudflare workers dashboard to make it easy to preview\n            response.headers.set(\"content-security-policy\",\n               \"frame-ancestors 'self' https://dash.cloudflare.com;\");\n\n            return response;\n        }\n\n      ));\n    \n\n});\n```","collection":"blog","data":{"type":"post","category":"fe"}}]}