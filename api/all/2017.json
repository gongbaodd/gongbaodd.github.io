{"posts":[{"id":"2017/01/09/PyQt.md","slug":"2017/01/09/pyqt","body":"\n前端做得久了，我的工程根目录下面就会多一个bash脚本，把每一个项目的启动脚本放在里面然后注释掉。这样做的好处是如果要启动一个项目的时候只需要运行脚本就好了。\n\n可是问题随之出现了，项目越来越多，然后那个脚本就变成了下面这样。\n\n![脚本库](http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbkbh1idg9j20gi046q4s.jpg)\n\n因为用的都是fekit，所以各个工程就mock数据不一样。不久我发现一个问题，工作一天，老眼昏花之后，要想在项目之间切换，就是每次要数出第几行，把它解注释，那简直是件恐怖的事情。\n\n于是我便希望有一个图形化的界面，能实时显示我目前处于什么环境，并且能够切环境（因为是触摸屏，所以图形化界面效率很高😏,同时因为我经常在archLinux和Mac下面切换，所以我对跨平台要求很高）。\n\n# 需求\n\n1. 图形化的界面，能够显示现在mock的是哪个项目。\n2. 兼容ArchLinux(Gnome)和OSX。\n3. 开发时间越短越好（根本没时间在工具上下功夫😢）。\n4. 不要影响到我现有的开发习惯（生成的shell脚本格式不能变）。\n\n# 分析\n\n额，好吧，其实electron也行，可是宝宝就是觉得pyQt好久不用了，就是想用用。\n\n# 编写\n\n文件读写\n\n```python\nimport sys\nimport os\nimport re\n\nQMB_FILE_PATH = os.path.split(os.path.realpath(__file__))[0] + '/qmbrun.sh'# 我那个shell脚本叫qmbrun.sh\nRUN_BASH_PREFIX = '#!/bin/bash\\n'\nFEKIT_SERVER = 'fekit server'\nHASH_CHAR = '#'\nPRD_REG = r'.*-m\\s(.*)/.*'\n\ndef readFile():\n    commands = {}\n    file = open(QMB_FILE_PATH)\n    line = file.readline()\n    while line:\n        if line.find(FEKIT_SERVER) > -1:\n            command = line.replace(HASH_CHAR,'')\n            match = re.match(PRD_REG, command)\n            if match: \n                product = match.groups()[0]\n            if product:\n                commands[product] = {\n                    'selected': line.find(HASH_CHAR) < 0,\n                    'command': command\n                }\n        line = file.readline()\n    file.close()\n    return commands\n\ndef writeFile(str):\n    file = open(QMB_FILE_PATH,'w')\n    file.write(RUN_BASH_PREFIX + str)\n    file.close()\n```\n\n对话框\n\n```python\nfrom PyQt5.QtWidgets import *\n\nclass QMBedit(QDialog):\n    def __init__(self, parent = None):\n        super(QMBedit, self).__init__(parent)\n\n        self.btns = []\n        self.commands = readFile()\n        \n        self.setWindowTitle('QMBedit')\n        layout = QVBoxLayout()\n\n        for cmd in self.commands.keys():\n            btn = QRadioButton(cmd)\n            btn.setChecked(self.commands[cmd]['selected'])\n            btn.clicked.connect(self.btn_clicked)\n            self.btns.append(btn)\n            layout.addWidget(btn)\n\n        self.setLayout(layout)\n    \n    def btn_clicked(self): \n        for btn in self.btns:\n            self.commands[btn.text()]['selected'] = btn.isChecked()\n        self.map2str()\n    \n    def map2str(self):\n        str = ''\n        for cmd in self.commands.keys():\n            if self.commands[cmd]['selected']:\n                str += self.commands[cmd]['command']\n            else:\n                str += HASH_CHAR + self.commands[cmd]['command']\n        writeFile(str)\n```\n\n# 运行\n\n![运行结果](http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbkbh2aju0j205s04xwex.jpg)\n\nOK，用起来不错，拯救了老眼昏花的我。话说本文是本年度第一文啊！其实我挺用心的，写文章的时间远远超过了写这段代码的时间。。。真的😂。\n\nPS：话说emojipedia真的很好用，可以考虑给vcode开发个插件🤔。","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/01/10/Halal-in-halal-has-no-beef-noodles.md","slug":"2017/01/10/halal-in-halal-has-no-beef-noodles","body":"\n# 清真中的清真其实没有牛肉面\n\n## 国博的《阿拉伯之路·沙特出土文物》\n\n![阿拉伯之路](http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmhcayxwaj21kw16oqsh.jpg)\n\n> 其实是 8 号的事，但是我 9 号写了篇技术稿，生活稿时间只好延后了。\n\n去年十月，我去了趟西宁大回环，途中就体验了一周中式清真生活，也吃了几顿真正的牛拉（话说确实原味不如衍生啊 😕）。不过对于一个在东北长大的熊崽儿来说，伊斯兰给我的印象简直比佛教的密宗还神秘，虽然小的时候老师说过如果和回族人一起吃饭不要吃猪肉，但是我们班的回族同学，分明是吃猪肉最欢的那个 😂。。。\n\n所以那次旅行，真真地给我来了一把伊斯兰科普，也对麦加这个地方产生了好奇。话说现在去趟麦加应该相当不容易了吧，那里打得那么凶，估计这也是国博办这次展不能说的原因之一吧。\n\n因为这次前往的匆忙，全部是手机拍摄的（魅族拍照不行啊），但是去过国博的人都知道，国博的展品介绍基本上是给一米以下和两米以上的人困难的，作为身高仅仅 1.7m 的我能记下这个展十分不容易啊。\n\n---\n\n## 香料之路\n\n古阿拉伯文化是存在断层的，起初，阿拉伯的王国产生的原因和西域相似，基本上是为了联通东西方的贸易，同时又因为此地产香料，所以称之为香料之路，可是后来这个王国就覆灭掉了，文化也产生了断层。直到公元七世纪伊斯兰时期开始，这个地区又一次兴盛直到现在。\n\n下图是来自阿拉伯半岛北部的人形石碑，距今应该有 6000 多年（想想 6000 多年在中国还是神话时期吧）。摆在展厅的正中央，旁边还有一个视频，里面是个德国的开采人员描述她如何惊讶于这些石碑的简洁美，但我倒是觉得是不是当时的手段无法逼真化。\n\n![人形石碑](http://ww2.sinaimg.cn/mw690/89d0a2e1gw1fbmhc98l33j21kw16oatb.jpg)\n\n下面这个表情像不像一拳超人 🤣，旁边还有很多史前时期的文物基本上是一些碎石什么的我就不多写了。\n\n![一拳超人](http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmhc7n6p0j21kw23ub29.jpg)\n\n欧拉（这个地名能记住完全因为欧拉公式啊，但是和这个无关）是阿拉伯西北部的地方，以前是香料之路的重要据点，是里西安族（不是西里安）的文化中心。\n\n这里汇集了叙利亚、地中海还有美索不达米亚的文化，仅仅从遗物来看都知道当时这里的文明是多么繁荣，文化交流也很强烈。下面的石碑上的文字虽然已经看不清了，但可以看出几乎是注音文字，而且应该是不同的几种语言。\n\n<table>\n    <tr>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh9kwq4pj21kw16o4ia.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh9m9wz5j21kw16oh68.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh8ztys2j21kw16o7mx.jpg\" alt=\"\"></td>        \n    </tr>\n</table>\n\n<table>\n    <tr>\n        <td><img src=\"http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh9nag8bj21kw16onex.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh8eozbjj21kw23ue81.jpg\" alt=\"\"></td>        \n        <td><img src=\"http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh8i6wk3j21kw16owy5.jpg\" alt=\"\"></td>\n    </tr>\n</table>\n\n![刻铭石香炉](http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh8bcbskj21kw23u7wh.jpg)\n\n据说此地曾经发生过战争，当时的罗马皇帝在此地参与过重建，这是遗留下来的拉丁文石碑，可以看出来 WXYZ 还没有出现，标点也没有，甚至单词的分隔符都没有 😂。好吧，那怎么读懂呢。。。\n\n![拉丁文石碑](http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh88gcc8j21kw16owzw.jpg)\n\n![](http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh7zoga5j21kw16ok7s.jpg)\n\n下面的石碑的图像，来自美索不达米亚。\n\n![卡斯尔哈姆拉出土](http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh7tys5xj21kw23u4qp.jpg)\n\n下面被相信是里西安部族国王的石像，前面的两个人像也是他的雕像。\n\n![石像](http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh7qh2b7j21kw23ue81.jpg)\n\n下面是一个墓碑，雕刻的是墓主人的相貌（抽象派），其下刻有阿拉姆铭文阿拉姆铭文：“纪念塔伊姆，扎伊德之子。”\n\n![墓碑](http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh7ocofnj21kw23u7wh.jpg)\n\n这是哈萨语铭文的墓碑，据说十分罕见，而其的特殊之处是上面记载的是墓主人的母系氏族，可见当时女性的地位之高。\n\n![墓碑](http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh7nq8tvj21kw23uhdt.jpg)\n\n1988 年发掘的一个公园一世纪的王墓，墓主人是个女孩。有明显的地中海特色。下面的女孩像是墓床上的一条腿。\n\n<table>\n    <tr>\n        <td><img src=\"http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh7k26tsj21kw23ux6p.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh7hrfgjj21kw23ukjl.jpg\" alt=\"\"></td>        \n    </tr>\n</table>\n\n<table>\n    <tr>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh7be29mj21kw23ux6p.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh7f951wj21kw23ukjl.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh79kltij21kw23uu0x.jpg\" alt=\"\"></td>        \n    </tr>\n</table>\n\n下面都是玻璃器具。\n\n<table>\n    <tr>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh74lw02j21kw16ok6h.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh732vfnj21kw23u7wh.jpg\" alt=\"\"></td>\n    </tr>\n</table>\n\n卡耶特法奥，以前是荒漠里的沙洲，这里以前有很多寺庙。下面是赛伯伊语铭文，最后一个是已知的最古老的古代阿拉伯南方语言，都是警告如果破坏墓碑的人会遭到诅咒。\n\n<table>\n    <tr>\n        <td><img src=\"http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh71cui2j21kw16oh06.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh6z4lqxj21kw23u7wh.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh70i2obj21kw16o7lu.jpg\" alt=\"\"></td>\n    </tr>\n</table>\n\n这里是阿拉伯香料之路南北交叉点，下面的展品可以看出本地文化已经受到了罗马文化的冲击。\n\n<table>\n    <tr>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh6x7o2pj21kw23uqv5.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh6p6dj8j21kw23ukjl.jpg\" alt=\"\"></td>\n    </tr><tr>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh6tgzpmj21kw16odug.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww2.sinaimg.cn/mw690/89d0a2e1gw1fbmh6se50kj21kw16o4eg.jpg\" alt=\"\"></td>\n    </tr><tr>\n        <td><img src=\"http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh6r0zzzj21kw23u4qp.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh6lzvc1j21kw23u4qp.jpg\" alt=\"\"></td>\n    </tr>\n    <tr>\n        <td><img src=\"http://ww2.sinaimg.cn/mw690/89d0a2e1gw1fbmh6jd0pmj21kw16oh1d.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh6glzbgj21kw16ok9x.jpg\" alt=\"\"></td>\n    </tr>\n</table>\n\n塔鲁特岛是阿拉伯东北部最大的枣椰绿洲之一。这里在公元前三千年就已经与美索不达米亚形成贸易。从铭文能够看出和欧拉那里的石碑很像，纹路装饰又很偏东方。\n\n<table>\n    <tr>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh6f9bwzj21kw23u7wh.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh6d641oj21kw23u4qp.jpg\" alt=\"\"></td>\n    </tr>\n    <tr>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh6bbpnrj21kw23uqv5.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh68qq79j21kw23ukjl.jpg\" alt=\"\"></td>\n    </tr>\n    <tr>\n        <td colspan=2><img src=\"http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh65rirqj21kw16onn7.jpg\" alt=\"\"></td>\n    </tr>\n    <tr>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh612vkcj21kw23uu0x.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh63wjrnj21kw23unpd.jpg\" alt=\"\"></td>\n    </tr>\n</table>\n\n## 伊斯兰时期\n\n古阿拉博文明出现断层，后面的展品基本上出土于公元五世纪之后。麦加虽然离香料之路很远，但在公元 631 年，先知穆罕默德去世的前一年，他离开麦地那重返麦加。这里有就成为了伊斯兰教徒的朝圣之路。\n\n感觉进入七世纪之后，阿拉伯人就生活在一片命题作文中，古兰经的书本，古兰经的门窗装饰，古兰经的地毯，古兰经的香炉，甚至墓碑上除了自己的名字也要刻上古兰经，信仰的力量啊。\n\n<table>\n    <tr>\n        <td><img src=\"http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh5ykb26j21kw16ok84.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh5xdkpij21kw16oqjj.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh5winmtj21kw16o1bl.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh5uxjbcj21kw16o7m5.jpg\" alt=\"\"></td>\n    </tr>\n    <tr>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh5lrk51j21kw23u4qp.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh5s61p3j21kw23ub29.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh5q0zljj21kw23u7wh.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh5npu4aj21kw23u7wh.jpg\" alt=\"\"></td>\n    </tr>\n    <tr>\n        <td><img src=\"http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh5hnlwsj21kw23u7wh.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh5jx70rj21kw23uhdt.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh5755vmj21kw23ukjl.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww2.sinaimg.cn/mw690/89d0a2e1gw1fbmh54zc7mj21kw16o7oc.jpg\" alt=\"\"></td>\n    </tr>\n</table>\n\n记得看《旅行与读书》里面，作者讲述自己去印度购买毯子的经历，如今感觉十分相似，虽然那是印度，这是阿拉伯，但同样的异域文化，精美的艺术作品（虽然是命题作文）确实让人叹为观止。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh5thoc8j21kw16okdz.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh53xkmtj21kw16o4o3.jpg)\n\n<table>\n    <tr>\n        <td><img src=\"http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh502hzsj21kw23u7wh.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh4y3de7j21kw23ue81.jpg\" \n        alt=\"\"></td>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh4vyuvjj21kw23u4qp.jpg\" alt=\"\"></td>\n        <td><img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh4tv9ryj21kw23ub29.jpg\" alt=\"\"></td>\n    </tr>\n</table>\n\n这件镀金大木门在公元 1947 年克尔白天房更换新门之前，这扇门一直处于使用之中。\n\n![](http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh4py2uaj21kw16oaud.jpg)\n\n必须提到一个七十多岁的朝圣者，公元 15 世纪，他来到麦加进行了他的朝拜，却再也没回到故乡，他就是郑和。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh4ll56rj21kw16o4mz.jpg)\n\n![](http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh4kot47j21kw23u4qp.jpg)\n\n18 世纪，沙特一直以氏族部落存在，直到 1932 年沙特王国诞生，阿拉伯人成为了麦加的守护者。\n\n![咖啡壶](http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh4e0b97j21kw16ok6a.jpg)\n\n中文含义：万物非主，唯有真主；穆罕默德是真主的使者。清真言的念法 ：俩一俩海，印兰拉乎，穆罕默顿，赖苏论拉黑。其实想吐槽一点，作为三大教，只有伊斯兰教认为真主只有一人，不过看在真主安拉没有相貌，也可以认为他是上帝，也可以认为是佛祖(胡说哈，如有冒犯，十分抱歉)。比较有趣的是，南博有一个装置艺术，几面镜子相对，每面镜子分别有我国几个教派的象征，在一个特定角度，可以同框拍下太极八卦、释迦牟尼和耶稣，因为安拉没有真是相貌，所以代表伊斯兰的镜子上只有“安拉”两个字（估计作者没看到前面的那些石碑，要不也拿古兰经做个什么命题作文）。\n\n![清真言](http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh48qvilj21kw23uhdt.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh46ogm1j21kw23u7wh.jpg)\n\n![](http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh44wjfhj21kw23ue81.jpg)\n\n![](http://ww2.sinaimg.cn/mw690/89d0a2e1gw1fbmh42qpzjj21kw23uhdt.jpg)\n\n---\n\n走进沙特阿拉伯告一段落。后面还有点时间富裕，我就去别的馆看了一下。\n\n## 非洲木雕艺术\n\n不知道这个展是不是成常设展了，好像去年就在国博，我就进来拍了几张。\n\n![](http://ww2.sinaimg.cn/mw690/89d0a2e1gw1fbmh3qnwruj21kw16otsg.jpg)\n\n![](http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh3n7w0vj21kw16ok7p.jpg)\n\n## 卡塔尔珍珠展\n\n听《博物志》婉莹提过珍珠展，不知道是不是这儿，反正从展陈和珍珠的历史以及现代珍珠的养殖我也都略知一二了。对面的展厅正在为即将开展的卢浮宫展览准备，而这里已经水泄不通了，里面挤满了妹子，几个世纪以来，这种亮晶晶的碳酸钙一直吸引着妹子们的眼球啊。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1gw1fbmh36rivzj21kw23unpd.jpg)\n\n![](http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh399obhj21kw23ukjl.jpg)\n\n其实我顺便去了一趟古代馆听讲解，但是古代馆之前貌似写过了，就不写了，比较有趣的是，到明朝的时候，我发现金凤冠没了，原来搁这儿了。\n\n![](http://ww4.sinaimg.cn/mw690/89d0a2e1gw1fbmh3ghoofj21kw23ukjl.jpg)\n\n为了扣题，再添一句，所以清真的清真里没有牛拉，但可能有牛拉的调料囧。\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/01/14/Looking-at-the-east-the-Centennial-I-think-of-the-Louvre-in-Guobi.md","slug":"2017/01/14/looking-at-the-east-the-centennial-i-think-of-the-louvre-in-guobi","body":"\n# 东张西望——国博里的卢浮宫百年创想\n\n住在北京，最大的好处在于总能跟进国博最新的展览，而且可以选择在周日的下午去，这时候来旅游的人比较少基本上不用排队，于是在我得知国博的《卢浮宫的创想》展览之后我就打算来一趟了。\n\n起初我还是有些抵触的，基于上次阿拉伯展的经验，这次展览的陈设就别想多人性化了，至于展品，卢浮宫的《蒙娜丽莎的微笑》肯定是来不了的，而门票 50 啊！！！看了看微博，清一色的晒了下图，就是门票上的图，让•德•拉封丹大理石雕像，让德拉封丹是法国著名寓言诗人，其实我也不知道他是谁，但是他写过的寓言故事《乌鸦与狐狸》《龟兔赛跑》应该算是家喻户晓。至于它为什么放在入口处。。。可能是因为大吧～\n\n![门票图](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7qvpcnchj21kw11x4dy.jpg)\n\n毕竟在中国看到一次卢浮宫的展品十分少见，这 50 我还是掏了。但是你以为掏钱就能看了？我是 1 月 14 号（开展第二天）下午一点到达国博，此时国博已经几乎被排队的人群围了半圈 😲。\n\n![国博的队伍](http://wx1.sinaimg.cn/mw690/89d0a2e1gy1fcv27m2zoej21hc0u07rn.jpg)\n\n可是我已经经过了天安门的安检进来了，就这么出去实在不忍心啊。沉吟之际我看到了对面的太庙，就这样我去了太庙。\n\n本文完。。。\n\n逗你的 🤣，大概三点左右，我从太庙出来，正赶上国博排队的队伍短了一些，三点半就结束放票了，最后我赶在三点二十进入国博，还是很幸运的哈。\n\n然而到了展厅，还是要排队。对了卢浮宫展厅在珍珠展对面，阿拉伯那篇文章说过，珍珠展很挤，现在依然很挤，所以不要排错队。\n\n博物馆是用来炫耀的，没有错，起码卢浮宫是这样，从最初的王宫，到后来的艺术馆，又到最后的博物馆，炫耀的就是这个时期当政者的艺术品味和国家的强大。\n\n![卢浮宫大事记](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7qw6gw0lj211x1kwkam.jpg)\n\n![展厅地图](http://www.chnmuseum.cn/Portals/0/web/zt/20170113louvre/img/visit01.jpg)\n\n# 进入展厅“大卢浮宫计划”\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7qvuiydij21kw11xanw.jpg)\n\n就如之前我提到的入口展厅一边是让德拉封丹的雕像，另一边是《古地亚王子石雕像：献给巴乌女神》,新苏美尔文明公元前二世纪的文明，古地亚是拉格什第二王朝的国王，古地亚时期的拉格什已成为苏美尔地区的政治经济中心，背上还有铭文，刻的是：狼烟起，江山北望。。。（逗你的，我也看不懂）。\n\n<table><tr>\n<td>\n<img src=\"http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7qvsd08uj211x1kwaqf.jpg\">\n</td>\n<td>\n<img src=\"http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7qvtcd3qj211x1kw186.jpg\">\n</td>\n</tr></table>\n\n下面是古希腊的战马雕塑，04 年被买入卢浮宫。\n\n![战马雕塑](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7qvx9x5kj21kw11x7ij.jpg)\n\n## 石像身后的临摹作品\n\n战马位于中央展厅左手边，旁边就是一些手稿，刚才看卢浮宫大事记的时候提过卢浮宫曾一度作为艺术馆，所以这里有很多名画家临摹的手稿（就像我上次去美术馆里很多小孩子去临摹）。\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s900ni5j211x1kwwz0.jpg)\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7qwh9k5ij211x1kw000.jpg)\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7qwgaip3j21kw11x1aj.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7qvwci6mj21kw11x160.jpg)\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7qvvdej0j21kw11xqg3.jpg)\n\n接下来，看完几幅手稿就是一个杂物展柜，说是杂物展柜并不是说东西不好，基本上是些小玩意儿，我当时完全不知道为什么把这些东西放在这里能展现出”大卢浮宫计划“。现在回想起来，貌似这些玩意儿都是来自于卢浮宫不同展馆的（P.S.特别注意到，这次展览的中国作品都不是当年”抢“走的那些，估计是要是真把那些佛像搬过来，我们就不必劳烦他们搬回去了）。\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7qw4focej21kw11xanr.jpg)\n\n这是多米诺骨牌\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7qw3gw1hj21kw11x4dc.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7qw2ipi9j21kw11xdtk.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7qw1exoij21kw11xn9e.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7qw0huhvj211x1kw7hv.jpg)\n\n按照展厅地图，应该是揍左手边看，但是大多人都被让得拉封丹吸引了，它后面是一些老的卢浮宫沙盘，分别代表不同时期卢浮宫的样子（是挂在墙上的，毕竟空间有现嘛～）。\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7qvzjoxkj21kw11xh64.jpg)\n\n好了，到了本厅的重点，贝聿铭和他的玻璃金字塔，这里就得说一下国博的展陈了，这张照片放在最角落里（沙盘旁边，让得拉封丹右手边），一个文字解释都没有，看到的人还在纳闷，为啥这儿有张猥琐的中国老头儿的自拍 😂。\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7qvyfztkj21kw11xwu2.jpg)\n\n# 今日卢浮宫（不按常理出牌地去了右手边）\n\n看地图确实有一个今日卢浮宫的展区，但其实就是一两个展柜，下面几个都是在“今日卢浮宫“展厅里面拍到的，估计是比较新的展品，而且基本上是赠予卢浮宫的（国人印象，卢浮宫的作品必须要么是抢来的要么是花钱买来的才值钱），所以关注度并不高，还能拍几张好点的照片。\n\n这是一个位于卢浮宫伊斯兰馆的一个玉杯，至于为什么堆放在门口的展馆，可能因为它贵吧。。。\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7s8ysnanj21kw11x7ik.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7s8xxnunj21kw11xao0.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7s8x1y2lj211x1kwh1y.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7s8vwia2j21kw11xtob.jpg)\n\n# 宫殿与王室收藏\n\nOK，看完了混乱的”大卢浮宫计划“，看看按照大事记表排列的”宫殿与王室收藏“展区。\n\n## 先看历史\n\n下面是法国国王亨利二世雕像，他兴建了卢浮宫防御堡。\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7qw8aw82j21kw11xqi4.jpg)\n\n法国国王弗郎索瓦一世，他重建卢浮宫主塔，使得卢浮宫文艺复兴风格建筑特点得以确立。\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7qw9gqv6j21kw11xqh9.jpg)\n\n法国波旁王朝的国王路易十四，作为一个文青兼国王，他统治时期的法国是欧洲当时最强大的国家，他开始在卢浮宫展览当时的艺术作品，同时建造了凡尔赛宫。\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7qwagmytj21kw11xwxy.jpg)\n\n奥尔良公爵菲利普半身像，路易十四的弟弟。\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7qwbh7q7j211x1kw7mm.jpg)\n\n## 瞧瞧收藏\n\n《白昼、黑夜（仿米开朗其罗作品）》，《昼》、《夜》、《晨》、《暮》是米开朗基罗为朱利亚诺•德•美第奇陵墓创作。米开朗基罗的作品往往肌肉线条明显，人的动作扭曲，我曾在初中特别迷恋米开朗基罗，崇拜他的处事风格和他的作品，导致我现在对这种身材有一点蜜汁追捧囧。\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7qwdftrbj21kw11xqil.jpg)\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7qwcdlcmj21kw11xh3j.jpg)\n\n文青嘛，就爱收集一些看似没用，实则也没用的东西，路易十四也不例外。\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7qwfc941j21kw11x18u.jpg)\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7qwecv66j21kw11xtn3.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7s7strphj21kw11x4cm.jpg)\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7s7ryclrj21kw11xh1v.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7qwk49dgj21kw11x4dz.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7qwj3w3hj21kw11x4e7.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7qwi7zh4j21kw11x1dq.jpg)\n\n# 思想启蒙\n\n思想启蒙使得人们认为把越多的国家宝藏放到卢浮宫是一种正确的做法，于是越来越多的作品被放到卢浮宫，而卢浮宫也在也不是存放国王的私有财产的地方了。看看人家知识分子保护文物成就了一个博物馆，我们的知识分子成就了航空快件@某蒋。\n\n雕塑家安托万•柯塞沃克的自塑像\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7qwpqkwmj21kw11xk62.jpg)\n\n《密涅瓦与玛尔斯之战》\n\n这幅作品是画家为皇家绘画与雕塑学院大奖赛而作，曾由学院收藏。\n\n雅克-路易•大卫是法国大革命时期的杰出画家，新古典主义的代表人物，他创作了一系列肖像画和历史画。年轻时大卫刻苦认真地向普桑、布歇、格勒兹和卡拉瓦乔学习，早期创作从古希腊、古罗马的传说和艺术中寻求美的源泉和理想。大革命时期，他的作品充满了时代革命气息，具有鲜明的政治思想倾向，并将古典主义的艺术形式和现实的时代生活相结合。后来他又为拿破仑服务，成为帝国的首席画家。\n\n密涅瓦就是女神雅典娜，她是智慧、勇敢、贞洁的象征，还是神圣不可侵犯的女战神。战神玛尔斯侵犯了雅典娜，他们一比高下，结果雅典娜战胜了玛尔斯，其正义形象的表现具有更多现实主义的寓意。\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7qwovroij21kw11xql5.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7qwnuiiuj21kw11xnci.jpg)\n\n《大理石雕塑：柱子旁的耶稣》\n\n这是皇家绘画和雕塑学院的入院作品，创作于 1767 年， 1793 年 8 月法国大革命中被查封，约 1849 年入藏卢浮宫。雕塑表现的是耶稣承受鞭刑的场景，是学院入院作品中罕有的以基督教人物为主题的作品。\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7qwmx68aj211x1kwdwz.jpg)\n\n这件浮雕出自雕塑家尼古拉•古斯都之手，是其 1693 年为加入皇家绘画和雕塑院而创作的入院作品，约于 1849 年入藏卢浮宫。在当时，每位要进入皇家学院成为其一员的画家、雕塑家和版画家都必须创作一件入院作品。\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7qwlxyhjj211x1kwapo.jpg)\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7s8o9f7kj211x1kw4dh.jpg)\n\n青铜香炉\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7s8p0r0ij211x1kwqgy.jpg)\n\n玛丽•德•美第奇（1573—1642 年），法国国王亨利四世的王后，路易十三的母亲。她是意大利佛罗伦萨豪门美第奇家族的第二位法国王后，她摄政期间，拓建了香榭丽舍大街。\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7s8s39p1j211x1kwwsj.jpg)\n\n卧榻上的维纳斯\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7s8r3y45j21kw11xaun.jpg)\n\n环形壶\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7s8pulyjj21kw11xdvx.jpg)\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7qwl3yeaj21kw11x1eq.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7s7ztx2hj21kw11xtx3.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s7yskrlj21kw11xwzi.jpg)\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7s7xw9fxj21kw11xqib.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s7w5m6wj211x1kw7ox.jpg)\n\n查理十世,法国波旁王朝复辟后的第二位国王，末代国王，路易十五之孙。11824 年路易十八去世，他登位，称查理十世。查理十世在继位前的封号是阿图瓦伯爵，他是路易十六和路易十八的弟弟，在 1824 年登上王位。他一直统治到 1830 年“七月革命”爆发，这次革命导致了他的退位，这之后，奥尔良公爵路易·菲利普被选为国王。1830 年，查理十世被推翻，流亡英国。 1848 年，路易·菲利浦（Louis Philippe I）被推翻，流亡英国。\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7s7uwpfuj211x1kwncz.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7s7tv2u9j211x1kwasd.jpg)\n\n《1789 年 6 月 23 日的米拉波和特勒·布莱兹》以近乎印象派的手法记录了法国大革命前夜波诡云谲的紧张气氛（此画作于 1830 年，德拉克洛瓦于当年还创作了《自由引导人民》）\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s8uzk2bj21kw11x18z.jpg)\n\n《密涅瓦与尼普顿为雅典而争执》\n\n密涅瓦（罗马神话中的女神）和尼普顿（罗马神话中的海神）为雅典的统治权发生争执，结果是裁判官种下一棵橄榄树，等于宣布密涅瓦获得胜利。\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7s8tzzkmj21kw11xka2.jpg)\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7s8t4g8dj21kw11x7ks.jpg)\n\n# 万国博物馆\n\n看到这里已经 4 点半，国博开始赶人了，只好放弃拿破仑部分直接去看万国博物馆。\n\n《筹备圣-塞巴斯蒂安的殉难》\n\n这幅油画由医生、慈善家和大收藏家路易•拉•卡兹(1798 – 1869 年)捐赠。他捐赠的 583 幅油画曾是卢浮宫博物馆接受的最重要的私人捐赠。\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s8mi4npj211x1kwaqk.jpg)\n\n《步入魔法森林的雷诺》\n\n让·奥诺雷·弗拉戈纳尔，法国洛可可风格画家。\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7s8kql2sj21kw11xdx5.jpg)\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7s8jui0fj21kw11x4c4.jpg)\n\n《亚历山大-查理•索瓦若大理石雕像》\n\n亚历山大-查理•索瓦若（1781-1860 年）是一位收藏家、小提琴家、捐赠人，同时还是皇家博物馆的名誉馆长。\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s8j1m1fj21kw11xk9f.jpg)\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7s8ib5hpj21kw11xe15.jpg)\n\n奈斯曼《亡灵书》称量心脏图\n\n亡灵书是写有葬礼祝祷词的莎草纸卷，绘有逝者在前往另一个世界的过程中，面对不同神灵的场景。它通常放置于墓穴中木乃伊的附近，或在木乃伊裹布里贴身放置，伴随逝者前往死后世界。\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7s8hbbg2j21kw11xqio.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s8ggqidj21kw11xwuu.jpg)\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7s8fhhstj21kw11xk7l.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s8eihxij211x1kwap0.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s8cpbujj211x1kwarl.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s8bimq0j21kw11x1aj.jpg)\n\n建筑构件：人头牛身神像砖 公元前 1150-前 1120 年（伊朗埃兰王朝中期，西尔哈克-印舒希纳克统治时期）\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7s8aobgvj211x1kwqj1.jpg)\n\n建筑构件：弓箭手彩釉砖，这幅弓箭手彩釉砖来自波斯帝国的君主大流士一世（公元前 522-前 486 年在位）王宫内以军队为主体的一组釉砖装饰壁画。壁画中的人们手持长矛、弓箭和箭筒，可能是国王不死的卫士或者代表理想中的波斯人的形象。\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s89p12bj211x1kwwww.jpg)\n\n伊尔尼乌代夫的陪葬俑盒子,护身符、陵寝侍者、亡灵书将在坟墓中陪伴死者，以保证他们死后舒适的生活。因为人们在陵寝中放置的小塑像越来越多，于是这种盒子就应运而生。盒子通常为木制，一般绘有逝者在欧西里斯神前祈祷的葬礼场面。\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7s88t2vmj21kw11xqki.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s87tfhcj211x1kwh0f.jpg)\n\n扛罐外国人造型的木香粉勺,这种勺子被称为“香粉勺”，在其勺柄上特意进行艺术加工，装饰带有舞蹈、音乐等田园式或生活化的图案。这样的题材可能是为配合与享乐相关的礼物进行赠送，反映了埃及新王朝时期上流社会人们的想象场景。\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7s8705oyj211x1kwnbm.jpg)\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7s862zekj211x1kwtoa.jpg)\n\n旁杜阿和父亲迪迪的石雕像，木匠旁杜阿与他的父亲迪迪双膝跪地，向冉冉升起的太阳献上赞歌，赞歌便刻在太阳船的下方。太阳神是埃及万神殿的第二大神，他的意愿决定了逝者能否得到完美的永生。\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7s856wusj211x1kw18x.jpg)\n\n赫努塔奈布的陪葬侍俑\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7s84aeb2j211x1kwtnc.jpg)\n\n阿蒙神祭司伊姆纳米佩特和妻子塔美鲁的雕像。这组人像曾被放在墓室中，或为神庙的祭礼。\n19 世纪末被发掘而为公众所知，曾引起巨大轰动。\n在雕像背面，有给底比斯众神的祝祷词：在雕像背面，有给底比斯众神的祝祷词：请国王向阿蒙神、穆特女神、洪苏神，以及所有底比斯的保护神献上祭品，请求他们保佑我的塑像永远立于他们的神庙之中，我的口中永远有他们赐予的食物，我每日出入墓地而不会被另一个世界所拒绝，在山谷节（纪念逝者的节日）时，我能得到底比斯老爷们给伊姆纳米佩特的面包。\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7s83fv5ij21kw11xtmn.jpg)\n\n阿蒙神祭司伊姆纳米佩特和妻子塔美鲁的雕像 约公元前 1425 年\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7s82m3zrj21kw11xdur.jpg)\n\n《乌尔玛乌石碑》\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s81nfbaj211x1kwqmn.jpg)\n\n书记官坐姿石像\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7s80nahwj21kw11x4c8.jpg)\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/01/15/Experience-the-feeling-of-an-emperor-who-was-hit-into-the-cold-palace.md","slug":"2017/01/15/experience-the-feeling-of-an-emperor-who-was-hit-into-the-cold-palace","body":"\n上次国博卢浮宫展一文，我说国博人太多，又不想出天安门于是去了太庙，那么这次就说说太庙。\n\n太庙这个地方不必多解释，就是国家供奉皇帝先祖的地方，因为清时期留下来的，现在做旧如旧，如今也是也保留清的布陈（哎呀，太无聊了）。\n\n# 软禁皇上\n\n来太庙除了挤，另外一个原因就是我当时正在二刷《明朝那些事儿》，朱祁镇和朱祁钰那一部分很有意思，朱祁镇被软禁在南宫，和皇宫一墙之隔，而这个南宫便是现今的南池子一带，南池子就在太庙东面，再加上太庙里面有很多明朝太子们的手植古树，西面就是午门售票大厅高耸的角楼，活脱脱的一种皇帝冷宫的感觉（起码乌鸦多是真真儿的）。\n\n![午门](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7qvmdcrwj211x1kwqlq.jpg)\n\n![乌鸦](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7pfbibiqj21kw11x4ja.jpg)\n\n![天安门](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7pfclvk2j21kw11x7wh.jpg)\n\n# 没有人海，只有古建\n\n文艺青年到一个地方肯定是要来一张美美哒的自拍的，可是基于国情，故宫（尤其是三大殿）拍出的效果应该如下：\n\n> 众众众众众众众你众众众众众众众\n\n可你万万不会想到，旁边的太庙花两块钱就能进去，而且拍到的可以点不比三大殿差。\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7qvfuwfjj21kw11x1kx.jpg)\n\n![正门](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7pffxe5xj21kw11x4qp.jpg)\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7pfahwfqj21kw11xha6.jpg)\n\n![太庙内部](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7qvle7q2j21kw11x7o2.jpg)\n\n![太庙内部](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7qvkc51kj21kw11xawm.jpg)\n\n![太庙内部](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7qvijsc3j21kw11x7px.jpg)\n\n![龙](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7qvhppsqj21kw11x7tg.jpg)\n\n![狮子](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7qvgrjdgj21kw11x7rq.jpg)\n\n![凤凰](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7qvato28j21kw11x7na.jpg)\n\n# 野史情怀\n\n太庙东面有个小院子，沿着石阶登高，能够看到墙外的胡同的民居。这不得不让我联想到很多野史里面，皇帝干死某位大臣就是因为一天他兴起登高发现那个大臣的房子比自己的宫殿还高，想想这一景在故宫里面还真找不到呢。\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7pf8jhcnj211x1kw7wh.jpg)\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7pf75bkmj21kw11xazx.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7pf61rg4j21kw11x7wh.jpg)\n\n","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/01/17/VScode-Python-python3.6.md","slug":"2017/01/17/vscode-python-python36","body":"\n本来想写一篇pyqt+qml的文章，结果今天打开VScode发现Python不语法提示了。打开开发者模式，发现一直在报错，gramar3.6 not found。\n\n打开```~/.vscode/extensions/donjayamanne.python-0.5.5/pythonFiles/preview/jedi/parser```找到里面的```grammar3.5.txt```复制为```grammar3.6.txt```\n\n重启VScode就好了。","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/01/18/PyQt-QML.md","slug":"2017/01/18/pyqt-qml","body":"\n> 翻了翻以前保存的书签，发现了一个pyQt和QML的开发总结，代码跑起来还是有点错误，但是还是比官网的tutorial更简单直观一点。还能从里面找一点hybrid开发的idea（因为QML其实也是一种ECMAScript引擎实现）。\n\n# 在QML上下文插入变量\n\n在```view.setSource```之前将变量插入上下文之中。\n\n```python\nfrom PyQt4.QtDeclarative import QDeclarativeView\nfrom PyQt4.QtGui import QApplication\nfrom PyQt4.QtCore import QUrl\n\napp = QApplication([])\n\nview = QDeclarativeView()\n\nrootCtx = view.rootContext()\nrootCtx.setContextProperty(\"textData\", \"hi\")\n\nview.setSource(QUrl('ctxProp.qml'))\nview.show()\n\napp.exec_()\n```\n\n```qml\nimport Qt 4.7\n\nRectangle {\n    id: test\n\n    width: 1000; height: 300\n\n    Text {\n        \n        anchors.fill: parent;\n        text: textData\n    }\n}\n```\n\n# PyQt修改QML中变量\n\n这样可以先加载qml再修改内部的值，注意```property```后面是有类型的。\n\n```python\nfrom PyQt4.QtDeclarative import QDeclarativeView\nfrom PyQt4.QtGui import QApplication\nfrom PyQt4.QtCore import QUrl\n\napp = QApplication([])\n\nview = QDeclarativeView()\nview.setSource(QUrl('./ownProp.qml'))\n\nrootObj = view.rootObject()\nrootObj.setProperty(\"textData\", 'hi')\n\nview.show()\napp.exec_()\n```\n\n```qml\nimport Qt 4.7\n\nRectangle {\n    width: 1000\n    height: 300\n    id: test\n    \n    property string textData;\n\n    Text {\n        \n        anchors.fill: parent;\n        text: textData;\n    }\n    \n}\n```\n\n# 消息传递\n\nQT最主要的就是它的信号槽机制，对我的影响也很很大，以至于我现在的组件开发也在用这一套思维。那么QT怎么和QML内部进行消息传递呢？\n\n```python\nfrom PyQt4.QtDeclarative import QDeclarativeView\nfrom PyQt4.QtGui import QApplication\nfrom PyQt4.QtCore import QUrl\n\napp = QApplication([])\n\nview = QDeclarativeView()\nview.setSource(QUrl('./signal.qml'))\n\ndef on_click():\n    print(\"hi\")\n\nrootQbj = view.rootObject()\nrootQbj.mclicked.connect(on_click)\nrootQbj.setProperty('name','hello')\nview.show()\napp.exec_()\n```\n\n```qml\nimport Qt 4.7\n\nRectangle {\n    width: 1000\n    height: 300\n    id: test;\n    signal mclicked;\n    property string name;\n    \n\n    Text {\n        anchors.fill: parent;\n        text: name\n    }\n\n    MouseArea {        \n        anchors.fill: parent\n\n        onClicked: {\n            mclicked();\n        }\n    }\n    \n}\n\n```\n\n# 调用QML内部函数\n\n```python\nfrom PyQt4.QtDeclarative import QDeclarativeView\nfrom PyQt4.QtGui import QApplication\nfrom PyQt4.QtCore import QUrl\n\napp = QApplication([])\n\nview = QDeclarativeView()\nview.setSource(QUrl('./interface.qml'))\n\ndef on_click():\n    rootObject.set_text('Clicked')\n\nrootObject = view.rootObject()\nrootObject.mclicked.connect(on_click)\n\nview.show()\napp.exec_()\n```\n\n```qml\nimport Qt 4.7\n\nRectangle {\n    width: 1000\n    height: 300\n    color: \"transparent\"\n    id: test\n    signal mclicked\n    Text {\n        id: testText\n        \n        anchors.fill: parent\n        \n        text: \"Click Me\"\n    }\n    MouseArea {\n        anchors.fill: parent\n        onClicked: {\n            mclicked();\n        }\n    }\n    function set_text(text) {\n        testText.text = text\n    }   \n}\n```\n\n就酱，后面再写一篇QML调用js的文章吧🤔。","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/01/22/Those-things-in-the-Ming-Dynasty.md","slug":"2017/01/22/those-things-in-the-ming-dynasty","body":"\n# 明朝那些事儿\n","collection":"blog","data":{"type":"post","category":"book"}},{"id":"2017/01/24/Troubles-on-the-train-grocery-store.md","slug":"2017/01/24/troubles-on-the-train-grocery-store","body":"\n![解忧杂货店](https://img1.doubanio.com/lpic/s27284878.jpg)\n\n年度唯一可以像 **_This is us_** 一样让你对鸡汤产生好感的故事。\n\n# 六个小时的车程\n\n读这本书的时候，我正在做着和很多中国人一样循环，就是在一年之尾，逃离那个你觉得能够造梦的地方。\n\n北京到大连的直线距离并不远，然而因为渤海的原因，前往大连要绕一个圈（就和我每天上班要绕过长河才能到中关村一样）。虽说沿线靠海，但我觉得应该比不上台湾的沿海铁路吧，虽说只要前往东北，就一定要在冬天看看山海关两头，东方是白雪皑皑，西面则是枯树青松，可这景色见的多了便不觉得稀奇了。\n\n# 意外的选择\n\n看看书吧，我拿起了我的 kindle，这是从某宝上面淘来的二手货。为了能够保持读书习惯，我特地选了分期，这样，每个月初，账单就会提醒我还有书没看呢。\n\n其实最开始我读的是《算法的乐趣》，原因是路上无聊的话可以解解算法来解闷儿，可惜车厢不比图书馆，实在是太·闹·了 😭，除了后面的哇哇大哭的小孩，还有邻座的大哥一直在跟旁边的女生吹自己多有钱（那么有钱还坐二等座）。于是我滑了一下主页，正好翻到了《解忧杂货店》。\n\n# 故事就这么开始了\n\n东野圭吾的小说，应该是部推理小说吧，比方说杂货店的大叔干了什么事被人杀了怎样的，那么跟算法书一样了，我带着这样的猜想翻开了这本书（不想剧透太多，可能有些读不懂）。\n\n开始故事挺无聊的，至少我这么认为，三个小偷，也许是强盗（哎呀剧透）跑路逃到了一个破废的杂货店，然后是一堆废话（当然后文证实不是），最后一件事吸引了我。\n\n> 噗通，一封信从铁卷门上的邮递口投进来。（不是原文的话，大略复述）\n\n周围没有人，三人看了信，是从另外一个时空投过来的，是一个问题，而时空的另一端，一个姑娘在等待着牛奶箱里的答案。\n\n故事从这里变得精彩，然后的故事，三人解决了姑娘的问题紧接着又解决了后面的一人的困惑，紧接着由此人引出为什么人们会去这家杂货店问问题，又引出杂货铺主人对解决别人问题的态度和他为什么会这样，最后三人在解决一位”迷途的小狗“的问题后决定自首，而观者会发现，整个故事又是走到了一个闭环（这是只有写推理小说的人才有的逻辑吧）。\n\n---\n\n毕竟是带了那么点儿科幻性质，就别管杂货店因为爱而变成时空虫洞的可行性了，还有小姑娘为什么只听了一次口琴就能记下来曲子，还有三人在室内能听见另一时空的口琴，室外却不能听到屋内的动静（看《白夜行》的时候我可是一直在查早期银行是不是账户和密码写在此片上面呢）。全心全意的灌鸡汤吧。\n\n这本书看起来很轻松温暖，听说今年要拍成电影了，内心还有点小期待呢。\n","collection":"blog","data":{"type":"post","category":"book"}},{"id":"2017/01/25/The-only-invaders-museum-in-the-country-Lushun-Museum.md","slug":"2017/01/25/the-only-invaders-museum-in-the-country-lushun-museum","body":"\n# 全国唯一的侵略者博物馆——旅顺博物馆\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7u0bvkpmj21kw11x4qp.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7u0dpnwzj21kw11x1kx.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u0en1y5j21kw11xtsb.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u0gizegj21kw11xh1a.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u0h9xxcj21kw11x7j3.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7u0i51dbj21kw11xtn2.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u0ixgsfj21kw11x167.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u0jn04mj21kw11xqfs.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u0kc29vj21kw11xwrl.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u0l0k5hj211x1kwna7.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u0lpzg3j21kw11x16o.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u0mg8x5j21kw11xao6.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u0ob6sej21kw11xdui.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7u0p9st1j21kw11xqgz.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u0si1h1j21kw11x7ik.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u0t9c96j21kw11xqhd.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u0udc49j21kw11xwqt.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u0v3xcoj211x1kwtlm.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u0vzc5oj21kw11xdtr.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u0wv1e6j21kw11xam8.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u0y1whwj21kw11x4br.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u1037ccj21kw11xqg5.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7u112s8hj21kw11xk6j.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7u12vfo3j21kw11xqid.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u13tj4vj21kw11xwsa.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u16kqk1j21kw11xtob.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u17m2gmj21kw11xwyv.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7u18ierrj21kw11x160.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7u19iuysj21kw11xdsc.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u1amfmlj21kw11x4e2.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7u1bm5aej21kw11xk5y.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7u1h0rbrj211x1kw1fr.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7u1hz8dxj21kw11xdyd.jpg)\n\n# japan\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u1j0iyhj21kw11xttb.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u1jx99vj21kw11xas9.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7u1ks9xjj21kw11xton.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7u1lvtzzj21kw11x1fs.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u1mz46fj21kw11x4m9.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7u1o97z5j21kw11xqpa.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u1pe23kj21kw11xqli.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u1qer04j21kw11xwwo.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7u1rm7gvj21kw11xkds.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7u1smj2qj21kw11xe2e.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u1tqw6bj211x1kwnjg.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u1umxzgj21kw11xari.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u1vn140j21kw11x4h8.jpg)\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7u1wsea7j21kw11xkew.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7u1y3gk3j21kw11xh82.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7u1z3osfj21kw11xnfo.jpg)\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ucb7dfnj21kw11x4ew.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ucbym4dj21kw11xk7g.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uccqveyj211x1kw19l.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ucdq2dwj211x1kw1b7.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ucfuaqqj21kw11xh5h.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uchm3klj21kw11xww0.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ucihw6aj21kw11xtpi.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ucjg4w3j21kw11xdyv.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uckbly2j21kw11xngf.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ucl6er9j21kw11xkaf.jpg)\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uclygzsj211x1kwne5.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ucmq81sj21kw11xaq8.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ucnldx2j211x1kw4jh.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7ucpa57zj21kw11xwy6.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7ucq5szij21kw11xtwp.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ucr0piij211x1kwkia.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ucrv9s7j21kw11xha8.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ucso9stj21kw11xe4r.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uctj4rmj21kw11x1kx.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7ucuckw0j21kw11xax8.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ucv5az8j21kw11xnjr.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ucvxiocj21kw11xx15.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ucws1wrj21kw11xdx5.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7ucxn9j3j21kw11xaqz.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ucyl216j211x1kw7kf.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uczfrx7j21kw11x4fo.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ud16c69j21kw11x000.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ud20cwej21kw11xdzv.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ud2r4ecj21kw11xapr.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7ud4eg34j21kw11xamu.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ud5aaxxj21kw11x7o2.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ud8t3cjj21kw11xkcj.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ud9qbuhj21kw11xtv5.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7udajch5j21kw11xh7z.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7udcsikgj21kw11x4hi.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uddk2n9j21kw11xdxo.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7udg4bmmj211x1kwwva.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7udgu05yj21kw11xap6.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7udhkq56j21kw11x7nk.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7udiaklvj21kw11x7kd.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7udiaklvj21kw11x7kd.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7udj7v5yj21kw11x4j3.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7udk1j5yj21kw11xts0.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7udl0irnj21kw11xkjd.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7udmcv3zj21kw11x7mw.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7udnc4qqj21kw11xki1.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7udo9u0ej211x1kwql6.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7udqnuf5j211x1kw4fz.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7udrflyzj211x1kw4lk.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uds6x46j211x1kwnf7.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7udtybk0j211x1kw7on.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uduq1ccj21kw11xdyi.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7udwdf90j21kw11xaqn.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7udx8a3pj21kw11x7pc.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7udy3zpwj211x1kw7m4.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7udz1en9j21kw11xx4f.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7udzs5p8j21kw11x7jh.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7ue0ocyxj21kw11xtsz.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ue1ie9fj21kw11xx0m.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ue32h4aj211x1kw18x.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ue3u2kxj21kw11xk69.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ue4jxxij21kw11xgz7.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ue5hiq7j21kw11xh0x.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ue6b6a1j21kw11xdtm.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7ue7q3hpj21kw11x18b.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ue8lntyj211x1kwndi.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ue9k4q6j211x1kw17j.jpg)\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ueajd5oj211x1kwh31.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uebiekzj21kw11xdvy.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ueci46lj21kw11xngq.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uedbf6wj211x1kwtnp.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uee7efcj21kw11x19v.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ueexyjhj211x1kwduo.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uefo6j3j21kw11xh1e.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uhd7dotj21kw11xncq.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uhdzbczj211x1kw4f8.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uheovqtj21kw11xqgq.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uhfm6wpj21kw11x4c9.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uhgfnsjj21kw11x185.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uhhe43mj21kw11xwtn.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uhileacj211x1kwwsg.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uhkbld2j211x1kw4f6.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uhlyggyj21kw11xh4g.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uhmrl0aj21kw11xnck.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uhnjtvjj211x1kwtno.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uhojdsyj211x1kwdw5.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uhpal6xj211x1kwkb9.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uhq57byj211x1kwwtg.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uhqwscsj21kw11xtpj.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uhrnyzlj21kw11xh1h.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uhsf2c6j211x1kwh0n.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uhtp9gwj211x1kwaqy.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uhufzpvj211x1kw189.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uhvoylaj21kw11xk98.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uhwexufj21kw11x4dq.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uhx8v8aj21kw11x4ct.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uhxzkr2j21kw11x1a5.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uhyphyjj21kw11xar7.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7ui0q5q5j21kw11xarw.jpg)\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ui2crhsj21kw11xqj4.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ui33mzhj21kw11xnfv.jpg)\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ui43301j21kw11x7jt.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ui4vjwij21kw11x4es.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ui5osu7j21kw11xh45.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7ui6f3lpj21kw11xqjf.jpg)\n\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ui757twj21kw11xtpv.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ui80hs4j21kw11xtut.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ui9tjfuj21kw11x4ji.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uiapvh1j21kw11x7ka.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uibpw5yj21kw11xarr.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uickldtj21kw11xnf5.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uidgbfej211x1kwtn6.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uie8362j211x1kwh48.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uif1wghj21kw11x19m.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uifuxqmj21kw11xwuh.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uigp1wfj211x1kwqjo.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uihgswfj21kw11x4h5.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uiibdqdj21kw11x7ka.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uij6pemj211x1kwqk6.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uik27wuj211x1kw4fk.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uil0r9rj211x1kwka0.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uilrom1j21kw11x4ia.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uimoxtrj21kw11xdzg.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uinhcq4j21kw11xkb7.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uio8kjqj211x1kwwvy.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uip267wj211x1kwaqj.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uipredxj211x1kwh14.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uiqi10pj211x1kwap7.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uirpj4oj211x1kwtpd.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uisodtbj211x1kw7jy.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uiya2mhj21kw11xngm.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uiz3tg5j211x1kw7oy.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7uizzmpaj21kw11x7m3.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uj0sr70j21kw11xncl.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uj1l258j211x1kw4fz.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uj2d488j211x1kwas2.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uj3558mj211x1kwqo1.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uj488bwj21kw11xdxx.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uj5236tj211x1kwapk.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uj5s30kj21kw11xarg.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uj6l2ajj211x1kwqpr.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7uj7cpbhj211x1kwat3.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7uj8xfmwj21kw11xncv.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7uj9q5cgj21kw11xnck.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ujah1r7j21kw11x1bl.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ujf6sbkj21kw11xqng.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ujguzomj211x1kw17k.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ujkojwbj21kw11xtmc.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7ujleopfj21kw11xtnh.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ujm7s74j21kw11xdxb.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7ujn23qlj21kw11xx5j.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ujnub3lj21kw11x1aq.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ujool64j21kw11xqtx.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7ujpogahj21kw11x7wh.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7ujqudhqj21kw11xkhf.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7ujrqe1pj21kw11xkf7.jpg)\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/01/26/Dalian-Modern-Museum.md","slug":"2017/01/26/dalian-modern-museum","body":"\n# 大连“现代”博物馆\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7umkynsvj21kw11xndb.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7umlp7mfj21kw11x4h5.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7ummh8msj21kw11xk8z.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7umnaxzmj21kw11x7kf.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7umolmmjj21kw11x19q.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7umpdkzrj21kw11xqi4.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7umq4or3j21kw11x4gl.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7umryr49j21kw11xdw8.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7umsp19zj21kw11xqkh.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7umtexwsj21kw11x4dy.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7umuaqz5j21kw11xk9e.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7umv4gxij21kw11xapn.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7umw6av4j21kw11xtrx.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7umwxkvxj21kw11x4eo.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7umxo3stj21kw11xnes.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7umyiranj21kw11xqnq.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7umzbptnj21kw11xh1r.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7un03et3j21kw11xdx9.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7un0xv1ej21kw11xtq5.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7un1pxf5j21kw11xnf2.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7un2kmcmj21kw11x1au.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7un3cf7rj21kw11x17c.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7un43426j211x1kwka2.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7un4vi8fj21kw11x7nf.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7un5mugzj21kw11x1c3.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7un6eeqzj21kw11xk6l.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7un77uslj21kw11xk69.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7un81s1vj21kw11x4qp.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7un9qrzmj21kw11xh1h.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7unam79jj21kw11xdwk.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7unc68mzj21kw11xk9g.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7unczo3jj21kw11xwtl.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7undumh2j21kw11x7mw.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7unep4ckj21kw11xkab.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7unfi9bgj21kw11xkcs.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7unfi9bgj21kw11xkcs.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7ung9inuj21kw11xwyq.jpg)\n![](http://wx3.sinaimg.cn/mw690/89d0a2e1ly1fc7unh1wxbj21kw11xngo.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7unhvjdbj21kw11xwye.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7unimxyxj21kw11xh6m.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7unjf3c8j21kw11xary.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7unk6jfqj21kw11x1c5.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7unl07v2j21kw11x7nj.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7unlxbnbj21kw11x4gv.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7unmrs2tj21kw11xtq3.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7unnmwtvj21kw11xh51.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7unoep6sj21kw11x7l3.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7unp5da3j21kw11x4dn.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7unpy89yj21kw11x4jb.jpg)\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7unrqkqej21kw11xwyn.jpg)\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7unslxr8j21kw11x4kr.jpg)\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fc7untgbf9j211x1kw199.jpg)\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7unu9ijxj21kw11xqlh.jpg)\n\n![](http://wx4.sinaimg.cn/mw690/89d0a2e1ly1fc7unv3f5fj21kw11xtox.jpg)\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/01/31/Dalian-Sanya-Ocean-World.md","slug":"2017/01/31/dalian-sanya-ocean-world","body":"\n# 大连圣亚海洋世界.\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/02/01/The-Forbidden-City-hiding-people.md","slug":"2017/02/01/the-forbidden-city-hiding-people","body":"\n# 故宫躲人攻略\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/02/03/node-302.md","slug":"2017/02/03/node-302","body":"\n```javascript\nvar http = require(\"http\");\n\nvar server = http.createServer(function(req, res) {\n    var clientIP = req.headers['x-forwarded-for'] ||\n                   req.connection.remoteAddress ||\n                   req.socket.remoteAddress ||\n                   req.connection.socket.remoteAddress,\n        ServerDate = new Date();\n    console.log('['+ ServerDate +']' + clientIP);\n    res.writeHead( 302, { 'Location': 'http://www.baidu.com/' });\n    res.end();\n});\n\nserver.listen(80);\n```\n\n然后将脚本作为守护进程启动\n\n```bash\nnohup node app.js > app.log &\n```","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/02/05/The-bank-card-password-is-hidden-on-the-card-no-wonder-Bai-Yexing.md","slug":"2017/02/05/the-bank-card-password-is-hidden-on-the-card-no-wonder-bai-yexing","body":"","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/02/10/AP.md","slug":"2017/02/10/ap","body":"","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/02/21/This-snow-is-ended.md","slug":"2017/02/21/this-snow-is-ended","body":"\n<center>\n<img src=\"http://p1.bqimg.com/567571/fa5cda963ca20242.jpg\" alt=\"北京的雪是什么感觉\">\n</center>\n\n说起北京的雪，你能想起什么。或许是那句“北京一下雪就变成了北平”吧。是啊，每当北京下雪，各大媒体一定要刷一下故宫美图，那种庄严那种古朴给人印象深刻。但是北京的雪真的如此吗？\n\n多年前，中央六播出的一部电影让我对北京的雪产生了好感，那就是《如果·爱》。一无所有的老孙遇见了学生林见东，两人在人生的最低谷时相见相爱，最后一句“最爱你的人只有你自己”，老孙离开林见东去追了梦想。作为一个东北人，雪并不稀奇，可是哪场雪能比得过片中林见东和孙纳相拥的那一场呢？\n\n---\n\n![中关村大街](http://ww1.sinaimg.cn/mw690/89d0a2e1gy1fcyi0ayjm0j21kw0wfb2c)\n15年我大学毕业，和很多同龄人一样告别了东北。过了山海关，我才知道，关内能下场雪是多么不容易，尤其是北京这个让人干燥到难受的地方。到了冬天不下雪，把我难受坏了，那是安慰自己，估计是雾霾太重，降雪的神明一看已经是天地一白不必降雪了。第一场像样儿的雪终究是让我盼到了，下雪的时候我正在古北水镇。\n\n---\n\n![2016年1月16日，拍摄于古北口](http://ww1.sinaimg.cn/mw690/89d0a2e1gy1fcyj0pgxyoj20zk0nqach)\n说来有趣，这次出行并不是我事先想好的，只是突然间想去然后就去了，真的算是说走就走的旅行。但是不做准备必然吃亏，首先没坐K字的公交，几个小时才到目的地。到了目的地才发现，方圆5公里没有称心的民俗，要住只能住景区里面。我至今还记得登记房间时服务员问我的两个问题，“怎么一个人就来了？”我未做回答，“这么着急来是压力太大吗？”，我答“是”。\n\n---\n\n![2016年1月16日，拍摄于古北口](http://ww1.sinaimg.cn/mw690/89d0a2e1gy1fcyj0pdfz0j20zk0nqtae)\n也正因为我疏于准备，所以没能错过这场雪。记得雪是晚上下起来的，我也正好安顿妥当。虽然是周末，但因为不是节假日，景区里的人少到屈指可数。当晚我在景区内到处拍照，像刚认识林的老孙，在落满白雪的冰面上翻着跟头。可惜，当时觉得，好东西分享给别人，如果别人不知珍惜，还不如自己留着，所以发到朋友圈的都只是还算看得上的。\n\n---\n\n![2016年1月17日，拍摄于古北口](http://ww1.sinaimg.cn/mw690/89d0a2e1gy1fcyj440vpuj21kw16okjs)\n几个月后一次意外事故，我不小心把硬盘格掉了，所有大同、平遥、临汾、华山、临潼等等的照片都丢失了，而留下的只有朋友圈发过的几张照片、几个小视频还有自己模糊的记忆。这便是我重新写起游记的原因，意欲给记忆一个备份，也想找到一个知音，我的东西也许有人不赏，但一旦遇到赏识之人，我必倾囊相授。\n\n---\n![2016年1月17日，拍摄于古北口](http://ww1.sinaimg.cn/mw690/89d0a2e1gy1fcyi7ejym9j21kw16o1l3)\n我终究是吃了没做准备的亏，大雪封山，古北口没了往常出入大山的小巴，我站在小巴破旧的站牌前面干着急。最后在路上拦了辆小车，那辆车的破旧程度也应该是我见过的破车之最了，我记得当时在车里还冻得瑟瑟发抖（也可能是因为穿得太少）。\n\n---\n![2017年2月21日，中关村步行街几人在自拍雪景](http://ww1.sinaimg.cn/mw690/89d0a2e1gy1fcyi1m5oelj21kw0tsnpf)\n时隔一年，又是一场大雪，然而这次我只能在中关村的空中花园里赏赏雪景。不知算好算坏，虽然没了那点儿惊险刺激，但好在不用担心会被锁在山里了。\n\n---\n![2016年1月17日，拍摄于古北口](http://ww1.sinaimg.cn/mw690/89d0a2e1gy1fcyi7n5d6dj21kw16o1l3)\n外人看来，雪中的北京深沉而韵味浓厚。住过这里，才发现，其实北京的雪对我的感觉是年轻的，感觉雪里埋着一种懵懂，又有一种冲动，埋着错误又埋着希望，埋着梦想的开始，也许也是段不愿回顾的黑历史。\n\n![2016年1月17日，拍摄于司马台](http://ww1.sinaimg.cn/mw690/89d0a2e1gy1fcyi7vstj2j21kw23vkjs)\nPS：听说河南大暴雪，看来在北京还是挺幸运的，起码有暖气啊～\n","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/03/12/Chinese-Printing-Museum-and-the-Chinese-Millennium-Temple-of-the-Museum-of-China.md","slug":"2017/03/12/chinese-printing-museum-and-the-chinese-millennium-temple-of-the-museum-of-china","body":"\n# 中國印刷博物館和中華世紀壇的文字體驗管\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/03/18/Looking-at-the-east,-the-National-British-British-Hundred-Cultural-Relics-Exhibition.md","slug":"2017/03/18/looking-at-the-east-the-national-british-british-hundred-cultural-relics-exhibition","body":"\n# 東張西望，國博大英百件文物展\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/03/19/Yuyuan-Tan-and-the-Central-China-Temple.md","slug":"2017/03/19/yuyuan-tan-and-the-central-china-temple","body":"\n# 玉淵潭和中華世紀壇\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/03/25/It-is-a-tower-or-a-tower-or-a-tower.md","slug":"2017/03/25/it-is-a-tower-or-a-tower-or-a-tower","body":"\n# 是塔是塔就是塔，河北正定全是塔\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/03/26/The-Hebei-Museum-is-the-shame-of-the-cemetery-industry-in-my-country.md","slug":"2017/03/26/the-hebei-museum-is-the-shame-of-the-cemetery-industry-in-my-country","body":"\n# 河北博物院是我国盗墓业的耻辱\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/04/02/Maijishan-Grottoes.md","slug":"2017/04/02/maijishan-grottoes","body":"\n# 麦积山石窟\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/04/03/Tianshui-Museum.md","slug":"2017/04/03/tianshui-museum","body":"\n# 天水市博物馆\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/04/05/Shanxi-Museum.md","slug":"2017/04/05/shanxi-museum","body":"\n# 山西博物院\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/04/28/The-same-night-sky-jelly-Huayan-Temple-knife-noodles-city-walls.md","slug":"2017/04/28/the-same-night-sky-jelly-huayan-temple-knife-noodles-city-walls","body":"\n从今天起，我打算换一种日记形式写博客，因为貌似是在腾不出时间来维护它，不如就用琐碎的时间当做微博来记也不错。\n\n又一次来到了大同。说来我和大同还真是有缘，从2015年开始，我几乎每年都来一次这里，我也是因为把第一次从大同出发到华山的照片全弄丢了之后才开始写游记的。\n\n前两次来大同，都没进古城，一次去了云冈石窟，一次去了恒山。大同给我的感觉可太像我小时候的大连了，同样是工业城市，也同样是旅游业起步中。\n\n# 香喷喷的浑源小媳妇凉粉\n\n经历了折磨人的号称４小时实际６小时的客车（因为我没买到火车票），路上全靠一本《青铜时代》打发时间。到站，我急忙开始搜索住宿，令我大吃一惊的是，基本店店客满，找了好几家才在古城外面找到了一家提供单间的招待所。\n\n话说，我还没提这次旅行的目的呢，其实很简单，无非“逛吃”，逛嘛，自然是一直路过从未进入的古城区（我是有原因的，大同古城墙去年才全部完工）。至于吃，那自然是我魂牵梦绕的浑源县小媳妇凉粉。\n\n到了招待所，打听好两份的位置，我直接到了店里，一份凉粉７块，香得很呐。从南面进入古城，其实挺失望的，南门是大面积的拆迁工地，我并没有绕道，在南门外面有一个土堆，用栏杆围起来的，应该是以前的城墙保留出来的一部分，我没多停留，直接前往华严寺。\n\n# 值得一去的华严寺木塔\n\n华严寺是晚上６点关门，作为《壁下观》的非会员粉丝，不去是不可能的，大概４点，我到了华严寺门口，令我大吃一惊的是，门口竟然在举办广场舞大赛，真心影响我和古人神接啊（其实广场舞也算戏曲吧，而且五一又不是传统节日，姑且原谅大妈们了）。\n\n华严寺给我的印象不是很好，并不是因为它是辽构，可能门口的广场舞占大部分吧。进门后一眼就能看出都是复建的建筑，据说是韩美林设计的（我在此不做评论）。\n\n大雄宝殿是正宗的辽构，风吹过铜铃还带有一些唐韵，内部是五尊佛像，代表东西南北中（很遗憾，虽然带了眼镜偷拍，但是没拍到），两边的天神像是明朝修建的，全部倾斜站立，没错就是迈克尔·杰克逊的太空步。\n\n大殿旁边的木塔，应该是本次旅行最值得的一处了，关键是我去过不少地方了，也见过各种砖塔、石塔或者是木塔，可它们基本上不让上去，或者是只开放几层，但这里，不论是塔底的暗室（明显重修了），还是塔身，全部可以游览，虽然限制人数，但是这可是木塔啊！\n\n华严寺其实挺好的，可惜被门口的乌烟瘴气毁了，说好的古文化街，怎么能让商户随便装修呢，还有那个广场舞大赛，真心想吐槽啊。\n\n# 大同清真大寺\n\n接下来我去了本次旅行的另一个亮点，清真寺。自打从西宁回来，我见到清真寺就想进去看看，不是我要入教，主要是以前不知道可以进。清真寺里面可真是比华严寺清净太多了，里面有很多穆斯林的介绍，比如关于狗的。说实话，看完这些介绍我真心觉得很多人吃狗，是对狗很大的尊重啊。清真寺的老人一定要我拍一块牌匾，说是康熙一千年前留下的，出于对陌生人的尊重，我就不纠正时间上的错误了（所以说如果我哪天开始纠正你的错误了，其实我是把你当自己人～）。\n\n鼓楼貌似也是翻修的，旁边的刀削面很好吃（因为大学室友是山西人，我曾一度吃过很长一段时间的刀削面，不过确实挺好吃的）。鼓楼大街，其实就是很宽的有很多古建筑的文化街，没有南锣的呦呵，没有秦淮的小曲，没有蔚县的酒香也没有平遥的牛肉，怎么说，算是放大版的古北吧。\n\n鼓楼大街上有一个关帝庙，经过的时候已经关门了。我大概看一下应该是元朝建筑，貌似我朝一直贬低元建啊，除了狮子林基本上说不出啥，辽构都能至少说出四个。关帝庙门口有个戏台，跑马灯告诉我貌似这里明天会有演出，哈哈，我得来看看。\n\n# 夜幕下的鼓楼和城墙\n\n夜幕降临，到了在城墙拍夜景的好时候，南京和西安的城墙都有个缺点就是周边的灯光太猛，拍不出寂寞空虚冷的画风，其实平遥的城墙刚刚好，可惜照片都叫我弄丢了。大同的城墙可比平遥的宽得多，但马上能感到平遥和大同城墙的画风相同，两边的灯光随着夜色而黯淡下来，只留城墙上边的路灯，城墙的灯光照亮了这个方方正正的城，就像我爬泰山的时候回望泰安那方正的城区，不过这次，我就站在城墙上。有的时候真心希望这里不会发展，这一美景就能保留了，如今开来，连物是人非都是一种奢求了。\n\n大同城墙和别的城不同的是，南面有一雁塔，没错城墙上有一个塔，叫做文峰塔（不知道是不是和美容美发有关）。当然也是拆了重建的，看里面的样子，以后会开放登塔参观。至于起初为啥建塔（关键没有道理啊），我还是明天逛逛博物馆吧。\n\n城墙上两个妹子，一边感叹大同城墙保护的好，一边说北京把城墙扒了，其经济也没有多少发展啊。我倒不这么认为，虽然现在各大公众号说什么梁思成当年多么多么正确。可当年不建都北京，那去哪儿呢？一个政府穷到连过长江都只能划小船，你叫他选择百年政治文化中心的北京，还是找现在都有环境问题的雄安呢？而对经济的影响，看看现在的西安下班高峰期城墙边上的拥堵情况就知道了。当然，我不是说梁是错的，现在的苏州就保存的很好。其实历史不分对错，只有抉择。","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/05/01/The-same-night-sky-Guandi-Temple-Datong-Museum.md","slug":"2017/05/01/the-same-night-sky-guandi-temple-datong-museum","body":"\n好吧，上次说到哪儿了？\n\n话说得补充一下２８号的事情，在我逛清真寺的时候，其实很多讲解是中英文混搭的，没错，是混搭，也就是英文说英文的，中文说中文的，讲得完全不是同一个东西。我挺好奇那个看门大爷为什么就不好奇一句长度不超过３０字的中文翻译成英文竟然是怒长的一段话，不过话说回来，他连康熙千年前留下一块匾都信了。\n\n在读英文的时候，我旁边站着一位大叔，也是一副游者打扮，震惊的看着我，惊叹一句，你也是穆斯林么。。。我很尴尬地解释这是英文。回想起来，大叔究竟为啥震惊呢，是我穿的不清真，还是我长得。。。？\n\n好了，补完上期的尾巴，开始说今天的事。现在是北京时间五一劳动节的凌晨两点十分，我和三波人坐在大同火车站的候车室里，其中两辆是来往东胜西和北京西的，我是第三波，三点钟前往昌平北，抢不着票嘛，地铁也一样，像歌里说的，We are the 昌平。。。反正我也没去过昌平，其实昌平北离十三陵挺近的，但我还是先回家吧，ＰＰＴ没做呢。\n\n说了一堆没用的，还没进入话题呢。今天（确切的说是昨天）的旅途虽说比之前一天更有计划，但依然让我整得很凌乱。\n\n首先，按照原先的计划，我发了微博，ins，把一部分照片传到google photos，然后满怀期待地看一眼点赞情况，果然，一个也没有。然后我按照计划到了小媳妇凉粉那里要了碗凉粉，却被告知他们刚开门，凉粉还没运过来，我靠九点了好么。。。\n\n带着遗憾，我进了古城，找了家肯德基垫了下肚子，其实我想吐槽一下，古城里的小吃，要么是山楂（我去吃完更开胃），要么是碗秃（一种凉拌荞麦面），其他的就没得选了。\n\n早上的古文化街，没了那么多发传单的和“各种十五元，全部十五元”的大喇叭，确实多了些古城的样子。我在城里闲逛了许久，其实是我找不到昨天的关帝庙了，而我的流量也快没了，必须减少不必要的流量开支，（＠某新媒体工作者，所以前天你跟我讨论“互联网已经不是个走流量的时代了”这个话提的时候，我的意思其实是我的手机流量不够了，请别再给我发截图了）。\n\n# 大同关帝庙\n\n终于，找到了关帝庙，好在大同古城真的不大，门票３０，其实我更关心的是门口的戏台到底啥时候开演，所以我在买票的时候特地问了下，售票员给了一个我并不太满意的答案，两点半，这也就意味着，我想一天逛完地方都要在两点半之前逛完，而看完戏之后，我也想不出干啥了。\n\n说说关帝庙吧，内部有一座元时期的庙宇，由于元朝特殊的历史地位，现在留下的元朝建筑真心凤毛麟角，明清木构建筑已经进阶到第二等级了（斗拱结构从支撑功能变成装饰功能），所以想看先人木构上的智慧，就要看明清之前的。\n\n其实我去关帝庙的目的还不在元构，而是那些壁画，据说是惟妙惟肖的描述了三国故事，不过很可惜，壁画都被收起来保养了，留下来了三面空墙被黄布裹着。\n\n先说到这里吧，火车来了～\n\n# doge九龙壁\n\n中国有三处九龙壁，一个在故宫、一个在北海最后一个在大同，《壁下观》提过，大同的九龙壁是三者最好看的。确实，自从我不知哪里看到的日本学者提下的，“清朝的中国龙看起来太瘦，像蚯蚓”之后，我看手上拍下的故宫九龙壁，便觉得这话应该是实话。\n\n但大同这个不同，建于明朝的大同九龙壁，光从高度上就可用壮观来说，龙体也算粗壮有力，表情也很丰富。我最喜欢的是最走的那条，都说鲤鱼跃龙门化身为龙，最左估计是条海doge吧～\n\n# 大同市博物馆\n\n大同市博物馆离古城不远，在九龙壁坐３８路车没几站就到了。其实打算是逛下大同市博和大同美术馆，可惜只有博物馆开放了。博物馆是一个造型很有趣的建筑，不太清楚它的造型，６９?\n\n按照展厅排布，一楼原始展馆，特展（目前是铜镜展），代国展（春秋时期代国位于大同）;二楼北魏艺术展；三楼瓷器书画展。感觉大同博物馆颇有点国家一级博物馆的味道，当然了，也可能是因为是新馆。具体有点记不得了，貌似有个春宫镜印象还蛮深的，我看看回头贴照片的时候补足吧。\n\n大概逛了两个小时，看了看表，我急忙赶回鼓楼吃饭，因为关帝庙的戏台演出要开始了。\n\n# 大同关帝庙戏台\n\n前一天逛古城的时候看到了个“晋商茶庄博物馆”，趁演员准备设备的空隙，我去看了下，怎么说呢，标题党，实际是个卖茶叶的，囧。\n\n说说戏台吧，演的是北路梆子《喜荣归》和《二进宫》。《喜荣归》讲的是状元赵廷玉装成乞丐回来迎娶妻子崔秀英，崔家以貌取人不肯承认亲事，后来得知赵是金科状元羞愧难当，印象最深刻的是秀英大喊的”我的妈唉“，不知道路没录下来。《二进宫》我挺感兴趣的，毕竟是看过两遍《明朝那些事儿》，讲的是万历登基的事，书里讲得极其精彩。戏里我就蒙了，全是代称，十岁的万历变成了襁褓中的孩子。。。总之，我是一脸懵逼地看完了，印象最深刻是李贵妃的一个台词，好像是怎么怎么哭老王（其实是哭先帝的意思）。\n\n# 古城墙、魁星楼、四牌坊和记忆大师\n\n看完戏，已经是傍晚，除了城墙，大部分景区都关门，既然城墙免费，我就有一次登城了。这回我可是打算把整个城墙走了个遍，可惜大同城墙虽然宣传是已经建成，但其实很多还在维护，所以从正西面向南的路还是不通的。默默吐槽一下，这个城的北面防御力明显高于南面嘛～\n\n话说，小小的科普一下，大同人骂人脸皮厚是“城墙里面夹块砖”，我也不知道真的假的，别问我怎么知道的。\n\n打发时间，我还看了记忆大师，不错的电影，我单独写影评吧。出了电影院，已经将近１１点，安静的路上只有鼓楼这一路有路灯，沿着空旷的街道我又拍了几张照片。\n\n# 尴尬的归途\n\n说到大同火车站，其实离古城也很近，走路的距离，路上还能看到老城墙未拆的遗址，大概因此我在一条交叉路口走错了路。到了地图上的”大同站东广场“其实是个工地。。。要想去大同站还需绕行两公里，而且路上非常恐怖，一来是没有路灯，二来是由于城区建设路边基本上也都是正准备拆迁的空楼，吓死宝宝了。\n\n到了大同站，另一个尴尬的事情发生了，居然没有自助取票机，唯独的夜间窗口排着长长的队，队伍后面两个乞丐正在对酒切磋乞术，估计此时此刻最精神的就是他俩了，我从睡眼惺忪的售票员取了票，又经过了睡意朦胧的安检，进入了昏昏欲睡的候车厅，记下了这次略微传奇的旅途。\n","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/05/02/Qxf-Qconfig.md","slug":"2017/05/02/qxf-qconfig","body":"# 结合Qxf和Qconfig解决前端热发布\n\n或许篇文章写得有些晚了，如果这篇文章是写koa的话，估计受欢迎程度会很高。\n\n最近正巧有一个前后同构的项目，其实是利用node作渲染层。至于为什么用node作渲染层就不做详述了，节约后端资源，释放前端约束，可能方案并不是通用的，正好我的项目需要。\n\n## Qxf 介绍\n\nQxf是基于express的node服务方案，也就是说很多express的API可以直接使用。确切说并不完全是这样，response.write就被改写了，但并不影响使用。\n\n其实Qxf的出现是给node做了一层兼容于原有去哪儿前后端分离模式的node后端。同时为开发者做了一层脚手架封装，集成包括cluster、logger、handlebars等开源的中间件以及去哪儿私有的异常处理、日志处理、埋点统计以及静态资源版本号的管理中间件。\n\n## QConfig\n\nQConfig是去哪儿内部解决后端热发的方案，简单地说它会依照版本存储```*.properties```或者```*.json```文件，并按需将这些配置文件推送到各个机器，推送之后也可以回滚。\n\n## 解决的问题\n\n前端有很多需求是文案修改、图标修改，相对来说算是比较安全，但每次修改的时候还要测试回归上线，这样流程拖得太长，如果前端也可以利用QConfig实现热发，那自然是很受欢迎的。\n\n## Qxf怎么用\n\n针对Qxf怎么去创建一个工程在此就不多余介绍了，讲一下工作原理吧。\n\n    qxf dev\n\n这个命令会启动Qxf的测试环境，其实就是执行了以下代码\n\n    NODE_ENV=development node ./bin/start.js --l .logs\n\n也就是说，包括server的启动配置都写在这里面了。整个服务都会在```multiprocess.listen(app, opts)```之后执行（注意一个坑点，multiprocess没有暴露server对象，所以用不了reload.js，开发的时候只能手动刷新页面了）。\n\n## QConfig怎么用\n\n讲完Qxf说说QConfig，按照qConfig的文档在Qxf的config.js里面配置好要取的配置，QConfig要在Qxf启动之前执行，也就是还要修改start.js里面的\n\n    multiprocess.listen(app, opts);\n\n为\n\n    qConfigClient.init().then(()=> multiprocess.listen(app, opts));\n\n之后如果需要获取某一个属性文件，则需要执行\n\n    const configs = qConfigClient.getConfig('*.json');\n    const value = configs.get('key');\n\n如果你的配置是json的，获取到的值会直接parse成对象。\n\n***需要注意一点,Qconfig是异步的，也就是说getConfig的执行必须放到某个可抵达的回调里面***\n\n## 结束\n\n执行一下```qxf dev```，服务器访问```localhost:3000```到对应的router下面就可以看到效果了。\n\n","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/05/03/QxfComponents.md","slug":"2017/05/03/qxfcomponents","body":"# 写啥题目呢\n\n## 回顾一下\n\n去年三月，我分享了一个用riotjs开发前端的方案，既然已经有一年的时间了，就先回顾一下。\n\n这套方案出自2015年，之前一直使用的是公司的QApp解决方案，后来发现使用上存在问题，\n并在试图寻找一套可行的替代方案。\n\n### 组件化方案\n\nQApp的最小单位是View(大概可以理解为页面)，\nView里面大到一个轮播图小到一个按钮的操作逻辑都和view耦合，\n假设我想使用某一个View里面的某一个组件，想直接拆出来是不太可能的。\n\n* 以前的写法\n\n        QApp.defineView({\n            html: `\n            <div node-type=\"vcode\">\n                <input action-type=\"input\">\n                <button action-type=\"vcode\">发送短信</button>\n            </div>\n            <button action-type=\"submit\">提交</button>\n           `\n            actions: {\n                // 这里的this指向整个view\n                \"input:input\": () => this.doInput(),\n                \"submit\": () => this.doSubmit(),\n                \"vcode\": () => this.doVcode(),\n            },\n            init: {\n                doInput() {},\n                doSubmit() {},\n                doVcode() {},\n            }\n        });\n        QApp.config({...});\n\n* 新的写法\n\n        riot.tag('pay-input',`\n            <input oninput=\"oninput\">\n        `, ()=> {\n            // 这里的this指向整个pay-input\n        });\n        riot.tag('pay-submit', `\n            <submit ontap=\"onsubmit\">\n                <yield/>\n            </submit>\n        `, ()=> {\n            // 这里的this指向整个pay-submit\n        });\n        riot.tag('pay-vcode', `\n            <pay-input></pay-input>\n            <pay-submit>发送短信</pay-submit>\n        `, ()=> {\n            // 这里的this指向整个pay-vcode\n        });\n        riot.tag('pay-view',`\n            <pay-vcode></pay-vcode>\n            <pay-submit>提交</pay-submit>\n        `, ()=>{\n            // 这里的this指向整个pay-view\n        });\n        riot.mount('pay-view');\n\n### 基于发布订阅的统一事件管理模式\n\n有很多时候，我们要处以理一些“这些东西，我们不要了”之类的需求，\n当我们回头去翻代码的时候，惊奇的发现它被封装了，\n那么后面的故事就是要和“xxx function is undefined”做长期斗争了。\n\n* 之前的调用方式\n\n        QApp.defineView({\n            init: {\n                doSomething: ()=> {}// 删我貌似很困难\n                doSomethingElse: ()=>this.doSomething()\n            },\n            ready() {\n                this.doSomething();\n            }\n        });\n\n* 之后的调用方式\n\n        riot.tag('pay-view',`...`, ()=>{\n            this.on('doSomething', ()=> doSomething()); // 不要就删掉吧\n\n            this.doSomethingElse = () => this.trigger('doSomething');\n            this.on('mount', () => {\n                this.trigger('doSomething')\n            });\n        });\n\n### 基于状态基的异步流程处理\n\n其实2015年，是异步流程处理比较混乱的一年，Promise刚出来，没多少人敢用，\n更别提generator还有async之类的东西了，\n这套方案正好利用了发布订阅的优点，\n只要在异步事件触发之前订阅上就没问题了\n\n* 之前\n\n        QApp.defineView({\n            ...,\n            ready() {\n                this.ajax({\n                    ...,\n                    success() {\n                        foo(..., () => {\n                            bar( ..., () => {\n                                ...\n                            });\n                        })\n                    }\n                });\n            }\n        });\n\n* 之后\n\n        riot.tag('pay-view', '...', () => {\n            this.on('ajaxDone', () => {\n                ...\n                this.trigger('foo');\n            });\n\n            this.on('fooDone', () => {\n               ...\n               this.trigger('bar');\n            });\n\n            this.on('barDone', () => {\n               ...\n            });\n\n            this.on('mount', () => this.trigger('ajax'));\n        });\n\n### 利用组件树检索组件\n\n项目组件化（Component）+ 事件化（Reactive）之后，\n一个页面的运行方式就成为某一个组件监控某一个组件的某一事件并对其造成的处理。\n那么需要利用祖组件树解决一下检索问题。\n\n    require(\"pay-input\");\n    require(\"pay-submit\");\n\n    riot.tag('pay-vcode', `\n        <pay-input></pay-input>\n        <pay-submit>发送短信</pay-submit>\n    `, ()=> this.tags[\"pay-submit\"].on('subimit', () => {\n        this.trigger('vcodeSent');\n    }) );\n\n    riot.tag('pay-view', `\n        <pay-vcode></pay-vcode>\n        <pay-submit></pay-submit>\n    `, () => this.tags['pay-vcode'].on('vcodeSent', ()=> {\n        this.tags['pay-submit'].trigger('enabled');\n    }));\n\n\n* pay-view\n  * parent: null\n  * tags\n    * pay-vcode\n      * parent: pay-view\n      * tags\n        * pay-input\n        * pay-submit\n        * parent: pay-vcode\n      * pay-submit\n        * parent: pay-view\n\n\n### 利用mixin实现继承\n\necmascript2015之前，js一直都没有一个像样的类的表达方式，\n所以我们其实也没有一个像样的继承方式，\n混淆是目前用的最多的一种继承，大概是源自$.extend吧。\n\n* ajaxApi1\n\n        module.exports = {\n            init: {\n                this.on('ajaxApi1', () => ajax(...) );\n                this.on('ajaxApi1Done', ()　=> ... );\n            }\n        };\n\n* ajaxApi2\n\n        module.exports = {\n            init: {\n                this.on('ajaxApi2', () => ajax(...) );\n                this.on('ajaxApi2Done', () => ... );\n            }\n        };\n\n* pay-view\n\n        riot.tag('pay-view', '...', () => {\n            this.mixin(require('ajaxApi1.js'));\n            this.mixin(require('ajaxApi2.js'));\n\n            this.on('mount', () => this.trigger('ajaxApi1 ajaxApi2') );\n        });\n\n### 结合velocity和yield实现首屏渲染\n\n首屏渲染，SPA一直有这个问题。\n因为在html加载到js加载完成（甚至是一些ajax返回）之前，\n页面都是白屏，其实vm可以完成一部分后端的渲染，并替代第一个ajax。\n\n* vm之中\n\n        #set($description = \"这里会代替<yield/>\")\n        <pay-view>\n            <span if=\"$!description\">$description</span>\n        </pay-view>\n        <script>\n            window.vmData = \"$!vmData\";\n        </script>\n\n* js里面\n\n        riot.tag('pay-view', `\n            <pay-vcode></pay-vcode>\n            <pay-submit></pay-submit>\n            <yield/>\n        `, () => {\n            const vmData = window.vmData;\n        });\n\n### SPA的路由（这部分本文不涉及，忽略）\n\n## 希望优化的点\n\n### 发布订阅解决函数调用问题是存在缺陷的\n\n这套方案会产生冗余代码，其实最好使用typescript编写代码，\n这样在编译环境下就能查出哪个函数调用了删除的方法。\n\n* util.ts\n\n            export const a = {\n                    // foo() { 假设我删除了foo }\n                    ...\n            };\n\n* xxx.ts\n\n            import { a } from \"util\"\n\n            class xxx {\n                constructor() {\n                    a.foo(); // 编译时会报错foo这个方法不存在，终止编译\n                }\n            }\n\n### 使用面向对象的语法\n\n* html\n\n        <body>\n            <pay-view></pay-view>\n        </body>\n\n* ES5\n\n        require(\"pay-input\");\n        require(\"pay-submit\");\n        require(\"pay-vcode);\n\n        riot.tag(\"pay-view\", '<span>{ title }</span><pay-vcode></pay-vcode><pay-submit>提交</pay-submit>', function(opts) {\n            this.title = opts.title;\n        });\n\n        riot.mount(\"pay-view\", {});\n\n* TypeScript\n\n        import {PaySubmit} from \"pay-submit\";\n        import {PayVcode} from \"pay-vcode\";\n\n        @tag({\n            name: \"pay-view\",\n            tmpl: `\n            <span>{ title }</span>\n            <pay-vcode></pay-vcode>\n            <pay-submit>提交</pay-submit>\n            `\n        })\n        class PayView extends TagCore {\n            onCreate(tag) {\n                tag.title = opts.title;\n            }\n            constructor() {\n                this.submit = new PaySubmit();\n                this.vcode = new PayVcode();\n            }\n            submit: PaySubmit;\n            vcode: PayVcode;\n        }\n\n        PayView.mount({});\n\n### 利用发布订阅模式控制流程并不是最好的流程控制\n\n目前来说原生的Promise支持已经很不错了，\nasync虽然是个实验特性，\n但发明C#的微软明显推荐用这个特性。\n\n* 发布订阅\n\n        riot.tag('pay-view', '...', () => {\n            this.on('fooDone', ()=> this.bar());\n            this.on('barDone', ()=> this.blah());\n            this.bar = () => {\n                ...\n                this.trigger('barDone');\n            };\n            this.blah = () => xxx;\n            this.on('mount', () => this.trigger('fooDone'));\n        });\n\n* Promise\n\n        @tag({\n            name: \"pay-view\",\n            tmpl: \"...\",\n        });\n        class PayView extends TagCore {\n            onCreate(tag, opts) {\n                tag.on('mount', () => this.foo.then(()=> {\n                    return this.bar()\n                }).then(()=> {\n                    this.blah();\n                }));\n            }\n            foo = ()=> new Promise(resolve => resolve());\n            bar = ()=> new Promise (resolve => resolve())\n            blah = () => {...}\n            ...\n        }\n\n* async & await\n\n        @tag({\n            name: \"pay-view\",\n            tmpl: \"...\",\n        });\n        class PayView extends TagCore {\n            onCreate(tag, opts) {\n                tag.on('mount', async () => {\n                    await this.foo();\n                    await this.bar();\n                    this.blah();\n                });\n            }\n            foo = ()=> new Promise(resolve => resolve());\n            bar = ()=> new Promise (resolve => resolve())\n            blah = () => {...}\n            ...\n        }\n\n### 没有完善的广播机制\n\n其实之前的方案是可以广播的，但需要选中需要的组件，如\n\n    [tagA,tagB,tagC].forEach(tag => tag.trigger('foobar'));\n\n但是我希望的广播是每一个页面里面的tag无需选中就可以接收到。\n其实在每个tag加载之后都会传进一个opts对象，\n这个对象或者是执行mount函数传入的值，或者是模板标签上的变量\n\n    XXX.mount({ aaa: 1 });\n    // opts == {aaa: 1}\n\n    <xxx aaa=1 ></xxx>\n    // opts == {aaa：１}\n\n所以只要把一个obersable的对象传到opts里面就行了.\n\n### 需要一个更好的mixin\n\ntypescript对mixin支持很好，\n配合vscode的输入提醒代码体验十分完美，\n所以几乎可以放弃riot的mixin了\n\n* riot.mixin\n\n        // ajaxApi.js\n        {\n            init() {\n                this.on('ajaxApi', ()=> ...);\n            }\n        }\n        // xxxtag\n        riot.tag('xxx', '...', ()=> {\n            this.mixin(require('ajaxApi.js'));\n            this.trigger(\"ajaxApi\");\n        });\n\n* @mixin(any[])\n\n        class AjaxApi {\n            ajaxApi() {\n                ...\n            }\n        }\n\n        @tag({ name: \"xxx\", tmpl: \"...\" });\n        @mixin([AjaxApi])\n        class XxxTag extends TagCore implement AjaxApi {\n            onCreate( tag, opts ) {\n                this.ajaxApi();\n            }\n            ajaxApi: () => void;\n        }\n\n### velocity模板语法太次了\n\n改用node渲染，Qxf使用的是handlebars，riot自身也支持后端渲染。\n\n## 介绍点儿常识\n\n### typescript的语法\n\n#### 类型化声明\n\n        const a:string = \"这是一个不可变的字符串\";\n        let b:string; // b只能赋字符串\n        let c:any; // c可以赋任一值\n        let d: () => void; // d只能赋空参数且返回为空的函数\n\n#### class语法糖\n\n        class a extends b {\n            constructor() {\n                super();//执行b的构造函数\n            }\n            public foo() {\n                super.foo();//执行b的原型上的foo函数\n                console.log(`\n                    我在ａ的prototype上\n                    this指向context\n                `);\n            }\n            public bar =　() => {\n                cosnole.log(`\n                    我在a的实例里,\n                    this指向a的实例\n                `)\n            }\n            public blaha = function() {\n                cosnole.log(`\n                    tslint默认禁止使用\n                    我在a的实例里,\n                    this指向context\n                `)\n            }\n        }\n\n#### async await 上面提过了\n\n#### Object解构\n\n        const obj = { a: 1 };\n        const name = \"name\";\n        const data = { ...obj, b: 2, name }; // { a: 1, b : 2, name: \"name\" }\n        const { a:xxx } = obj; // xxx===1\n        const data1 = {[xxx]: 'data1'}; // {1: 'data1'}\n\n#### 接口\n\n        interface Ia { foo: () => void; }\n        interface Ib { bar: () => string; }\n        interface Ic { name: string; }\n        class D { doSomeThing() { .... } }\n        class E implements Ia,Ib,D {\n            doSomeThing: () => any;// 如果实现的是类内元素，可以只声明，不实现\n            foo = () => {...} // 如果实现的是接口内元素，必须按照类型定义\n            bar = () => {...} // 必须把要实现的所有接口内的元素声明\n            constructor(param: Ic) {\n                const { name } = param;// param 必须是只含有name的对象\n            }\n        }\n\n### 装饰器\n\n就是前面类似于@tag,@mixin的东西，\n这个有点复杂，只说在class前面的装饰器吧,\n是用来处理对象原型的函数，\n会在构造函数执行结束后执行\n\n### Qxf router的使用(其实是express4 router的使用)\n\n#### 三种获取请求参数的方式\n\n假设一个接口是 'api/default/index?a=1'\n\n        router.param('solution', (req, res, next, value) => {\n            console.log(value); => 'default'\n            next();\n        })\n\n        router.get('api/:solution/:page', (req, res, next) => {\n            console.log(req.params) => { solution: 'default', page: 'index' }\n            console.log(req.query.a) => 1\n\n            res.write('111');// 返回111但是请求并不结束\n            res.end();　// 返回结束\n        });\n\n        router.post('api/:solution/:page', (req, res, next) => {\n            console.log(req.params) => { solution: 'default', page: 'index' }\n            console.log(req.body.a) => 1\n            res.json({aaa: 1}); //　返回　{aaa: 1}\n        });\n\n#### 中间件\n\n        router.use(`api`, (req, res, next) => {\n            req.xxx = 'xxx';\n            next();\n        });\n\n### 核心的几个类和接口\n\n#### 状态机存储器：　Store\n\n```new Store()```可以订阅```on```或者触发```trigger```几种事件，\n没错```riot.tag```函数里面的```this```就继承自```Store```;\n\n    const a = new Store();\n    a.on('sayHi', () => console.log('hello'));\n    a.trigger('sayHi'); // hello\n\n#### 广播控制器：　Control\n\n是一个状态机的集合，方法```addStore```可以添加状态机存储器，\n```trigger```可以广播触发存储器的事件。\n\n    const store1 = new Store();\n    store1.on('sayHi', () => console.log('hello,I'm store1'));\n    const store2 = new Store();\n    store2.on('sayHi', () => console.log('hello,I'm store2'));\n    const ctrl = new Control();\n    ctrl.addStore(store1);\n    ctrl.addStore(store2);\n    ctrl.trigger('sayHi');//hello,I'm store1hello,I'm store2\n\n#### 标签生成器：TagCore虚基类\n\n必须搭配@tag装饰器，```new```一个TagCore的子类（构造函数必须传一个Control），\n跟执行了一下```riot.tag```是一样的。\n执行```mount```方法就能在页面空标签里挂在上标签的实现，相当于执行了```riot.mount```。\n\n    @tag({\n        name: 'x-tag',\n        tmpl: `<span>{content}</span>`\n    })\n    class XTag extends TagCore {\n        onCreate(tag: IriotTag, opts: IriotOpts) {\n            this.on('mount', () => opts.ctrl.trigger('xTag_Mounted') );\n            tag.content = opts.content;\n        }\n        mount: (opt: { content: string }) => void;\n    }\n\n    const store = new Store();\n    store.on('xTag_Mounted', () => console.log('prodCasted') );\n\n    const ctrl = new Control();\n    ctrl.addStore(store);\n\n    const xTag = new XTag(ctrl);\n    xTag.mount({ content: '我就是content' });\n\n    // 页面里面的<x-tag></x-tag> 变成　<x-tag><span>我就是content</span></x-tag>\n    // 控制台打印出 prodCasted\n\n### node-fetch\n\n一个开源的项目，可以让node端使用fetch，使用方法和whatwg里面的API是一样的，在此就不多嘴了。\n\n### 前后端同构初阶\n\n如果看网上的一些前后端同构的资料，他们会给你如下的方案。\n\n    if (isServer) {\n        doNodeThings();\n    } else {\n        doClientThings();\n    }\n\n我可以告诉你，他们都抄自同一个骗纸。。。\n\n原因是很多前端的modules会操作window对象，\nnode端的module更牛，有一些都是二进制的，\n如果用webpack1的话，如何bundle到一个js里面?\n\n#### TreeShaking\n\n树摇（字面翻译）是个es6对module的定义，\n简单地说js代码编译的时候会解析成AST语法树，\n通过分析这个语法树可以知道某一个js里面的某一个函数是多余的，\n打包的时候就可以把它剔除。","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/05/04/0-riotjs.md","slug":"2017/05/04/0-riotjs","body":"# 回顾一下以前的Riot.js方案\n\n2015年我开始从事前端工作，开始公司正在用QApp作为前端SPA框架，\n可是在我看来QApp比较笨重(130+KB)，另外还需要引入kami做组件(100+KB)，一直想找一个轻一点的框架代替，最后选择了riot.js(76KB)来代替这两个，主要基于以下几个需求。\n\n## 大量组件化的需求\n\nQApp的最小单位是View，也就是单一页面，而我接到的需求，要么是对某个按钮做改动，要么是连做几个页面，里面的某个输入框逻辑相同。QApp中的this指向View使得这些部分既不能从View里解构出来，对部分的修改也会造成挣个View的影响。\n\n* 以前的写法\n\n        QApp.defineView({\n            html: `\n            <div node-type=\"vcode\">\n                <input action-type=\"input\">\n                <button action-type=\"vcode\">发送短信</button>\n            </div>\n            <button action-type=\"submit\">提交</button>\n           `\n            actions: {\n                // 这里的this指向整个view\n                \"input:input\": () => this.doInput(),\n                \"submit\": () => this.doSubmit(),\n                \"vcode\": () => this.doVcode(),\n            },\n            init: {\n                doInput() {},\n                doSubmit() {},\n                doVcode() {},\n            }\n        });\n        QApp.config({...});\n\n* 新的写法\n\n        riot.tag('pay-input',`\n            <input oninput=\"oninput\">\n        `, ()=> {\n            // 这里的this指向整个pay-input\n        });\n        riot.tag('pay-submit', `\n            <submit ontap=\"onsubmit\">\n                <yield/>\n            </submit>\n        `, ()=> {\n            // 这里的this指向整个pay-submit\n        });\n        riot.tag('pay-vcode', `\n            <pay-input></pay-input>\n            <pay-submit>发送短信</pay-submit>\n        `, ()=> {\n            // 这里的this指向整个pay-vcode\n        });\n        riot.tag('pay-view',`\n            <pay-vcode></pay-vcode>\n            <pay-submit>提交</pay-submit>\n        `, ()=>{\n            // 这里的this指向整个pay-view\n        });\n        riot.mount('pay-view');\n\n## XX function is undefined\n\n报错邮件以前经常会有这样的报错，究其原因，很多是由“xxx功能”我不要了这种需求造成。\n\n* 之前的调用方式\n\n        QApp.defineView({\n            init: {\n                doSomething: ()=> {}// 删我貌似很困难\n                doSomethingElse: ()=>this.doSomething()\n            },\n            ready() {\n                this.doSomething();\n            }\n        });\n\n* 之后的调用方式\n\n        riot.tag('pay-view',`...`, ()=>{\n            this.on('doSomething', ()=> doSomething()); // 不要就删掉吧\n\n            this.doSomethingElse = () => this.trigger('doSomething');\n            this.on('mount', () => {\n                this.trigger('doSomething')\n            });\n        });\n\n## 基于状态基的异步流程处理\n\n其实2015年，是异步流程处理比较混乱的一年，Promise刚出来，没多少人敢用，\n更别提generator还有async之类的东西了，\n这套方案正好利用了发布订阅的优点，\n只要在异步事件触发之前订阅上就没问题了\n\n* 之前\n\n        QApp.defineView({\n            ...,\n            ready() {\n                this.ajax({\n                    ...,\n                    success() {\n                        foo(..., () => {\n                            bar( ..., () => {\n                                ...\n                            });\n                        })\n                    }\n                });\n            }\n        });\n\n* 之后\n\n        riot.tag('pay-view', '...', () => {\n            this.on('ajaxDone', () => {\n                ...\n                this.trigger('foo');\n            });\n\n            this.on('fooDone', () => {\n               ...\n               this.trigger('bar');\n            });\n\n            this.on('barDone', () => {\n               ...\n            });\n\n            this.on('mount', () => this.trigger('ajax'));\n        });\n\n## 利用组件树检索组件\n\n项目组件化（Component）+ 事件化（Reactive）之后，\n一个页面的运行方式就成为某一个组件监控某一个组件的某一事件并对其造成的处理。\n那么需要利用祖组件树解决一下检索问题。\n\n    require(\"pay-input\");\n    require(\"pay-submit\");\n\n    riot.tag('pay-vcode', `\n        <pay-input></pay-input>\n        <pay-submit>发送短信</pay-submit>\n    `, ()=> this.tags[\"pay-submit\"].on('subimit', () => {\n        this.trigger('vcodeSent');\n    }) );\n\n    riot.tag('pay-view', `\n        <pay-vcode></pay-vcode>\n        <pay-submit></pay-submit>\n    `, () => this.tags['pay-vcode'].on('vcodeSent', ()=> {\n        this.tags['pay-submit'].trigger('enabled');\n    }));\n\n\n* pay-view\n  * parent: null\n  * tags\n    * pay-vcode\n      * parent: pay-view\n      * tags\n        * pay-input\n        * pay-submit\n        * parent: pay-vcode\n      * pay-submit\n        * parent: pay-view\n\n## 利用mixin实现继承\n\necmascript2015之前，js一直都没有一个像样的类的表达方式，\n所以我们其实也没有一个像样的继承方式，\n混淆是目前用的最多的一种继承，大概是源自$.extend吧。\n\n* ajaxApi1\n\n        module.exports = {\n            init: {\n                this.on('ajaxApi1', () => ajax(...) );\n                this.on('ajaxApi1Done', ()　=> ... );\n            }\n        };\n\n* ajaxApi2\n\n        module.exports = {\n            init: {\n                this.on('ajaxApi2', () => ajax(...) );\n                this.on('ajaxApi2Done', () => ... );\n            }\n        };\n\n* pay-view\n\n        riot.tag('pay-view', '...', () => {\n            this.mixin(require('ajaxApi1.js'));\n            this.mixin(require('ajaxApi2.js'));\n\n            this.on('mount', () => this.trigger('ajaxApi1 ajaxApi2') );\n        });\n\n## 结合velocity和yield实现首屏渲染\n\n首屏渲染，SPA一直有这个问题。\n因为在html加载到js加载完成（甚至是一些ajax返回）之前，\n页面都是白屏，其实vm可以完成一部分后端的渲染，并替代第一个ajax。\n\n* vm之中\n\n        #set($description = \"这里会代替<yield/>\")\n        <pay-view>\n            <span if=\"$!description\">$description</span>\n        </pay-view>\n        <script>\n            window.vmData = \"$!vmData\";\n        </script>\n\n* js里面\n\n        riot.tag('pay-view', `\n            <pay-vcode></pay-vcode>\n            <pay-submit></pay-submit>\n            <yield/>\n        `, () => {\n            const vmData = window.vmData;\n        });\n\n## SPA的路由（忽略）\n\n## 视频地址\n\nhttp://v.youku.com/v_show/id_XMTUxMjMyMzM0OA==.html?from=s1.8-1-1.2&spm=a2h0k.8191407.0.0","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/05/04/1TypeScript.md","slug":"2017/05/04/1typescript","body":"# TypeScript干货\n\n## 类型化声明\n\n        const a:string = \"这是一个不可变的字符串\";\n        let b:string; // b只能赋字符串\n        let c:any; // c可以赋任一值\n        let d: () => void; // d只能赋空参数且返回为空的函数\n\n## 接口\n\n        interface Ia { foo: () => void; }\n        interface Ib { bar: () => string; }\n        interface Ic { name: string; }\n        class D { doSomeThing() { .... } }\n        class E implements Ia,Ib,D {\n            doSomeThing: () => any;// 如果实现的是类内元素，可以只声明，不实现\n            foo = () => {...} // 如果实现的是接口内元素，必须按照类型定义\n            bar = () => {...} // 必须把要实现的所有接口内的元素声明\n            constructor(param: Ic) {\n                const { name } = param;// param 必须是只含有name的对象\n            }\n        }\n\n## class语法糖\n\n        class a extends b {\n            constructor() {\n                super();//执行b的构造函数\n            }\n            public foo() {\n                super.foo();//执行b的原型上的foo函数\n                console.log(`\n                    我在ａ的prototype上\n                    this指向context\n                `);\n            }\n            public bar =　() => {\n                cosnole.log(`\n                    我在a的实例里,\n                    this指向a的实例\n                `)\n            }\n            public blaha = function() {\n                cosnole.log(`\n                    tslint默认禁止使用\n                    我在a的实例里,\n                    this指向context\n                `)\n            }\n        }\n\n## 装饰器\n\n类似于@tag,@mixin的东西，\n这个有点复杂，只说在class前面的装饰器吧,\n是用来处理对象原型的函数，\n会在构造函数执行结束后执行\n\n## Object解构\n\n        const obj = { a: 1 };\n        const name = \"name\";\n        const data = { ...obj, b: 2, name }; // { a: 1, b : 2, name: \"name\" }\n        const { a:xxx } = obj; // xxx===1\n        const data1 = {[xxx]: 'data1'}; // {1: 'data1'}\n\n## 一个更好的mixin\n\ntypescript对mixin支持很好，\n配合vscode的输入提醒代码体验十分完美，\n所以几乎可以放弃riot的mixin了\n\n* riot.mixin\n\n        // ajaxApi.js\n        {\n            init() {\n                this.on('ajaxApi', ()=> ...);\n            }\n        }\n        // xxxtag\n        riot.tag('xxx', '...', ()=> {\n            this.mixin(require('ajaxApi.js'));\n            this.trigger(\"ajaxApi\");\n        });\n\n* @mixin(any[])\n\n        class AjaxApi {\n            ajaxApi() {\n                ...\n            }\n        }\n\n        @tag({ name: \"xxx\", tmpl: \"...\" });\n        @mixin([AjaxApi])\n        class XxxTag extends TagCore implement AjaxApi {\n            onCreate( tag, opts ) {\n                this.ajaxApi();\n            }\n            ajaxApi: () => void;\n        }\n\n\n## async await 处理异步流程\n\n目前来说原生的Promise支持已经很不错了，\nasync虽然是个实验特性，\n但发明C#的微软明显推荐用这个特性。\n\n* 发布订阅\n\n        riot.tag('pay-view', '...', () => {\n            this.on('fooDone', ()=> this.bar());\n            this.on('barDone', ()=> this.blah());\n            this.bar = () => {\n                ...\n                this.trigger('barDone');\n            };\n            this.blah = () => xxx;\n            this.on('mount', () => this.trigger('fooDone'));\n        });\n\n* Promise\n\n        @tag({\n            name: \"pay-view\",\n            tmpl: \"...\",\n        });\n        class PayView extends TagCore {\n            onCreate(tag, opts) {\n                tag.on('mount', () => this.foo.then(()=> {\n                    return this.bar()\n                }).then(()=> {\n                    this.blah();\n                }));\n            }\n            foo = ()=> new Promise(resolve => resolve());\n            bar = ()=> new Promise (resolve => resolve())\n            blah = () => {...}\n            ...\n        }\n\n* async & await\n\n        @tag({\n            name: \"pay-view\",\n            tmpl: \"...\",\n        });\n        class PayView extends TagCore {\n            onCreate(tag, opts) {\n                tag.on('mount', async () => {\n                    await this.foo();\n                    await this.bar();\n                    this.blah();\n                });\n            }\n            foo = ()=> new Promise(resolve => resolve());\n            bar = ()=> new Promise (resolve => resolve())\n            blah = () => {...}\n            ...\n        }\n\n## 用TypeScript写一个Riot组件\n\n* html\n\n        <body>\n            <pay-view></pay-view>\n        </body>\n\n* ES5\n\n        require(\"pay-input\");\n        require(\"pay-submit\");\n        require(\"pay-vcode);\n\n        riot.tag(\"pay-view\", '<span>{ title }</span><pay-vcode></pay-vcode><pay-submit>提交</pay-submit>', function(opts) {\n            this.title = opts.title;\n            this.mixn(require('ajax1.js'));\n\n            this.trigger('ajax1');\n        });\n\n        riot.mount(\"pay-view\", {});\n\n* TypeScript\n\n        import {PaySubmit} from \"pay-submit\";\n        import {PayVcode} from \"pay-vcode\";\n\n        @tag({\n            name: \"pay-view\",\n            tmpl: `\n            <span>{ title }</span>\n            <pay-vcode></pay-vcode>\n            <pay-submit>提交</pay-submit>\n            `\n        })\n        @mixin([Ajax1])\n        class PayView extends TagCore implement Ajax1 {\n            onCreate(tag) {\n                tag.title = opts.title;\n                this.ajax1();\n            }\n            constructor() {\n                this.submit = new PaySubmit();\n                this.vcode = new PayVcode();\n            }\n            submit: PaySubmit;\n            vcode: PayVcode;\n            ajax1: () => void;\n        }\n\n        PayView.mount({});","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/05/04/2WebPack2-treeShaking-extTextPlugin.md","slug":"2017/05/04/2webpack2-treeshaking-exttextplugin","body":"# webpack2\n\n## tree-shaking（树摇）\n\nes6 module里面详述了树摇的的实现，但是webpack1始终没能实现，后来rollup实现了，于是大量框架转用rollup，去年webpack2发布，带来的就是这个tree-shaking功能。\n\n### AST树\n\n所有的代码，编译或者执行之前都会被转义成AST树，\n那么AST树是啥\n\n    let a;\n    let b = 1 + 1;\n\n* 代码\n    + 声明表达式\n        - let 声明\n        - 变量名 a\n    + 赋值表达式\n        - 加法运算\n            * 常量1\n            * 常量1\n        - 声明表达式\n            - let 声明\n            - 变量名 b\n\n### module的解析\n\n    // module a\n\n    export function foo() {...}\n    export function bar() {...}\n\n    // js\n\n    import { foo, bar } from a;\n\n    foo();\n\nwebpack会将代码解析成AST树，并发现bar并没有用过，就不会被打包进去。\n\n## extTextPlugin\n\n这是webpack的一个插件，可以解析出代码里面的css单独打包。这样css可以和组件放在一起了。\n\n    declare const require;\n    require(\"./style.scss\");\n\n    @tag({\n        name: \"pay-toast\",\n        tmpl: `\n        <div class=\"pay-toast\">{content}</div>\n        `,\n    })\n    export class PayToast extends TagCore {\n        public name: string = payToastConsts.name;\n        public onCreate(tag: ItoastTag, opts: ItoastRiotOpts) {\n            tag.update(opts);\n        }\n       public appendTag() {\n           const document = window.document;\n           const elem = document.createElement(this.name);\n           document.body.appendChild(elem);\n       }\n    }\n\n","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/05/04/3postcss-cssnext-cssnano.md","slug":"2017/05/04/3postcss-cssnext-cssnano","body":"# postcss干货\n\n上文说过，借助extTextPlugin可以把多个组件的css抽取成一个css，但webpack做的只是简单的文件拼接。处理css的地方要交给postcss。\n\n## cssnext\n\ncssnext使用caniuse.com的数据判断css需要支持到哪些浏览器，并自动做出可行的css解决方案（当然让ie6支持flex还是不行的）。\n\n    browsers: [\"> 0.1% in CN\", \"last 2 versions\"]\n\n登入 http://browserl.ist/ 可以查看上面的语句能支持的浏览器\n\n## cssnano\n\npostcss也是把css代码解析成ast树，解析之后可以看到冗余代码并对它进行压缩。\n","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/05/04/4Qxf-bigPipe.md","slug":"2017/05/04/4qxf-bigpipe","body":"# Qxf上的BigPipe的实现和优化原理\n\n![](http://i2.muimg.com/588926/2400354de719507f.jpg)\n\nQxf其实是express下的一堆中间件的集合，所以其实我在介绍express的BigPipe实现。\n\n简单的来说，当一个html开始下载的同时浏览器就开始渲染html了（而不是等html下载完成再渲染）。\n所以，返回给用户的页面可以一上一行地写出来（用我们学生时代老师的话来说就是挤牙膏）。\n\n## server => client (以前)\n\n1. 接到用户请求 => 白屏\n2. 请求接口，或者查数据库，处理数据，不拉不拉不拉 => 白屏\n3. 渲染出数据为state => 白屏\n4. 渲染模板为html => 白屏\n5. 返回html并结束请求 => 收到html并渲染，可能会下载css\n6. 空闲 => 下载js\n7. 空闲 => 渲染js，如果有ajax请求就请求\n\n## server => client (BigPipe)\n\n1. 接到用户请求 => 白屏\n2. 返回html的head => 收到head，下载css，核心js\n3. 请求接口，或者查数据库，处理数据 => 等待返回，如果有与UI无关的逻辑可以在下载完js后先执行\n4. 页面首部分的数据返回，生成state（组合成script标签） => 等待返回，如果有与UI无关的逻辑可以在下载完js后先执行\n5. 按照state生成模板一并返回，如果后面的接口也返回了数据重复3-5 => 渲染收到的html碎片\n6. 全部页面加载完成，结束请求 => 页面加载完成\n\n但是实际上按照BigPipe的做法，屏幕上面依赖的请求会阻塞，所以我对这一方案做了修改\n\n## server => client (BigPipe+)\n\n1. 接到用户请求 => 白屏\n2. 返回html的head + 按照默认state渲染的页面 + 默认state拼成的script标签 => 渲染出页面，下载css、js，js下载完成后可以操作了\n3. 请求接口，或者查数据库，处理数据 => 等待返回，或者直接操作页面\n4. 如果有接口返回，渲染出state并以script标签返回 => 根据收到的state二次渲染已经在dom树的组件\n5. 全部接口返回，结束请求 => 页面加载完成\n","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/05/04/5IsomophicApp.md","slug":"2017/05/04/5isomophicapp","body":"# Isomophic App\n\n如果你已经了解过前后端同构的话，你一定知道如下的方案\n\n    if (isServer) {\n        doServer();\n    } else {\n        doClient();\n    }\n\n那你看的文档应该都转发自同一个人。\n\n这种做法很有局限性\n\n* 你引用的module必须是umd打包的\n* 你引用的module必须不存在二进制包\n\n这回你知道为啥react要用全家桶了吧？\n\n## 换一种想法\n\n首先看一下node层和client层的不同点\n\n* node\n\n    接到用户Get请求 =>\n    node-fetch异步获取后端数据 =>\n    初始化Riot标签 =>\n    渲染页面为html =>\n    返回给用户 =>\n    收到接口元数据 =>\n    将元数据处理成state =>\n    以script标签形式返回用户 =>\n    res.end\n\n* client\n\n    收到渲染好的html并进行渲染 =>\n    加载js代码 =>\n    初始化Riot标签 =>\n    收到并运行script标签 =>\n    更新state =>\n    页面渲染完成\n\n可见，涉及到node像后端取数据并处理成state这部分逻辑是没必要加到client里面的，\n那么可以做两个文件实现node和client不同状态的处理。\n\n## 之前先介绍几个名词\n\n* 状态机存储器：　Store\n\n    ```new Store()```可以订阅```on```或者触发```trigger```几种事件，\n    没错```riot.tag```函数里面的```this```就继承自```Store```;\n\n* 广播控制器：　Control\n\n    是一个状态机的集合，方法```addStore```可以添加状态机存储器，\n    ```trigger```可以广播触发存储器的事件。\n\n* 标签生成器：TagCore虚基类\n\n* server.js\n\n        class RouteStore extends Store {\n            constructor(control) {\n                super()\n                this.on('apiFetched', () => ...)\n                this.on('serverStarted', () => ...)\n                ...\n            }\n        }\n\n        const control = new Control();\n        const routeStore = new RouteStroe(control);// 前后端不同的状态机\n        const someStore = new SomeStore(control);// 前后端一样的状态机\n\n        control.addStore(routeStore);\n        control.addStore(someStore);\n\n        const app = new App(control);\n\n* client.js\n\n        class ClientStore extends Store {\n            constructor(control) {\n                super()\n                this.on('DOMonLoad', () => ...)\n                ...\n            }\n        }\n\n        const control = new Control();\n        const clientStore = new ClientStore(control);// 前后端不同的状态机\n        const someStore = new SomeStore(control);// 前后端一样的状态机\n\n        control.addStore(clientStore);\n        control.addStore(someStore);\n\n        const app = new App(control);\n\n这样App、someStore这部分可以同构，clientStore和routeStore分别针对运行环境处理就可以了","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/05/04/6.md","slug":"2017/05/04/6","body":"# 项目完成情况\n\n## 封装完成但还没有上传npm\n\n1. QunarSniff中间件\n2. QunarLogin中间件\n3. TagCore，Control，Store\n4. fetch（用于合并请求，基于node-fetch）\n5. hysdk、QConfig-client-node， Qxf, PayGa 等的TypeScript封装\n6. 完成公用组件： yo-header, yo-logo, pay-toast\n","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/05/14/nas.md","slug":"2017/05/14/nas","body":"\n# 树莓派搭建 NAS\n\n好忙啊，写个大纲好了\n\n## 安装 RPI-Monitor\n\n## 安装吸血迅雷\n\n## Samba 共享文件\n\n## ssh 端口映射\n","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/05/15/Riot-Preact.md","slug":"2017/05/15/riot-preact","body":"# 弃坑Riot转投Preact\n\n![换个坑继续趟](http://i4.buimg.com/588926/431151959544ded0.jpg)\n\n## 回顾一下为什么用Riot\n\n### 1. 对ES5最友好的组件化MVP框架\n\n> 吐槽一下现在的前端，gulp + webpack + rollup +　babel + ... 用gcc的同学都看哭了好么\n\nriot.js虽然官网上给出的语法是ES6的，但是可以直接使用ES5的语法，虽然react也可以，但是没人会想用ES5写JSX吧。\n\n相比于其它框架，使用ES5的riot.js不用写gulpfile，不用谢webpack.config.js，不用写babelrc，想想，直接上去就开始写逻辑还是件挺爽的事情哈。\n\n当时公司大量使用Fekit作为发布工具，因为Fekit只是简单地commonjs实现，所以使用Riot.js就是件理所当然的事情了。\n\n### 2. 十分轻量的框架\n\nriot.js的源码70+KB，混淆之后是10+KB，大概一个handlebars或者是大一点的arctemplate的大小，里面包括组件化、observable的事件机制、路由器、SSR这些功能。\n\n用riot.js开发之后的逻辑代码（移动端）大小也没有比vue的核心代码库大。\n\n所以如果有一个项目想要快速开发，代码量又不想太大，riot.js会是我推荐的，而且不必担心性能问题（可以参考我之前vue、react和riot的对比，分明react是性能最差的）。\n\n之前写过riot.js的最佳实践，没在公众号里面推，后面补上哈～\n\n----\n<center>\n    <h3>蛋是</h3>\n    <h2>你还是一个好<s>人</s>框架</h2>\n    <h3>而我已经不是那个骚年了</h3>\n</center>\n\n---\n\n## Preact的出现\n\n去年我录制了一个Riot.js的分享视频（在youku可以搜到哦），Preact大概在那时出现在了hackernews的首页，我记得当时hackernews下面的回复都是很轻蔑的“呵呵，又一个“。\n\n等了大概一年，这个项目居然没死，要知道这一年很多类react的项目过得可不是那么好啊。这个项目的Twitter帐号都发会议邀请函了。\n\n## 那么引入Preact是为什么\n\n### 1. Typescript对JSX的支持好过template\n\ntypescript能够做静态类型检查，简单地说，如果我的代码里面有什么拼写错误或者什么包没引入，编译器都能查出来。\n\n蛋是，如果我写的代码在模板里面，编译器就无能为力了，毕竟模板就只是字符串啊。而jsx不同，它是一种DSL，编译器自然会检查里面的代码。\n\n### 2. Preact真的太TM小了\n\n当时使用riotjs的原因很大的比重在减负，在我的哲学里面，一个框架只需要完成我需要它完成的东西，其他的不要多。preact相比riot减负了大概50k（源代码），当然功能上也少了（observable，router）。\n\n### 3. 真的能堵住很多人的嘴\n\nPreact和React用的是同一套API，JSX语法又一样，用这套框架估计没有人吐槽难用了吧？（这一条真的很无力，好多人连react都没用过，就说我用一冷门框架不好维护，就像我用了react你就能来维护一样）\n\n## 所以我会用Preact吗？\n\n我会在最近的一次优化把我的项目进行优化改造，最后我在根据它的性能（ssr+browser）、最终的业务代码大小、是否可以多人合作开发等多方面分析考虑是否切换。\n\n当然，也有别的可能，毕竟当初说好用vim的我现在竟用着vscode。\n\n","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/05/21/Go-to-Luoyang-Summer-to-avoid-the-summer.md","slug":"2017/05/21/go-to-luoyang-summer-to-avoid-the-summer","body":"\n# 到洛阳避暑\n\n没错，题目就是这样，今年的北京天气可真不咋样，先是疯狂的柳絮，然后莫名其妙的刮起了多年不刮的沙尘暴，最可怕的是这个周末的温度直接飙升到 38 度。\n\n洛阳是我一直打算去的城市，我第一次去西安的时候，原打算是从洛阳返程，结果没想到被西安的人群吓到了，真的，之前我还没过那么多人。\n\n从北京到洛阳的火车票其实非常难买，我本打算清明节前往，但是因为忙活工作没来得及买票，去了大同。也不算是个坏事，我在大同博物馆了解到了一些北魏孝文帝南迁的故事，正好相当于预习了。\n\n我打算端午节去洛阳，可惜票也不好买，无奈选了这个周末，好在洛阳只有 30 度。\n\n## 晚点三个小时的火车\n\n我早早地下了班，因为我买的火车票是六点半的，其实我想买九点的票，可惜九点的票也没了。但这并不耽误我坐一辆九点的火车，因为我的火车晚点了两个小时。\n\n在火车上的一夜，我感觉这辆车一直在赶时间，最后当乘务员告诉我到洛阳的时间的时候，是八点半，比原计划晚了两个小时。\n\n出站，伴随着五环之歌的旋律，我找到火车站肯德基蹭了一会儿网，确定接下来的路线（我的全国流量已经用完了）。\n\n## 洛阳市博物馆\n\n洛阳火车站到市博物馆其实很好找，出站直走 3km 左右，右拐一个街区，再左拐穿过洛水（应该是洛水）就是了。我找到一辆 ofo，这么好找的路我觉得没必须要依靠更高端的设备，然而我错了，路途中我碰到了天子六驾广场，我意识到我拐早了，因为当时定路线的时候显然不应该到这里。\n\n天子六驾，其实是个车马坑，就是周天子当时的礼仪，没啥好看的，是我第一个从行程上划掉的地方。到门口，我叹了口气又继续到我原定的目的地去了，话说洛阳的电动车还真多，我一下子认识了好多品牌，鉴于他们都没给我赞助我就不提了。\n\n经过多次误打误撞，我终于到了博物馆。洛阳市博物馆新馆貌似在新区，周围一片拆迁或者城镇，我也不敢往里走，大概 6 公里左右的行程我骑了一个小时。\n\n洛阳市博，门口一个大柱子，我猜一下，应该是个地动仪雕塑，也许我猜错了，内部是两层。一楼和很多博物馆一样，是此地的历史介绍，毕竟从夏开始，帝王们就开始在洛阳建都，从茅草屋，到巍峨的木构。史书上把这些地方描述的宏伟大气，可惜现在看到的，只有那些建筑的基址了。\n\n一个有趣的设计，前文提到，北魏孝文帝从平成（大同）搬迁到洛阳，装修洛阳城，设计了这个城的中轴线（都说是中轴线，但我看来明显偏好多），一条大路从龙门直接连上了邙山上东汉光武帝的墓。现在这条路貌似还在，其实更像是巧合，一千年过去了，这个老城在地理上移了位置，就连新城也相对那时旋转了几度。但是链接邙山和龙门的路竟然还在，定鼎路，只不过这回，链接刘秀的墓和龙门是一个 Z，或者是个手写的大写 I。\n\n## 洛阳古墓博物馆，闭馆，sad\n\n古墓博物馆其实我一直想去，就是东汉光武帝的墓，后来原址上有很多唐墓和宋墓。其实国内有很多墓地是可以观光的，不过这个貌似是唯一一个可以进墓穴的，据说内部复原了汉、唐、宋时期的墓穴。\n\n遗憾的是这一天它断电了（哭）。由于在邙山上，骑车上去很痛苦，但下来就爽了。另外说说公交，虽然我看到了公交站，但我并没有遇到过公交。。。\n\n## 明堂和天堂遗址（强烈不推荐）\n\n来洛阳之前，我特别看了一下央视的纪录片，貌似叫《天地洛阳》。纪录片介绍过明堂，就是祭祀场所一样的地方，职责类似于，或者就是北京的天坛，武周时是 96m，我的天，平原立起来一个将近 100m 的木头，果然招雷劈，不久毁于大火，然后有重建了。当时弹幕飘过，说明堂已经重建，据说跑男还去拍过节目。\n\n新的天堂在洛阳还是蛮高的，跟旁边的电视塔遥相辉映，很像慈寿寺和北京电视塔的感觉，或者加一点想象力，像《攻壳机动队》里面的日本。突然想起来，日本很多城市就是照搬洛阳，日本的历史对洛阳的描绘也衬得上神都了，虽然我在洛阳看到的日本人并没有西安得多。\n\n这些东西还都是想象，来洛阳之前，我曾梦过这个古城，我会找一个古城内的青旅，我会在日出之前赶到屋顶，远远地看到明堂那面的灯光和星空相映。这些泡影全在我到了洛阳破灭。\n\n明堂在外面看看可以尽情想象，进去之后，就是一个无比俗气堂皇的大殿。所谓的大唐表演，就好像大学话剧团的表演，里面确实有介绍唐朝生活的部分，但是莫名其妙，本来还在说武器，突然就讲起来女人的发髻。八角形的建筑最难做展览，因为进去像迷宫一样，果然如此，我的体验就是每进一个门，都是个挑战，你不知道这屋子你进没进去过，还是特么的就是个出口，再提一个尴尬的事情，如果你出去了，就别想回来，景区里面的每个楼（其实就两栋）都只能进去一次，我和天堂门口的服务员理论了半天，她才放我进去，只因为我进去之后啥也没看着就莫名其妙地出来了。\n\n我很怀疑明堂和天堂的重构者是否是清华大学建筑系的，这两栋建筑简直是利用钢筋混凝土完美的把木构建筑的一切缺点实现了。\n\n另外提一下，逛完天堂，夜色已完，景区内的灯居然都灭了，留下来的只有里面的游乐场的灯光和跑男的广告牌。。。\n\n## 丽景门\n\n回到古城区，丽景门和前面的老街还热闹着。我看门上还有人游览，便买了票。不太清楚丽景门是不是复建的建筑，城墙都貌似是水泥铸好然后画的缝。但是上面还是有一个寺庙，还是个木构，我有点迷惑。但我并不多想，经过明堂那次糟糕的经历，我只想让新的感受把无奈覆盖掉。\n\n丽景门夜景很美，上面还有很多洛阳老氏族的来历，外面还有几个接头艺人唱着民谣，很好奇他们为什么没串味。\n\n## 安喜门青旅楼上\n\n我还是大清早到了青旅楼上，装饰很有感觉，这里是一只猫的地盘，我和它周旋很久才没让它进屋吹空调。\n\n## 龙门石窟\n\n还是定鼎路，只不过在另一个方向上，大概一个小时的车程到达目的地，我在网上订了电子导游。遗憾的是景区 WiFi 永远连不上，我还租了一个导游器。\n\n龙门石窟，作为四大石窟之一，其实招我体验，我感觉是最差的一个（当然我更喜欢硬朗的雕塑线条和更有故事性的内容）。也许是因为太出名了，破坏也是最严重的。\n\n保存最好的，是庐舍娜大佛，或许破坏的也不轻，毕竟人家以前是有房人士。旁边的迦叶，感觉像没雕完，或者被破坏了，或者当时就想雕成这样，毕竟是苦行僧嘛。然而讲解器没讲，旁边的导游也没说。\n\n龙门石窟主要是西山石窟很多，河对岸东山上也有几个石窟，联票里面有，我就游览了几个。另外联票里面还有香山寺、白园（跟白居易有关），蒋宋故居（民国时期的地区谄媚中央工程，估计蒋介石都没住过多久）。\n\n回去的路上有龙门石窟博物馆，时间还有富余，我便游览了几分。博物馆四层，负二层错乱的摆着很多石窟里面或是已经破坏、或是修复的时候发现的墓碑之类的石刻。负一主要是丝绸之路的展品。一二层有一些追回的石窟像，也找不到原来的佛位，或者是复原不了就放到这里了。\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/05/28/Second-screen.md","slug":"2017/05/28/second-screen","body":"# 第二块屏幕\n\n作为一个前端程序员，13寸的屏幕显然不够工作，尤其是当你写代码的时候还想看美剧的时候。\n\n我有一个屏幕，15寸的联想800x600 VGA屏幕，以前为了玩树莓派在旧货市场淘来的，分辨率实在太低了。如果连我家的投影的话，为了使用自由，我只会使用无线连接，但是linux下面还没有一个完备的无线连接方案。\n\n## 拆掉我的旧电脑\n\n年前我提到过，我把我的老电脑拆了，硬盘用来接树莓派，当然我也把屏幕拆过来了。我在淘宝上搜了一下五合一屏幕驱动板，加上电源大概100块搞定，卖家比较热心，问好型号之后整块驱动板基本上是连接好就寄过来了。\n\n## 做一个比较好的壳\n\n基本上只能拿垃圾做一个壳了，在北京的家里面，没有螺丝，所以我只能把驱动板缝在巧克力盒包装上。大概如图（如果我传图了）。\n\n## linux处理第二块屏幕\n\n其实连接好屏幕就可以玩了，但是由于我的笔记本是4K的，老屏幕虽然是14寸，但其实只能显示我现在笔记本的1/4.需要xrandr处理缩放。\n\n    xrandr --output eDP1 --auto --scale 1x1 --output DP1 --auto --scale 1.8x1.8 --right-of eDP1\n\n> 为什么不是 2x2 ? 其实我尝试过，可是很快就能挂掉，所以我改成 1.8x1.8 \n\n还有一个bug，屏幕虽然能够显示了，但鼠标能够控制的地方还是1/4。ArchWiki里面说是一个bug，看了一下。貌似还没解决。。。\n\n好吧，最后我选择了妥协，毕竟已经可以美美哒地看美剧了～\n\n---\n\n<p style=\"float:right;\">\n宫不上，2017/05/28【端午节】，在北京9㎡的家中。\n</p>\n","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/05/29/Conquest-Line-2.md","slug":"2017/05/29/conquest-line-2","body":"\n# 征服二号线\n\n去年我征服十号线的时候，最后一句说如果有机会还是考虑一下二号线吧，所以这把我就来征服二号线了。\n\n开始是听《壁下观》说积水潭医院以前是棍贝子府，现在后花园还在，所以我就去看了一眼，后来大概就是我到了德胜门，然后就想干脆跑一圈吧，所以跑了一圈。\n\n![](http://wx2.sinaimg.cn/mw1024/89d0a2e1ly1fg2lvsu9qaj20qo0qojvb.jpg)\n\n## 一路上\n\n西直门北面是长河+北京北站，所以从北面跑到 1 西直门简直是噩梦；\n\n积水潭医院中心是棍贝子府的后花园，挺不错的下沉花园，不知道当初是不是这么设计的；\n\n德胜门到鼓楼全是人，主要是南锣鼓巷和五道营的游客，但是有林荫路可以跑；\n\n从鼓楼到北京站中间基本上没有多少卖水的，全是大饭店和银行；\n\n北京站北面是建国门，我总算找到了一家麦当劳，吃了新推出的那么大甜筒，真心不好吃；\n\n建国门有古观景台，门票 20，手机快没电了，没去；\n\n从建国门到东交民巷是最好跑的，人少，其实是因为前面是天安门，人都在那儿呢；\n\n前门比较混乱，因为还在修地铁，游客也很多，再加上天安门封路，差点出不来；\n\n前门往西都是北京最破的胡同，但是谁让人家地价高呢；\n\n西便门有一个明城墙遗址，有点西安城墙的意思，但是小的可怜，上面有个石观音像；\n\n西便门往北都是居民，路过月坛就快到终点了。\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/05/30/sad-WPS4linux.md","slug":"2017/05/30/sad-wps4linux","body":"# sad,WPS4Linux停止开发\n\n默哀三分钟","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/06/03/sinopia-NPM.md","slug":"2017/06/03/sinopia-npm","body":"# sinopia搭建你的私人NPM\n\n今天本来想边刷CodeWars边看《纸牌屋》的，显然两件烧脑的事情还是不要放到一起做比较好。\n\n简评一下《纸牌屋》第五季，编剧能写五季不错了，赶紧完结吧，剧情开始走下坡路咯。\n\n## 进入正题\n\n为什么要搭建私人NPM？我靠，这还用问。。。（你自己猜吧）\n\n    npm install -g sinopia\n\n安装好sinopia之后，执行sinopia就好了，默认端口4873，只能本地访问。\n\n## 配置\n\n往往我会新建一个用户\n\n    useradd -G users sinopia -d\n\n然后用户这个用户执行sinopia，sinopia执行的根目录需要三个文件，config.yaml，storage，htpasswd\n\n只配置config.yaml就好了，示例在https://github.com/rlidwka/sinopia/tree/master/conf\n\n## 执行\n\n用PM2执行，默认sinopia会在执行目录寻找config。本地访问成功后大工造成。\n\n***注意***\n\n1. 因为我用的是Linux，自从安装了node8+npm5之后，可能涉及到Darwin的包会报警，不过忽略就好。\n\n2. 注册的时候报错crypt3找不到，貌似安装的时候gyp出错被忽略掉了，我到sinopia目录里重装了crypt3解决。","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/06/04/riotjs-typed.md","slug":"2017/06/04/riotjs-typed","body":"# 我把riotjs-typed开源了\n\n都来看啊，都来看啊\n\n关键字：\n\nriotjs, riotcontrol, SSR, 组件化开发, 前后端同构","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/06/15/nock-node-mock.md","slug":"2017/06/15/nock-node-mock","body":"# nock做node的mock数据\n\n懒得写了，mark一下","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/07/08/Greater-China.md","slug":"2017/07/08/greater-china","body":"\n# 大美中华\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/07/09/Wish-me-a-happy-birthday.md","slug":"2017/07/09/wish-me-a-happy-birthday","body":"\n如题~","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/07/14/egg-ts.md","slug":"2017/07/14/egg-ts","body":"# 起因\n\n今年我开始在生产环境里试用node（貌似比很多人慢了一年......）。\n由于公司node环境较低，我只能使用一款修改过的express，\n为了解决兼容问题我还用typescript进行编译（事实证明typescript简直awesome）。\n\n随着公司更新了新版的node（也不高，6.1.2）。我也有了更多选择，\n有一天我在cnode上面看到了egg的发布，打算自己试一下。\n\n## 废话少说，从快速入门开始\n\negg有一个详细的快速入门[https://eggjs.org/zh-cn/intro/quickstart.html]()，\n但是时间紧张，我直接用脚手架建项目了。\n\n    egg-init egg-example --type=simple\n\n## 目录结构\n\n我曾一度认为一个较好的框架其实不需要什么目录结构，自打我和其他人合作之后我就彻底打消这个念头了。\n\n```shell\negg-project\n├── tsconfig.json\n├── package.json\n├── app.js (可选)\n├── agent.js (可选)\n├── ts\n|   ├── router.ts\n│   ├── controller\n│   |   └── home.ts\n│   ├── service (可选)\n│   |   └── user.ts\n│   ├── middleware (可选)\n│   |   └── response_time.ts\n│   ├── schedule (可选)\n│   |   └── my_task.ts\n│   ├── public (可选)\n│   |   └── reset.css\n│   └── extend (可选)\n│       ├── helper.ts (可选)\n│       ├── request.ts (可选)\n│       ├── response.ts (可选)\n│       ├── context.ts (可选)\n│       ├── application.ts (可选)\n│       └── agent.ts (可选)\n├── config\n|   ├── plugin.js\n|   ├── config.default.js\n│   ├── config.prod.js\n|   ├── config.test.js (可选)\n|   ├── config.local.js (可选)\n|   └── config.unittest.js (可选)\n└── test\n    ├── middleware\n    |   └── response_time.test.js\n    └── controller\n        └── home.test.js\n```\n\n删了项目里的app文件夹，并把app文件夹加到.gitignore里面。\n修改tsconfig.json，css可以用别的工具解决，不在本次话题里面。\n\n```json\n{\n  \"compilerOptions\": {\n    \"target\": \"ES2016\",\n    \"module\": \"commonjs\",\n    \"outDir\": \"./app\",\n    \"rootDir\": \"./src\"\n  }\n}\n```\n\n另外，我把view文件夹给删掉了，理由是我一直比较推崇前后端同构，所以既然有view层，前后端的模板应该一致，\n目前前端忙于组件化，基于vue和jsx的模板语言也很多（虽然性能不高，但可预见性能问题会很快解决），所以本文暂时不谈view。\n\n## OK，可以愉快地写代码了\n\n因为官网没有TS的相关文档，这里记录一下。\n\n### 新建一个Controller\n\n    // src/controller/home.ts\n    import { Controller } from \"egg\";\n    import { prefix, suffix } from \"../frags\";\n\n    export default class HomeController extends Controller {\n        async index() {\n            this.ctx.body = `${prefix}<h1>Hello World</h1>${suffix}`;\n        }\n    }\n\n### Router的引用\n\n    import { Application } from \"egg\";\n\n    export default (app: Application) => {\n        app.get('/', \"home.index\");\n    }\n\n## 结论\n\negg其实不错，能换自然是最好了。但是不换的话，如果项目已经跑起来了，\n说明egg该趟的坑都被你自己趟过了，而且已经用了typescript，async和await自然都用上了，\n所以（在我看来）generator就没更多优势了。\n\n但是如果你还没用上typescript...真的，动态一时爽，重构火葬场啊。\n\n以上。","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/07/30/Different-meal+founding-of-the-army.md","slug":"2017/07/30/different-mealfounding-of-the-army","body":"\n# 聚餐加建军大业~\n\n\n<iframe src=\"http://gongbushang.com/ng/panorama/2017-07-30%20%E5%BA%A6%E5%B0%8F%E6%9C%88.html\" width=\"100%\" height=\"100%\"></iframe>  \n\n\n其实不太希望《建军大业》拍成这样，就算当年参军的人十岁，现在也该上百了，真的经历过南昌起义、秋收起义、三河坝战役、长征和两军会师的人已经快不存在了吧？以后再想回忆这段历史，就算是用VR，除了炮火也没啥真实感了吧。\n\n毕竟历史是推轮子的人造就的，而不是造轮子的人造就的。","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/08/01/archifactory.md","slug":"2017/08/01/archifactory","body":"# Achifactory私有源的坑\n\n公司的私有源从CNPM改成AchiFactory了，为的是更好的管理docker、maven、PyPI和npm，结果我在迁移的时候出现了问题。\n\nnpm install的时候一直报 module achifactory not found\n\n结果是公司的私有库没有完全同步，我的一个私有包404了，但是报achifactory not found还真是。。。","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/08/14/Discover-a-website-of-a-piano-score.md","slug":"2017/08/14/discover-a-website-of-a-piano-score","body":"# 发现一个口琴谱的网站\n\nhttps://www.harptabs.com/\n\n* 直接是bd谱，好爽","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/08/15/Er-pt.md","slug":"2017/08/15/er-pt","body":"# 【Erʌpt】一个前后端同构的设计思想\n\n<img src=\"http://ww1.sinaimg.cn/large/89d0a2e1ly1fikrpw68t9j208c08cdfx.jpg\" alt=\"logo\" width=\"150px\">\n\n> 最近一直没有更新博客，其实脑子里面已经装了很多东西了，略微分享一下。\n\n[精美PPT~（花了十多分钟呢](http://gongbushang.com/ng/ERUPT/)\n\n## 前提\n\n2017年前端看起来是风平浪静的，其实不然，今年WASM终于定稿了，那意味着用任何语言编译web应用得到了官方支持。由于采纳的是Mozilla的asm.js方案，兼容性上面要好得多。很多人关注的是性能上的提升，而我觉得最先活起来的应该是前后端同构。因为大批的后端程序员可以避开javascript的各种坑去使用自己的开发语言开发前端应用了。\n\n### 最近出现了很多诸如RustWeb和Golymer的框架\n\n<table>\n<tr>\n<td>\n<img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fir7gp7j3ej20r40k6abz.jpg\"/>\n</td>\n<td>\n<img src=\"http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fir7nz5t8qj21040qcabg.jpg\"/>\n</td>\n</tr>\n</table>\n\n### CS架构解决的问题\n\n![现有的CS架构](http://ww1.sinaimg.cn/thumbnail/89d0a2e1ly1fir7ta8jaij20a90a9437.jpg)\n\n* 我是谁\n* 我从哪里来\n* 要到哪里去\n\n### 照以前前后端分离的方案\n\n| server | client |\n|--------|--------|\n| 返回html | 发出请求 |\n| 空闲  | 获取css、js等资源 |\n| 空闲  | 发出ajax请求 |\n| 返回数据 | 空闲 |\n| 空闲 | 渲染数据 |\n\n### 前后端同构的做法\n\n| server | client |\n|--------|--------|\n| 返回html头部 | 发出请求 |\n| 返回html碎片 | 获取css、js |\n| 返回html碎片 | 渲染碎片 |\n| 返回end | 结束页面渲染 |\n\n### 小结一\n\n前后端同构是在“我是谁？”这一部分做了优化。\n\n### 前后端同构的优势\n\n1. SEO，不多说了；\n2. 减少http请求数；\n3. 减少用户初次访问页面的白页时间；\n4. 减少因前后端分离造成的技术障碍。\n\n### 前后端同构的策略\n\n1. 精确渲染\n2. 结构渲染\n3. 模板渲染\n\n#### 精确渲染\n\n把页面首屏的内容都渲染出来。\n\n![精确渲染](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fiylzsf71jj20hs0b4mxf.jpg)\n\n#### 精确渲染的评价\n\n优点\n\n* 渲染出来的页面就是用户看到的\n\n缺点\n\n* 部分后端请求会阻塞页面的渲染\n\n#### 结构渲染\n\n把初始状态的首屏渲染出来然后在同一请求中把应该展示的状态展示出来。\n\n![结构渲染](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fiym4385dfj20hs0b4jro.jpg)\n\n#### 框架渲染的评价\n\n优点\n\n* 解决了精确渲染会阻塞的问题\n\n缺点\n\n* 对于新闻类型的页面，框架渲染不利于SEO\n\n#### 模板渲染\n\n把模板直接作为html传到客户端。\n\n![模板渲染](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fiynhe7jenj20hs0b43ys.jpg)\n\n#### 模板渲染的评价\n\n优点\n\n* 字符串渲染，计算开销最小\n\n缺点\n\n* 用户会看到未渲染的模板变量\n\n### 小结二\n\n应该结合精确渲染和框架渲染\n\n## 介绍Erʌpt\n\n| | Erʌpt |  |\n|--|---|---|\n| E | Express | 这都不知道？退下吧  |\n| R | React | 这也不知道？别看了 |\n| ʌ | Values | 基于Redux的异步数据管理 |\n| P | Pipe | HTML渲染器 |\n| T | Tunnel | 同步数据管理 |\n\n## Values异步数据管理\n\n### 单向数据流\n\nreact的render函数是会不断轮询页面上绑定的数据来进行页面更新的。\n\n| value===\"bud\" | value===\"bloom\" |\n|--|--|\n|![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fiyoot1ss4j20m80gojsi.jpg)|![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fiyotbnajvj20m80godgz.jpg)|\n\n### Values的写法\n\n```typescript\nclass TestValues extends Values {\n    public getReducer() {\n        return combineReducers({\n            flower: TestValues.FlowerValue(),\n        });\n    }\n    public static FlowerValue = () => {\n        return ( value = \"bud\", action ) => {\n            if ( action.type === \"开花\" ) return \"bloom\";\n            if ( action.type === \"被狗踩了\" ) return \"baiduLogo\";\n            return value;\n        }\n    }\n}\n```\n\n### 怎么使用Values\n\n```typescript\nconst v = new TestValues();\nconst store = createStore(v.getReducer());\nstore.getState(); // { flower: \"bud\" }\n```\n\n### Pipe HTML渲染器\n\n用于利用React renderToString 生成HTML。\n\n### Pipe的写法\n\n```typescript\nclass TestPipe extends Pipe<Request, Response> {\n    constructor(request, response) {\n        super( request, response, minifyParams);\n    }\n    public renderPage(tunnel) {\n        this.html(`\n        <!doctype html>\n        <html>\n            <body>\n            ${this.JSX2HTML(\n                <Provider store={store}>\n                    <Page></Page>\n                </Provider>\n            )}\n            </body>\n        </html>\n        `);\n        this.response.end();\n    }\n}\n```\n\n### Tunnel同步数据管理\n\n#### Tunnel的设计\n\n前后端同构的意思是要在后端完成一部分工作，当前端getState的时候，获取的是后端生成并注入到前端作用域的state，也就是说这个对象在后端完成set工作，而在前端完成get工作。\n\n![Tunnel设计](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fiypthxr4jj20m80goq4f.jpg)\n\n#### Tunnel的使用\n\nServer\n\n```typescript\nconst t = new Tunnel(\"QNR_GLOBAL\", {}, value);\nPipe.renderPage(t)\n```\n\nClient\n\n```typescript\nconst t = new Tunnel();\nt.$state // { flower: \"bud\" }\nwindow.QNR_GLOBAL // { $state: { flower: \"bud\" } }\n```\n\n## 结论\n\nErvpt是VPT在react+express上面的实现，能够很好地实现前后端同构中的精确渲染和结构渲染，基于这套思想我相信它能带来一场新的前后端分离的革命，也就是前端能够主导全部的页面逻辑，后端专注于接口的优化。","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/08/20/Finally-read-Brief-History-of-the-Future.md","slug":"2017/08/20/finally-read-brief-history-of-the-future","body":"# 终于读完了《未来简史》\n\n> 出于对共产主义的向往，我是等到这本书出了盗版我才看的。\n\n看这本书之前，我看完了《极简世界史》和《美国众神》，我并没有看《人类简史》。我周围很多号称读了这本书的人都说这是一本关于AI主宰人类的书，当我读完了，我并不觉得作者是这样想的（当然也有可能是因为之前很多人往这个方向引导我导致我在阅读的时候尽量不去往这个方向理解）。\n\n下面说几个安利这本书的原因\n\n## 作者的世界观很大\n\n书中很大一部分并没有提及人工智能（也许是译者不愿意往人工智能翻译）。作者是通过历史和近代人文来揣测未来人类的发展方向。这和我看到题目时直观理解出的空想主义不同。字里行间可以看出，作者不仅对西方的历史人文有所了解，他对东方文化的了解应该高于很多西方人，甚至是东方人。读这本书会有一种和智者交流的愉悦。\n\n## 书的内容很中肯\n\n和评论不同的是，书里的内容既不激进也不保守。对于我们现有的和平，作者指出这并不是感性的意识而是处于理性的需求，这是十分科学的。同时作者指出现有的社会主义甚至是纳粹其实都是自由主义的分支，而未来纳粹所代表的进步自由主义将会借助生物工程复辟，而届时那些被压迫的人或许会因为压迫而感到愉悦。\n\n## 作者把意志和智能分离\n\n这还真是个有趣的想法，因为普遍认为我们的意志的存在是因为智人有高等的智能，所以我们出于比较直观的想法就是任何具有智能的东西都会有意志。\n然而智能是可以用算法解决的，这也就是为什么我们能做出人工智能，比如说我饿了，并不是因为我想吃饭了，而是我身体能量开始走低，胃部开始刺激神经，脑部接到信号处理完成的结果。但是我最终没有选择楼下的吉野家而是选择了一个小时车程外的簋街，这就可能是意志了。\n\n综上，这本书确实值得一看，前面好像《极简世界史》的读后感，后面又有点像《美国众神》的另一种开放结局。至于未来是会想评论里说的AI主宰人类，还是奥丁和洛基主导的一出闹剧？只有未来自己知道，或许我都无法看到那一天。","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/08/27/Go-to-Dazaitai-and-watch-nothing.-A-Southern-Girl-commemorates-the-days-when-you-froze-into-a-dog.md","slug":"2017/08/27/go-to-dazaitai-and-watch-nothing-a-southern-girl-commemorates-the-days-when-you-froze-into-a-dog","body":"# 去大葆台啥也没看着，一首《南方姑娘》纪念一下冻成狗的日子\n\n本来打算去大葆台西汉墓看黄肠题凑，结果博物馆从13年就暂停整顿到现在。。。\n\n然后北京本来是小雨，现在是大雨了。。。\n\n![曲谱](http://ww1.sinaimg.cn/large/89d0a2e1ly1fiykhcn9btj20zk2kjdj7.jpg)\n","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/09/17/13.md","slug":"2017/09/17/13","body":"# 征服地铁13号线\n\n上个月帮同学搬家，路过北苑，回家的时候坐的是13号线，感觉13号线旁边树木环绕，非常适合跑步，所以规划了这次跑步计划。\n\n> 因为之前不小心把手机镜头脆了，所以拍的图片有点雾霾滤镜，不过没关系，北京嘛，没雾霾可还行。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9ssjnpy5j20o8140gzo.jpg)\n\n## 第一站：望京西\n\n大概下午五点多，我坐车到达望和桥，天还是亮的。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9slcartuj23nd2qj7wk.jpg)\n\n从望和桥到望京西只需要沿着左边的车道跑就好了。很快就到达了望京西。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9so40d4dj23nd2qj1l0.jpg)\n\n望京西往北苑的路是京承高速，不能跑需要绕行，穿过望京西地铁站对面有一个人行天桥下来直行即可，接下来就是长达八公里的征途。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9svboe95j22001i07wh.jpg)\n\n\n## 第二站：北苑\n\n从望京西到北苑有足足８公里，路上的风景其实和西四环差不多。路边也停放很多共享单车，但最多的既不是摩拜也不是ofo，而是这个绿色的车子。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9swh6psyj23nd2qjhdw.jpg)\n\n8公里基本上路过的是公园和高尔夫球场，人少车少很适合跑步，直到看到顾家庄立交天桥的时候才有了些人烟。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9sybi85hj23nd2qj4qs.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9t07nrjnj23nd2qje84.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9t0m65t4j23nd2qjkjp.jpg)\n\n周围貌似还有一些老一点的厂房。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9t10trqmj23nd2qjqv6.jpg)\n\n到了北苑地铁站，可以看到呼啸而过的13号线列车。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9t1xzlk7j23nd2qjkjo.jpg)\n\n北苑站对面有一个商场，从地图看，沿着左侧的道路直行两到三公里就到。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9t39bb8ij23nd2qj7wk.jpg)\n\n## 立水桥\n\n地图果然是不准确的，因为沿着左侧的路到头是一条河，过河的桥只是给13号线走的，而最近可以人行的桥还要绕上两三公里。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9t7lvt10j23nd2qju0z.jpg)\n\n在小路里绕来绕去，终于柳暗花明。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9t8uzpc4j23nd2qj1l1.jpg)\n\n看到立水桥，说明离立水桥不远了。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9tcas4d3j23nd2qje84.jpg)\n\n昌平区各种牛逼的人行天桥。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9td3ru3bj23nd2qjkjo.jpg)\n\n到达立水桥站（可以看出眼神里的绝望，冤枉路走得太多了。。。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9tf7ss0xj22001i07wh.jpg)\n\n其实立水桥也够魔幻的了，小区旁边有轻轨通过。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9th7i2p3j23nd2qje84.jpg)\n\n## 霍营\n\n沿着13号线往前被一大片工地挡住了，我只好绕火车道走里面的东小口森林公园。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9tifb9o6j23nd2qjx6s.jpg)\n\n森林公园很大，里面有一个特别大的篮球场地，由于我怕迷路了，竟没来得及拍照。\n\n从森林公园出来，天色已暗，森林公园周围一股紫气升起来，其实很恐怖，话说旁边就是北太平庄，感觉名字就不太对劲啊。。。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9tmmjrf3j23nd2qjkjq.jpg)\n\n往北走，竟是一个很大的棚户区，怎么说呢，我还从没见过北京有这么大的棚户区，貌似以前是某个厂区的宿舍吧，但感觉住的已经不是本地人了，周围各种脏乱差。\n\n出了棚户区可以见到海淀和昌平分界的牌子。可能是两区的分界线吧，这片棚户区成了三不管地带。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9tt6lvl6j23nd2qj1l2.jpg)\n\n往北走，能看到一家青岛啤酒厂。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9tuted4jj23nd2qjhdx.jpg)\n\n正在往北走就到霍营了，地铁站在火车道对面，我就没办法过去拍了。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9tv3n4sfj22001i07wh.jpg)\n\n霍营貌似还有去八达岭的车。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9tw3n2s8j23nd2qj1l2.jpg)\n\n## 回龙观\n\n从霍营到回龙观都是类似于上世纪末建的小区。到达回龙观明显有一种穿越感，突然又出现了高楼大厦。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9twt2a6yj23nd2qj1l1.jpg)\n\n## 龙泽\n\n回龙观到龙泽很近，也就一公里多吧，这个点已经快八点了，即使是周末也有很多从地铁里出来。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9u1l6isaj23nd2qje85.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9u31y58jj23nd2qje86.jpg)\n\n## 西二旗\n\n竟然忘了拍西二旗地铁站了，西二旗地铁站有点像沈阳的地铁站，各种司机拉客，已经快九点了，可是地铁站外面还是有很多人在排队。我粗略的逛了下百度科技园（不要在意我的渣像素），就急忙去赶最后一班982回家了。\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9u6qw4a1j23nd2qjhdv.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9u6zt5m8j23nd2qj1kz.jpg)","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/09/18/Typescript sucks but long live the types.md","slug":"2017/09/18/typescript-sucks-but-long-live-the-types","body":"# TypeScript Sucks but Long Live the Types\n\n[查看PPT](http://gongbushang.com/ng/types-slide/)\n\n## Part I : Type System\n\n### JavaScript 是一种很爽的语言\n\n作为一款动态语言，比如你可以执行以下代码而不用担心报错。\n\n```javascript\nvar num = \"3\" - \"2\";　// num = 1\n```\n\n---\n\n但是，如果遇到了下面这种情况，就算是灾难了。\n\n```javascript\nisGreater(\"1000\", \"233\"); // false\n\nfunction isGreater(ａ, b) {\n    return a > b;\n}\n```\n\n---\n\n所以我们写代码的时候，都会加注释\n\n```javascript\n/**\n* 是否为最大\n* 参数传数字啊\n* 谁不传谁是小狗\n* @constructor\n* @param {number} ａ\n* @param {number} b\n* @returns {boolean}\n**/\nfunction isGreater(ａ, b) {\n    return a > b;\n}\n```\n\n---\n\n可是总有人不看注释，所以这个函数变成了\n\n```javascript\nfunction isGreater(a, b) {\n    const T_NUM = \"number\";\n    if (\n        T_NUM === typeof a &&\n        T_NUM === typeof b\n    ) {\n        return a > b;\n    } else {\n        throw(\"参数传数字啊，扎心了，老铁！\");\n    }\n}\n```\n\n---\n\n这还没完呢，假设这次改动出现在某次重构中，此前这个isGreater方法已经遍布你的项目了。\n\n```javascript\nbtn.onclick = () =>\n    isGreater(\"x\", \"y\") ? ... : ...;\n```\n\n而正好，这个 onClick 在自测的时候被忽略了。上线之后就是灾难了。\n\n---\n\n### 动态一时爽，重构火葬场\n\n### 举个 TS 的栗子\n\n```javascript\nfunction isGreater(ａ: number, b: number): boolean {\n    return a > b;\n}\n```\n\n### 类型系统的优势\n\n* 代码可读性高\n* 更有利于重构\n* IDE能更好地支持\n* 预防某些类型相关的错误\n\n### 比较流行的JS类型系统\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fjow3fyxzbj20fy0baq4k.jpg)\n\n## Part II : TS vs Flow\n\n众多类型系统里面，typescript 和 flowtyped 的比较类似，目标都是为了 JS 的工程化，而且语法上除了细节几处根本没区别。\n\n### 对照\n\n| | TypeScript    | Flow-typed    |\n|--|---------------|---------------|\n| by   | Microsoft  | Facebook   |\n| in   | TypeScript | OCamel     |\n| is A | Compiler   | Checker    |\n| VSCode | 原生支持  | 安装插件 |\n| webpack | ts-loader | babel |\n| config | json | config |\n| version | 2.3.2 | 0.54.1 |\n\n### 简单比对\n\n#### TypeScript\n\n```javascript\nfunction isGreater(a: number, b: number): boolean {\n    return a > b;\n}\n\nisGreater(\"1\", \"2\");\n      // ^^^^\n      // Argument of type \"1\" is not assignable to parameter of type 'number'.\n```\n\n### Flow-typed\n\n```javascript\n//@flow\nfunction isGreater(a: number, b: number): boolean {\n    return a > b;\n}\n\nisGreater(\"1\", \"2\");\n        // ^^^  ^^^\n        // string (This type is incompatible with the expected param type of number)\n```\n\n### 空值检查\n\nTypeScript(strict) 和 Flow 都能指出 nullCheck 函数应该指明返回值为 string | void 类型。\n\n```javascript\nfunction nullCheck(num: number): string {\n                                // ^^^\n                                // [ts] Function lacks ending return statement and return type does not include 'undefined'.\n                                // [flow] This type is incompatible with an implicitly-returned undefined.\n    if (num > 10) {\n        return \"it's ok\"\n    }\n}\n```\n\n### 泛型\n\nTypeScript 和 Flow 都指出狗的数组不能加入猫的实例。\n\n```javascript\nclass Animal { }\nclass Dog extends Animal { woff = true }\nclass Cat extends Animal { meow = true }\n\nlet animals: Animal[] = [];\nlet dogs: Dog[] = [];\nlet cat: Cat[] = [];\n\nanimals.push(new Animal);\nanimals.push(new Dog);\nanimals.push(new Cat);\n\ndogs.push(new Cat);\n      // ^^^^^^^^\n      // 'Argument of type 'Cat' is not assignable to parameter of type 'Dog'.\n      // ^^^^^^^ Cat. This type is incompatible with\n```\n\n---\n\n此处 TS 和 Flow 都能查出错误，但是报错位置不同。\n\n```javascript\n//@flow\nclass Animal {}\nclass Dog extends Animal { woff = true }\nclass Cat extends Animal { meow = true }\n\nlet animals: Animal[] = [];\n            // ^^^^^^\n            // [flow] Animal (This type is incompatible with Cat)'\nlet cats: Cat[] = animals;\n// ^^^\n// [ts] Type 'Animal[]' is not assignable to type 'Cat[]'.\n```\n\n#### Wait for IT\n\n震惊，TypeScript 在这种情况下不报错！！！\n\n```javascript\n//@flow\nclass Animal {}\nclass Dog extends Animal { woff = true }\nclass Cat extends Animal { meow = true }\n\nlet cats: Cat[] = [];\nlet animals: Animal[] = cat;\n        // ^^^^^^^^^\n        // [flow] Animal (This type is incompatible with Cat)\n\nanimals.push(new Dog);\nanimals.push(new Cat);\nanimals.push(new Animal);\n\nJSON.stringify(cats); // [{\"woff\":true},{\"meow\":true},{}]\n```\n\n***TS 只做了类型检查，而 JS 数组是引用赋值的，因此引起了错误***\n\n#### Nominal & Structural (property-based) Typing\n\nFlow 是标称类型而 TS 是结构类型。\n\n```javascript\nclass Animal { }\nclass Dog extends Animal { name = \"dog\" }\nclass Cat extends Animal { name = \"cat\" }\n\nlet dog: Dog = new Dog;\ndog = new Cat;\n      // ^^^^^^^ [Flow] Cat. This type is incompatible with Dog\ndog = { name: \"dog\" };\n      // ^^^^^^^^^^^^^^^ [Flow] object literal. This type is incompatible with\n```\n\n#### 对比总结\n\n|    |　TypeScript | Flow-typed |\n|----|-------------|------------|\n| 工具支持　| 有亲爸做编辑器　| 目前体验存在迟钝，但可以做 linting 前的最后工序 |\n| 第三方库定义支持　| npm @types 私有库　| flow-typed 可以安装定义，但明显少于 TS |\n| 质量检查　| tslint　| eslint　(jshint 不行) |\n| 编译　|　可以直接编译为各版本的 JS | 借助babel |\n| 迁移成本　| 可以把原来的 JS 作为类库使用，但整体依然要用 TS 写 | 可以指定要检查的文件 |\n| 其他　| 支持很多es7/8的功能　| 只是检查器，但是类型检查强于 TS |\n\n## Part III Types in use (TypeScript)\n\n### Library\n\nJavaScript 的类库一直是良莠不齐，所以当你有两个以上的类库可选的话，究竟选哪个可能是个问题。\n\n好在如果一个 JS 类库存在类型声明的话，可以说明这两个问题。\n\n* 官方声明：作者写这一类库的时候不是玩票地试一下\n* 第三方声明：已经有人在使用这一类库了\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fjq8ttqtxhj20w20i4abt.jpg)\n\n那么在使用这些类库的时候起码不会有太多的坑。\n\n#### NPM declarations\n\n假如你是一个类库的作者，你已经用 typescript 写完了一个库，正准备把它发布到 npm 上面，如果你想给这个类库加上类型声明，只需在 typescript 的编译配置　(tsconfig.json)　上添加如下字段。\n\n```javascript\n\"declaration\": true\n```\n\n再次编译，你会看到很多```*.d.ts```文件，这就是类库的声明文件。\n\n```javascript\nfunction isGreater(ａ: number, b: number): boolean;\n```\n\n接下来，在```package.json```添加 type 字段，再发布的 npm 包就已经带有声明了。\n\n```javascript\n\"types\": \"./lib/main.d.ts\",\n```\n\n另外，通过在　@types 下搜索也能找到第三方的类库声明。\n\n#### 3rd party declaration\n\n有的时候，你的类库并没有声明文件，同时 @types 也没有其他人上传，你需要自己写声明文件。\n\n比如 HySDK, 只需要在项目目录里添加　.d.ts　文件\n\n```javascript\ndeclare module \"@qnpm/hysdk\" {\n    export = {\n        openWebView: (param: {\n            url: string;\n            name?: string;\n            data?: any;\n        }) => void,\n    }\n}\n\nimport { openWebView } from \"@qnpm/hysdk\";\nopenWebView({ url: \"\" });\n```\n\n### Types in Redux\n\n前端交互逻辑用得最多的就是发布订阅模式了，\n在发布订阅模式里面需要一个约定值来确定订阅的是哪一个事件。\n那么类型系统就派上用场了，这里拿 Redux 举例。\n\n---\n\nRedux 的问题在于，订阅和发布的约定值可以随便写。\n\n```javascript\nconst store = createStore((state,{type, data}) => {\n    if (type === \"action1\") return ...\n    if (type === \"action2\") return ...\n    return state;\n})\nfunction doAction(action) {store.dispatch(action);}\ndoAction({ type: \"action1\", data }); // OK\ndoAction({ type: \"actionX\", data }); // OK\n```\n\n---\n\n我们给 action 写一个约束 IAction，这样，\n在 reducer 里面不能多写一个 actionY 事件，\ndispatch 的时候也不能指定 actionX 事件。\n\n```javascript\ninterface IAction { type: \"action1\" | \"action2\", data: any }\nconst store = createStore((state,{type, data}: IAction) => {\n    if (type === \"action1\") return ...\n    if (type === \"action2\") return ...\n    if (type === \"actionY\") return ... // Err\n    return state;\n})\nfunction doAction(action: IAction) {store.dispatch(action);}\ndoAction({ type: \"action1\", data }); // OK\ndoAction({ type: \"actionX\", data }); // Err\n```\n\n## Part IV Epilogue\n\n### 应该使用类型系统吗？\n\n|   |   |\n|---|---|\n| 页面只用于接下来的十一活动营销　| No |\n| 页面很简单就是展示文案 | No |\n| 新项目,并以后很有可能会频繁重构　| TypeScript |\n| 老项目,老文件不再改,只增加文件 | Flow |\n\n其实，前端的类型系统到目前为止依然还有很多瑕疵，因此我说 TypeScript sucks，但是就目前的版本来说，可比它刚发布那会儿要好用的多了，起码已经到了能用的地步。\n\n随着 TS 和 Flow 的发展和互相影响，前端类型系统将会逐步完善，但那都是以后的事了。就目前来说，如果你手上有一个大工程，还没有用上类型系统，那为何不尝试一下呢？","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/09/20/ run with the wind .md","slug":"2017/09/20/-run-with-the-wind-","body":"# 口琴 run with the wind \n\n## 数码宝贝阿和曲\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1fk9rtqt0amj20k00zkmy1.jpg)","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/09/23/Beijing-has-begun-to-be-mother.md","slug":"2017/09/23/beijing-has-begun-to-be-mother","body":"# 北京都开始娘了\n\n寒风凛凛，我穿着大裤衩拍延时，遗憾啊，一周北京都是晴，偏偏周末是多云。\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1fk9sfli90gj23vc2kxe83.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1fk9sg2ttakj23vc2kx4qr.jpg)","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/09/30/After-reading-Prince-Ma's-Twelve-Twelve-Times.md","slug":"2017/09/30/after-reading-prince-mas-twelve-twelve-times","body":"# 读完马亲王的《长安十二时辰》有感\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1fk9stnunzqj20u0140n5i.jpg)\n\n《长安十二时辰》，个人觉得下部好看，也可能因为下部一半都是全书的高潮。故事节奏把握的特别好，脑洞好大。能把马嵬坡那一句话能写出这么个前传，也就亲王了。其实有点搞不懂为啥张小敬是为了黎民苍生去救天子的，感觉这里留了坑。李泌推演罪魁祸首的时候突然有种看柯南的错觉。永王那段闪回应该放前面一点，都挟天子了突然闪回就像快射了然后不撸了一样。我去过西安，也去过洛阳，所以看书的时候自然也能勾画出那108坊还有各处望楼，蛮期待这书最后拍成电影的说。","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/10/04/Happy-Mid-Autumn-Festival.md","slug":"2017/10/04/happy-mid-autumn-festival","body":"# 中秋快乐\n\n常人看到这情景，会不禁感到「但愿人长久，千里共婵娟」，当我固定好八爪鱼拍下这一幕的时候，不知哪儿来的小X崽子推着他的破滑板车一趟又一趟地从旁边经过，一次又一次桥震之后，n张照片都毁了\n\n![中秋快乐](http://ww1.sinaimg.cn/large/89d0a2e1ly1fk9ri8jtdvj23vc2kwb2f.jpg)","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/10/05/ukulele.md","slug":"2017/10/05/ukulele","body":"# ukulele 远在北方孤独的鬼\n\n![](http://wx1.sinaimg.cn/mw690/89d0a2e1ly1fk9r6l7ljyj20zk21aafb.jpg)","collection":"blog","data":{"type":"post","category":"life"}},{"id":"2017/10/17/linux-swap.md","slug":"2017/10/17/linux-swap","body":"# 给 linux 增加 swap 文件\n\n> 上周末，自己写的公司的服务挂了，心疼自己几分钟。。。\n\n事发之后看了眼服务器，好多配置被当白鼠了，比如机器都没有 SWAP，\n以前都是装机器的时候习惯性分配 SWAP，还没有现挂载的经验，在此记录一下。\n\n1. 创建分页文件（3GB）\n\n        dd if=/dev/zero of=/opt/swapfile bs=1M count=3000\n\n2. 格式化为 SWAP 分区\n\n        mkswap /opt/swapfile \n\n3. 挂载分区\n\n        swapon /opt/swapfile\n\n4. 保证以后重启后自动挂载（在 /etc/fstab 增加信息）\n\n         /opt/swapfile    swap   swap defaults 0 0\n\n5. 重新挂载\n\n        mount -a\n\n> 关于执行 free -m 的提示\n\n内存中的 buffered 和 cached 分别表示可以用来 写入/写出 磁盘的内存","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/10/22/Duolun-County-Ulanbu-Tong.md","slug":"2017/10/22/duolun-county-ulanbu-tong","body":"\n# 丰宁县-木兰围场-御道口-多伦县-乌兰布统\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfovppfbpj21je15k10g.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfovxsbg7j20v615kq8e.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfohstx5gj21qc15k46b.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolkmgfwj21qc15k132.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolmma4fj21qc15kwnp.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolletvpj21qc15k7cl.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolsh7uxj21qc15kn3p.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolp2cmcj21qc15kn9o.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfom1mn7mj21qc15k1ev.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolvvjohj21qc15kh7b.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfom0pyo6j21qc15k4qp.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfom1u3tfj21qc15kh8y.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolj9g3hj20rq15kjtz.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfollq5fzj21qc15k11k.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolj9rbsj21qc15kn15.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolvqx8kj21qc15kh57.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolsanjwj21qc15kwui.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolrym6lj21qc15k1bz.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolnqrkmj21qc15kk12.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfom1bwaij21qc15k7wh.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolqs70mj21qc15kwrn.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfoluei6cj21uo18gdvo.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolmpbymj21qc15k47h.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolprcuqj21qc15k4dk.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolkamy1j21qc15kqa1.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolxzn93j21qd15ktxl.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolxzn93j21qd15ktxl.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolpdqvwj21qc15kqh5.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfoljamszj20v615kwjc.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfoljbj1xj20v615kjvm.jpg)\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/10/29/Commemorate,-drive-alone-for-the-first-time.md","slug":"2017/10/29/commemorate-drive-alone-for-the-first-time","body":"\n# 纪念一下先是去香山然后去百望山，最后哪也没去，但毕竟是第一次独自驾车的经历\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flg7pfrve7j21je15kdjk.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flg7pqz18mj21je15k7ip.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flg7pqy8gkj21je15kqjp.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flg7pr8nmzj21je15kh3e.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flg7pr1gznj21je15kh0g.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flg7pq27zqj20xc18ggq8.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flg7ppijy1j207w05xdgj.jpg)\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/11/19/Qianli-Jiangshan-&-Zhao-Mengfu-&-Princess-Sissi.md","slug":"2017/11/19/qianli-jiangshan--zhao-mengfu--princess-sissi","body":"\n# 千里江山&赵孟頫&茜茜公主\n\n住在北京的最大好处就是冬天能以 40 元的价格逛故宫，并看到别处动辄上百的展品。\n\n## 千里江山图 & 江山秋色图\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobr8m5f1j21sx17awq4.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobreiuksj21sx17ak2v.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobrj5wybj21sx17agr3.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobrwkyajj21sx17a7ap.jpg)\n\n千里江山图全长 11.9 米，是王希孟用半年时间画的宫廷画。\n我看到的这幅其实是清代仿品，10 月 30 号后原作就收回去休息了，\n但即使是仿品，由于原料昂贵制作耗时长，就像敦煌莫高窟，\n仿品依然珍贵。\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobqopikoj20u00u0mz0.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobwehd2dj21lp17agzd.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobweg4x7j21lp17an9b.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobweeiifj21lp17aam9.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobwdn61cj21lp17a7dd.jpg)\n\n因为看的是仿品，自然排队的人没那么多，据说去看真品的队伍能够排到午门台阶上。\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobtvt0ryj21sx17adk2.jpg)\n\n真的值得现场一看，美术书上面根本无法表现出画作的气派。\n据说这次展览高峰故宫来了 8 万人，2000 人来看画。\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobv3juxaj21sx17adoz.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobux1lkrj21sx17a48m.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobupd3n3j21sx17a7dm.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobugri0sj21sx17a10w.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobs9hxy9j21sx17aqbi.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobtl8u88j21sx17a45a.jpg)\n\n最后还有一副，额。。。行为艺术\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobxk57cnj21lp17agt7.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobzapfecj21lp17awql.jpg)\n\n## 赵孟頫\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobysxhesj21lp17a472.jpg)\n\n赵孟頫字画，很多人盛赞，本人表示并没觉得特别突出，\n但是无比较就看不出特别，比如和乾隆的简笔画版临摹，\n真的看得出大家的水平了\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobqbxgsgj20u00u00ts.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobvwzffgj21sx17ajyf.jpg)\n\n但是下面这个。。。真的分不清了，上面的是仿品。\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1floc0u6hkej21sx17ado7.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1floc0u88lbj21sx17an5q.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1floc1vzs8yj21sx17awmg.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1floc29m4pqj21sx17ajx0.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1floc2llllxj21sx17atew.jpg)\n\n## 茜茜公主\n\n真心不了解，匈牙利的王后，展馆介绍了很多奥匈帝国的生平。\n果然有人对这段历史比较了解，还看过电影（瞬间觉得自己很 low）。\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobzkow2ej20wg17awh9.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobzttgiij21lp17adl8.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flobzztvoxj20wg17atbp.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1floc06zu0qj21lp17a11r.jpg)\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/11/22/Building.Isomorphic.JavaScript.Apps.md","slug":"2017/11/22/buildingisomorphicjavascriptapps","body":"# Building Isomorphic JavaScript Applications\n\n## 读<构建同构的JavaScript应用>有感\n\n![](https://covers.oreillystatic.com/images/0636920042846/cat.gif)\n\n这本书简单介绍了并实现了前后端js应用方案(Hapj.js)\n\n我更喜欢书后半部分各个公司对前后端同构的优化.\n\n### React\n\nReact的后端渲染存在性能瓶颈(这个我在现实使用时也考虑过,虽然我用的是Preact), 书中通过修改 mountComponent 方法缓存最近渲染的模板, 这种 LRU 算法很大的加快了后端渲染效率. 貌似 Vue 也用的这种方案.\n\n我的做法可能更粗暴点,我直接在服务启动的时候把不会变化的组件渲染出来在内存里使用了,囧. 但这是最快的做法呀(原谅~).\n\n### Angular\n\n其实是 Angular1, 由于过于依赖浏览器, 开发者抽象了很多的浏览器 API. 作者介绍了 Angular2 Universal. 我比较喜欢的是 Preboot 功能, 这个功能能够缓存用户在未渲染完成的页面的操作,并在客户端渲染完成进行操作, 这样能够解决用户过早提交表单的问题.\n\n我的确碰到表单问题了, 但我是直接把表单删了, 依赖 JS 处理 submit 按钮, 这样用户在未渲染之前是不能提交的, 遗憾的是这样就失去了表单的功能了.\n\n### Backbone\n\n没有过多了解, 书里提到后悔使用jQuery, jQuery的确是一个前后同构的 js 库, 刚有 node 的时候我也在用, 然而现在我也不用了.\n\n### C#.Net\n\n有趣的是, 前后端同构并不是 node 独享的, 书里的最后一个例子是 C# 的, 作者找到了 js 和 C# 共有的模板引擎解决了跨语言前后端同构的问题.\n\n## 注意\n\n需要注意的是，做单页面应用的时候，或许不需要考虑太多内存泄漏，毕竟页面关了资源就释放了。而做 server 端并不会。\n\n\n## 总结\n\n这本书很薄, 英文版209页而已, 后面的例子的确有很多可采纳的地方.\n","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/11/25/It's-not-a-particularly-worthwhile-Qin-and-Han-show.md","slug":"2017/11/25/its-not-a-particularly-worthwhile-qin-and-han-show","body":"\n# 并不是特别值得一去的秦汉展\n\n今年大都会展了一个秦汉展,为了照顾国内情绪吧,国博也展了一个.\n即使是分段领票,但还是挤得一塌糊涂.\n\n因为距离发票还有一个半小时,我就先花时间重新逛了古代中国展.\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvkd44in0j23vc2kw1l5.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvkcz7q93j22kw3vc4qw.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvkcygx92j23vc2kwu14.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvkcxpaygj23vc2kw7wp.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvkcauo4dj22kw3vc1l5.jpg)\n\n展厅也不是很大,基本上算是大英的一半吧.\n里面的展品基本上也是石家庄\\陕西\\山西博物馆的,所以我基本上都见过了...\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvkhetmk6j23vc2kwnpk.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvkiah2o0j23vc2kwu13.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvki8vhg9j23vc2kwu14.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flvkh2zrl9j23vc2kwhe0.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvki8g3tdj23vc2kwu14.jpg)\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flvkhofg03j23vc2kw1l5.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvki7w3pbj23vc2kwkjs.jpg)\n\n旁边的十月革命展览蛮有意思,虽然看不懂,但是好看呀.\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvk75fn8qj23vc2kwx6w.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvk70ny78j23vc2kwb2h.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvk7b6vhjj23vc2kwhe1.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvk7etysqj23vc2kwnpk.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvjwxzltrj23vc2kwqvd.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvk6uomu9j23vc2kwhe0.jpg)\n\n临走前看了眼最喜欢的两尊菩萨像\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvkk8i2ppj23vc2kw1l5.jpg)\n\n![](http://ww1.sinaimg.cn/mw690/89d0a2e1ly1flvkk19oytj23vc2kwkjs.jpg)\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2017/11/26/QA-node.md","slug":"2017/11/26/qa-node","body":"# 给 QA 同学看的 node 科普\n\n## 目录\n\n* 什么是 Node.js\n* 什么是 NPM\n* 什么是 QXF\n* 什么是 webpack\n* 什么是 postcss\n* 什么是 sass\n* 什么是 babel\n* 什么是 TypeScript\n* node时代下的前端发布流程\n* 单元测试\n* 端对端测试\n\n## 什么是 Node.js\n\n![](http://click-labs.com/wp-content/uploads/2014/05/nodejs_logo_green.jpg)\n\nNode.js 是一个开源的跨平台 javascript 运行时. \n初期是由 Ryan Dahl 在 2009 年设计开发.\n\n设计 Node.js 的灵感来自于一套向 Flicker 上传进度条的实现. \n\n![](https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Ryan_Dahl.jpg/440px-Ryan_Dahl.jpg)\n\n## Node.js 的技术细节\n\n* 基于谷歌 Chrome 的 V8 JavaScript 即时编译器\n* 单线程无阻塞 I/O\n* 基于 CommonJS 的模块机制\n* 一元化的 API\n* 事件轮询\n\n### 单线程无阻塞 I/O\n\nWeb 请求,对于即时性要求并不高,\n服务器需要处理一堆的异步事件,\n照以往的逻辑,\n我们会通过新建线程来处理这套逻辑,\n而这种方式往往是浪费资源的.\n\n在 Node.js 里面程序是单线程的,\n每一个异步事件通过事件轮询的方式解决.\n代码被要求以回调形式编写.\n\n```javascript\nconst server = http.createServer((req, res) => {\n  res.statusCode = 200;\n  res.setHeader('Content-Type', 'text/plain');\n  res.end('Hello World\\n');\n});\n\nserver.listen(port, hostname, () => {\n  console.log(`Server running at http://${hostname}:${port}/`);\n});\n```\n\n### CommonJS\n\n因为 JavaScript 的模块标准是在 2016 年才被定义的,\n所以 Node.js 使用的是另外一套模块机制 CommonJS.\n\nCommonJS 包括 require 函数和 module 对象.\n\n```javascript\nvar a = require(\"path/to/a.js\");\nmodule.exports = {...};\n```\n\n### 一元化的API\n\n使用 JavaScript 做服务器语言的框架其实很多,\n但是 Nodejs 最吸引人的一点就是一元化API.\n\n比如日志API:\n\n```javascript\nvar a = \"浏览器下打印日志\";\nconsole.log(a);\n```\n\n```JavaScript\nvar a = \".Net下打印日志\";\nprint(a);\n```\n\n```JavaScript\nvar a = \"Node.js下打印日志\";\nconsole.log(a);\n```\n\n### 事件轮询\n\n事件轮询是计算机系统的一种机制,\nJavaScript 用的是这种机制来解决单线程运行带来的问题.\n\n![](http://image.beekka.com/blog/201310/2013102001.png)\n\n## Node.js 小结\n\n![](https://img3.doubanio.com/lpic/s27269296.jpg)\n\n## 什么是 NPM\n\n![](http://playnode.io/2012/img/profile/aa.jpg)\n\nNPM 是 2010年由 Isaac Z. Schlueter 开发,\n用于 JavaScript 的模块管理.\n\nNPM 包括一个命令行的前端和一个远端资源库默认是 https://registry.npmjs.org/\n\nnpmjs.org 默认免费, 但是提交者的代码必须面向全网使用,\n也可以购买私有源, 私有模块往往如\n\n```shell\n@xxx/name\n```\n\n由于 NPM 本身开源,\n所以也有很多公司为了省钱单独搭建资源库,\n并定期和NPM同步.\n\n### NPM 在客户端的用途\n\n#### 本地安装 NPM 代码包\n\n```shell\nnpm install <package_name><?:@version>\n```\n\n执行以上代码之后,\n本地文件夹下会增加一个 node_modules 文件夹,\n里面放的是新安装的 NPM 代码包.\n\n代码包会首先按照指定的 version 安装,\n其次会按照本地 npm-shrinkwrap.json 安装,\n再次会按照本地 package.json 按装,\n最后会安装最新版.\n\n#### pacakge.json\n\n```\nnpm init\n```\n\n每一个 NPM 模块必须有一个 package.json,\n一下简单介绍几个重要字段.\n\n* name　代码包的名字\n* version 代码版本\n* main 包的入口文件\n* scripts 自定义命令\n* dependencies 本包需要安装的依赖包\n* devDependencies 本包开发时需要安装的依赖包\n\n#### npm-shrinkwrap.json\n\npackage.json 里面只记录了依赖包的版本信息,\n会导致多端执行 npm install 之后生成的 node_modules 不一致.\n\n```shell\nnpm shrinkwrap\n```\n\n执行上述命令, 本地根目录会新建 npm-shrinkwrap.json,\n文件会记录本地安装的每一个依赖包的确切版本信息以及资源库地址.\n\n#### run-script\n\npackage.json 里面的 script 字段是可以写 shell 命令的.\n\n```javascript\n{\n    \"script\": {\n        \"test\": \"node test.js\",\n        \"dev\": \"NODE_ENV=dev && node index.js\",\n        \"prd\": \"NODE_ENV=prd && node index.js\",\n        \"hello\": \"echo \\\"hello\\\"\"\n    }\n}\n```\n\n执行命令也很简单\n\n```shell\nnpm run test\n```\n\n## 什么是 Express\n\n![](http://img.kuqin.com/upimg/allimg/140806/2330395116-1.jpg)\n\nExpress 是 TJ Holowaychuk 于 2009年开发的, 基于 Node.js 平台，快速、开放、极简的 web 开发框架。\n\n```javascript\nvar express = require('express');\nvar app = express();\n\napp.get('/', function (req, res) {\n  res.send('Hello World!');\n});\n\nvar server = app.listen(3000, function () {\n  var host = server.address().address;\n  var port = server.address().port;\n\n  console.log('Example app listening at http://%s:%s', host, port);\n});\n```\n\n### Connect 中间件\n\nConnect是一个node中间件（middleware）框架。如果把一个http处理过程比作是污水处理，中间件就像是一层层的过滤网。每个中间件在http处理过程中通过改写request或（和）response的数据、状态，实现了特定的功能。\n\n```javascript\napp.use(middleware);\n```\n\n### 路由器\n\nExpress 路由器在我看来算是一种特殊的中间件,\n只不过路由结束之后整个请求就结束了.\n\n```javascript\napp.use('/calendar', router);\n```\n\n### QXF\n\nQXF 是去哪儿基于 Express 修改的 web 框架,\n在 Express 的基础上增加了面向去哪儿内部的监控等服务SDK.\n\n## 什么是 webpack\n\nwebpack 是一个模块的打包工具, 支持打包 CommonJs, AMD, ES6 modules, CSS, Images, JSON, Coffeescript, LESS, ...\n\n### 什么是 FEkit\n\nFEkit 是去哪儿之前一直使用的前端打包工具,能够打包 CSS 和 CommonJS, 现在已经不进行维护.\n\n### 什么是 ykit\n\nykit 基于 webpack, 是去哪儿目前大部分使用的打包工具.\n\n## 什么是 postcss\n\npostcss 是一个类似于 node-sass 的预编译期器,\n只不过编译的是 CSS. 它可以把更高级的 CSS 代码进行降级处理以适配兼容更古老的浏览器.\n\n## 什么是 SASS\n\nSASS 是 CSS 的扩展语言,\nnode-sass 是 SASS 的编译器,\nSASS 编译之后会生成 CSS.\n\n由于去哪儿内部大量使用的 Yo 框架基于 SASS,\n所以 node-sass 编译是一个必选项.\n\n## 什么是 babel\n\nbabel 可以对更高级的 JavaScript 代码进行降级处理,\n以适配兼容更古老的浏览器.\n\n## 什么是 TypeScript\n\nTypeScript 是对 JavaScript 的功能扩展之后的语言,\n增加了类型检查和代码编译以适应更复杂的开发需求.\n它编译后生成代码是 JavaScript.\n\n## node时代下的前端发布流程\n\n### 代码检查\n\n检查JS,TS,SASS,CSS...等文件是否有语法错误\n\n### 资源分拣\n\n* 分离前后端JS\n* 分离CSS\n* 分离大图片\n* 小图片 base64 编码\n\n### 编译检查\n\n* 编译 TypeScript\n* 编译 SASS\n\n### 向下编译\n\n* babel 向下兼容处理\n* postcss 向下兼容处理\n\n### 打包\n\n分别打包前后端代码\n\n### 客户端代码混淆压缩\n\n* JS 使用 Uglify 混淆\n* CSS 使用 cssnano 混淆\n\n### 客户端代码上传 CDN\n\n### Node 代码上传服务器\n\n### 重启服务\n\n## 单元测试\n\nJavaScript 目前已经有多套单元测试框架,\n如 Jest, Jasmine, Tape, AVA...\n\n```javascript\nconst sum = require('./sum');\n\ntest('adds 1 + 2 to equal 3', () => {\n  expect(sum(1, 2)).toBe(3);\n});\n```\n\n## 端对端测试\n\nsuperagent 可以对 http 请求进行断言处理.\n\n```javascript\nconst request = require('supertest');\nconst express = require('express');\n\nconst app = express();\n\napp.get('/user', function(req, res) {\n  res.status(200).json({ name: 'tobi' });\n});\n\nrequest(app)\n  .get('/user')\n  .expect('Content-Type', /json/)\n  .expect('Content-Length', '15')\n  .expect(200)\n  .end(function(err, res) {\n    if (err) throw err;\n  });\n```","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/12/08/ArchLinux.md","slug":"2017/12/08/archlinux","body":"# 树莓派+ArchLinux\n\n大概是今年五月份吧,我的树莓派2又一次吃灰了,\n之前用来当AP, 可是 Tenda U1 的驱动(RTL8192EU)需要配合新内核编译,\n毫无意外的编译失败了, 反正也不想折腾了, 就让它吃灰了.\n\n最近收拾东西, 发现了在吃灰的树莓派, 想想干脆拿出来刷上 Arch,\n就当 rust 的编译环境吧.\n\nwlan就用水星的吧, 起码不用编译驱动了.\n\n安装方法很简单, 照这个链接做就好\n\nhttps://github.com/phortx/Raspberry-Pi-Setup-Guide\n\nArchLinuxARM 不是像 Raspbian 那样烧录的,\n所以要下载好 tar 包, 解压到 SD 卡里.\n\n个人经验, 因为国内读卡器真的不咋地,\n最好先解压到本地在复制过去.\n\n另外 aliyun 没有 ArchLinuxARM 的源,\n但是可以使用清华的源.\n\n安装完 ohmyzsh 之后,\n切换 ssh 默认为 zsh\n\nchsh -s /usr/bin/zsh\n\n然后修改 .zsh 主题(因为我本地也是zsh),\n选择 avit 也行\n\n![](https://cloud.githubusercontent.com/assets/2618447/6316718/51a2fd9a-ba00-11e4-845a-24bed6ae9210.png)\n","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/12/20/plantUML.md","slug":"2017/12/20/plantuml","body":"# plantUML的使用\n\n参考自 [轻松从Js文件生成UML类图](https://github.com/imfly/bitcoin-on-nodejs/blob/master/4-%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5/7-%E6%96%B9%E6%B3%95%E8%AE%BA/6-%E8%BD%BB%E6%9D%BE%E4%BB%8EJs%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90UML%E7%B1%BB%E5%9B%BE.md)\n\n## 使用说明\n\nvscode 安装 plantUML 插件, 编写 *.puml 文件的时候执行 Alt + D 可以预览绘制的流程图.\n\n## *.puml 文件格式说明\n\nplantUML的解析以 @startuml 开始 以 @enduml 结束\n\n## 时序图\n\n```plantuml\n@startuml\nactor Foo1\nboundary Foo2\ncontrol Foo3\nentity Foo4\ndatabase Foo5\ncollections Foo6\nFoo1 -> Foo2 : To boundary\nFoo1 -> Foo3 : To control\nFoo1 -> Foo4 : To entity\nFoo1 -> Foo5 : To database\nFoo1 -> Foo6 : To collections\n@enduml\n```\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1fn3ikg2r9fj20pe0m6433.jpg)\n\n\n```plantuml\n@startuml\nactor Bob\nactor Alice\nactor AVertyVeryLongName as L\nAlice->Bob: Authentication Request\nBob->Alice: Authentication Response\nBob->L: Log transaction\n@enduml\n```\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1fn3ikg1c86j20q60ietc5.jpg)\n\n## 活动图\n\n```plantuml\n@startuml\nstart\nif (condition A) then (yes)\n  :Text 1;\nelseif (condition B) then (yes)\n  :Text 2;\n  stop\nelseif (condition C) then (yes)\n  :Text 3;\nelseif (condition D) then (yes)\n  :Text 4;\nelse (nothing)\n  :Text else;\nendif\nstop\n@enduml\n```\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1fn3ikfxoemj20ug0f4juf.jpg)\n\n```plantuml\n@startuml\n\nstart\n\nrepeat\n  :read data;\n  :generate diagrams;\nrepeat while (more data?)\n\nstop\n\n@enduml\n```\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1fn3ikfyu6cj20c80ikjt1.jpg)\n\n## 类图\n\n```plantuml\n@startuml\nclass Dummy {\n  String data\n  void methods()\n}\n\nclass Flight {\n   flightNumber : Integer\n   departureTime : Date\n}\n@enduml\n```\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1fn3ikftv49j20iw060jsm.jpg)","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/12/23/P2P.md","slug":"2017/12/23/p2p","body":"# P2P实现不死网络","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/12/25/WebAR.md","slug":"2017/12/25/webar","body":"\r\nhttps://github.com/jeromeetienne/AR.js/\r\n","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2017/12/26/Mac-20264.md","slug":"2017/12/26/mac-20264","body":"# 解决 MacOS 安装绿联20264网线适配器驱动失败的问题\n\n公司里面配的 Mac 网线适配器快要断了, 我赶紧去狗东定了一个绿联的.\n谁成想, 插上机器没有反应, 翻了说明文档是要安装驱动的,\n到官网下载驱动, 安装成功. 重启后还是没反应...\n\n我插到 linux 机器上面, 没问题, 急忙搜了一下,\n原来是苹果 SIP 机制把第三方驱动拦截了.\n\n[苹果SIP机制](http://www.freebuf.com/articles/system/97411.html)\n\n## 解决方案\n\n1. 重启, 一直按 cmd + R 进入 recovery\n\n+. 执行命令 csrutil disable\n\n+. 重启, 重新安装驱动","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2017/12/31/Rewind.md","slug":"2017/12/31/rewind","body":"\n# 2017 年终 Rewind\n\n2017 结束了, 本命年结束啦, 呜啦啦啦~\n\n年初一部电影**_la la land_**最后有一段蒙太奇的 Rewind,\n今年要过去了,我也 rewind 一下.\n\n## 一月·2016 年的尾巴\n\n### 旅行·南京\n\n仔细地逛了南京，六朝博物馆，南京博物院（尤其是民国馆），不亲自去根本不了解南京的美．\n\n另外在夫子庙遇见了很多驴友，还一起吃了顿南京大排档．完美的一次旅行．\n\n![夫子庙的早晨](https://screenshots.firefoxusercontent.com/images/9ba15a76-d8b0-443a-95ee-f207d0150598.jpg)\n\n### 博物馆·阿拉伯之路\n\n仔细看这个石碑，上面没有Ｙ和Ｗ，因为那时候还没这两个字母．\n\n![早期拉丁文](http://ww3.sinaimg.cn/mw690/89d0a2e1gw1fbmh88gcc8j21kw16owzw.jpg)\n\n### 健身·最后的晚餐\n\n今年开始不自己做饭了，留一张最后一顿饭的照片吧．\n\n![最后一顿饭了](https://screenshots.firefoxusercontent.com/images/0fa14ede-90ed-4abe-8c7a-566d08339e01.jpg)\n\n### 博物馆·卢浮宫的创想\n\n排了很长时间的队伍，也看到很多东西，但和今年整年比较的话，印象不是特别深刻．\n\n![](https://screenshots.firefoxusercontent.com/images/3e7edc4f-c727-4803-88e9-9b9197c8d0e4.jpg)\n\n### 博物馆·旅顺博物馆\n\n在大连必须去！必须去！必须去！\n\n![](http://wx2.sinaimg.cn/mw690/89d0a2e1ly1fc7u0dpnwzj21kw11x1kx.jpg)\n\n### 神器·kindle 白读 3\n\n至今都觉得是最完美的投资, 在某宝上 6 期分期买的二手 kindle 白读 3, 刷了安卓系统, 用智器看 PDF,\n用 AIReader 看 EPUB,\n用 Kindle 看 MOBI.\n\n![](https://screenshots.firefoxusercontent.com/images/052c190f-8700-4232-830c-0fbaa4d4aed1.jpg)\n\n### 一月书单\n\n- 《明朝那些事儿》\n\n  高中的时候没读完，这次读完了，还靠这本书找到了很多老同学（因为我把我以前邮箱的密码设置成里面的一个章节了）．\n\n## 二月·折了翼\n\n### 博物馆·仔仔细细地又逛了故宫\n\n因为看了《我在故宫修文物》，趁着还能买淡季票的机会，赶紧逛了钟表馆和珍宝馆．\n\n![美到尴尬的神武门](https://screenshots.firefoxusercontent.com/images/e87f3b07-cf26-4e52-adfa-e736c3d9c165.jpg)\n\n### 健身·独自去做手术\n\n完成了人生孤独的极致, 独自去做手术, 把我后背的肉瘤切了.\n\n另外我做了整整一个月的 Keep 哦~\n\n![](https://wx2.sinaimg.cn/mw690/89d0a2e1ly1fd34jo5nj2j20qo1gg79r.jpg)\n\n### 二月书单\n\n- 《解忧杂货店》\n\n  回家路上在火车看的，很感人的小故事．\n\n- 《白夜行》\n\n  天哪密码就写在信用卡上面，怎么有这么好的事？\n\n## 三月·石家庄没有雾霾\n\n### 博物馆·乌力格尔的神话\n\n在中华世纪坛看到的娃娃展, 人物设计真的超有想象力,\n就是现在我也好想建模做一套.\n\n![](https://screenshots.firefoxusercontent.com/images/6a7fb0d4-cb41-4200-8911-4566cf509fbc.jpg)\n\n### 博物馆·河北省博物馆\n\n第一次住太空舱, 估计以后国内都没机会了吧.\n\n![](https://screenshots.firefoxusercontent.com/images/0fedcf4a-fe3d-421d-aa78-4e02b9148862.jpg)\n\n河北省博最漂亮的是这个大门环, 拍的时候没找对照, 这个环可大多了.\n\n![](https://wx3.sinaimg.cn/mw690/89d0a2e1ly1fe0oc05d7hj20qo0qo78v.jpg)\n\n### 旅行·正定\n\n把整个正定逛了一圈, 花塔美得好深刻\n\n![](https://screenshots.firefoxusercontent.com/images/ad54ad21-e04d-417f-911c-7bae8868a645.jpg)\n\n### 博物馆·大英百件文物\n\n### 极客·树莓派 AP\n\n### 神器·TypeScript\n\n### 健身·第一次骑车回家\n\n做为大连人, 基本上没多少机会骑车.\n到了北京, 尤其是今年爆红的共享单车, 不骑一下怎么行.\n\n### 三月书单\n\n- 《算法的乐趣》\n\n  额, 已经完全不记得讲了啥了...\n\n- Grokking Algorithms\n\n  主要就是想了解一下学的那些算法英文都咋读.\n\n## 四月·麦积山\n\n### 旅游·天水\n\n![](https://screenshots.firefoxusercontent.com/images/c7136907-30e0-4a9b-ac1c-03a085dfa071.jpg)\n\n### 博物馆·山西博物馆\n\n### 神器·Wifi 同屏器\n\n### 四月书单\n\n- 《巨婴国》\n\n  其实不太同意作者的观点, 但是\"巨婴\"这个名词应该是今年上半年最火的了吧.\n\n## 五月·大同吃凉粉\n\n### 旅游·山西大同\n\n![](https://wx3.sinaimg.cn/mw690/89d0a2e1ly1ff4f3sdd0fj21400qo0xm.jpg)\n\n![](https://wx2.sinaimg.cn/mw690/89d0a2e1ly1ff4f3wc5w2j20qo0qoq69.jpg)\n\n![](https://wx1.sinaimg.cn/mw690/89d0a2e1ly1ff4f3xd1psj21400qoted.jpg)\n\n### 旅游·洛阳\n\n### 健身·PushUp300\n\n### 健身·征服二号线\n\n![](https://wx2.sinaimg.cn/mw690/89d0a2e1ly1fg2lvsu9qaj20qo0qojvb.jpg)\n\n### 极客·老电脑做显示器\n\n### 神器·CodeWars\n\n就是一个 OJ, 在学校的时候其实不是特喜欢刷题,\n工作之后还真想念呢.\n\nhttps://www.codewars.com\n\n## 六月·开始做 lego 系统\n\n### 极客·搭建自己的 NPM 仓库\n\n## 七月·Uklele\n\n### 博物馆·大美中华\n\n### 健身·游泳\n\n这个月游了十二次泳, 说来惭愧, 本身出生在海边, 上大学的时候正赶上游泳馆整修, 所以基本上没去过游泳馆.\n\n### 极客·Erupt 前后端同构思想\n\n### 神器·weloop Hey 3S\n\n老实说, 这东西毛病挺多的, 可是我的 pebble 坏了总要找个替代吧.\n\n说说优点, 便宜+续航+防水, 好了这三点就可以完美秒掉其它竞品了.\n\n## 八月·swing~\n\n### 神器·harptabs\n\n吹口琴找谱子必备\n\nhttps://www.harptabs.com/\n\n## 九月·\n\n### 健身·征服十三号线\n\n### 神器·Sony NW-WS625\n\n带防水的运动耳机. 游泳必备\n\n### 九月书单\n\n- 《长安十二时辰》\n\n马亲王的小说, 引人入胜!\n\n## 十月·自驾\n\n## 旅游·乌兰布统\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flfolrym6lj21qc15k1bz.jpg)\n\n## 旅游·自驾一圈\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flg7pqz18mj21je15k7ip.jpg)\n\n### 神器·NestJS\n\n感觉是目前做 Node 服务必选的框架, 没有之一.\n\n## 十一月·\n\n### 博物馆·千里江山图\n\n![](https://screenshots.firefoxusercontent.com/images/b5733523-84a8-4698-a590-ead715fa54b0.jpg)\n\n### 博物馆·国博秦汉展\n\n![](http://ww1.sinaimg.cn/large/89d0a2e1ly1flvkh2zrl9j23vc2kwhe0.jpg)\n\n### 神器·Nintendo Switch\n\n### 十一月书单\n\n- Building Isomorphic JavaScript Applications\n\n  做同构系统必读\n\n### 十二月·\n\n### 神器·iT 邦幫忙\n\n台湾的技术论坛, 主要是想换个角度看问题的话就去这个网站.\n\nhttps://ithelp.ithome.com.tw/\n","collection":"blog","data":{"type":"post","category":"plan"}}]}