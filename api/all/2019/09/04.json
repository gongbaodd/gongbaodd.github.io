{"posts":[{"id":"2019/09/04/webpack.md","slug":"2019/09/04/webpack","body":"# 为webpack工程的本地开发提供代理\n\n首先，我绝对反对线上和本地环境有这种不同配置，但是如果代理是必选项的时候，选择工程化的配置要比每个人维护一套更有效。\n\n需要在webpack.dev.server.config中增加setProxy文件\n\n```\nconst proxy = require('http-proxy-middleware');\n\nmodule.exports = function(app) {\n    app.use(\n        proxy('/api', {\n            target: 'https://xxx.api.com',\n            changeOrigin: true,\n            secure: false,\n            pathRewrite: {\n                '^/api': '/',\n            },\n        })\n    );\n};\n\n```\n\n这样，每个请求`localhost/api`的请求就被代理到`https://xxx.api.com`下了。","collection":"blog","data":{"type":"post","category":"fe"}}]}