{"posts":[{"id":"2018/08/04/7.md","slug":"2018/08/04/7","body":"\n# 7 月总结\n\n## 回顾下上个月的计划\n\n- 小程序：这个月，提交了小程序，然而审核没通过（提交类型写的是旅游...应该写办公就好了。）\n\n- ReactNative: 不打算做了，反正也写过，没啥新鲜感，这个月听了 flutter 的分享，考虑看一下，环境已经部署好了。\n\n- 主站：成功上线了，国内需要备案哭，表示连实体家都没有的人现在连线上的都不好搞了，好在国外的服务器不需要备案，然而我的服务器内存有限，跑 node 没几页就占用 170MB 内存，同比 GOGS 只占用了 70MB 内存。\n\n- 英语、日语：这个月算是完全没跟啊，除了英语偶尔听听 podcast。\n\n- 远程工作能力：这个月我尝试边旅行边编程，在天津完成了【用 PIXI.js 实现烟火特效】、潍坊完成了【Canvas 绘制 bernsley fern(蕨叶)】、上海[【L 系统生成树】](https://www.bilibili.com/video/av28166320)、深圳【Lorenz Attractor】，其实体验还不错，中途遇到了录制屏幕困难，买了个小米的手机支架，但其实是可以使用 VLC 来录屏。\n\n## 8 月计划\n\n工作中心要从北京迁移到深圳，最好在深圳本地找到工作。\n\n对新工作的期望：\n\n1. 最好是 base 香港或者 base 国外，期待工作环境语言能使用英语。\n\n2. 如果条件 1 无法实现，考虑新工作内容是与之前的工作方向不同（表单处理），可以考虑的工作方向 node 全栈、数据可视化、web 游戏、硬件。（条件 2 之下可以适当降低薪资）\n\n月度计划。\n\n1. 每周录制一个教学视频。\n\n2. 搭建 flutter 环境。\n\n3. 在 CodeWars 学习 rust。\n","collection":"blog","data":{"type":"post","category":"plan"}},{"id":"2018/08/05/CSS Grid Layout.md","slug":"2018/08/05/css-grid-layout","body":"# CSS Grid Layout 使用总结\n\n最近被猎头催的实在不行了（真的，感觉他们更担心我找不到工作），于是我写了份简历给他们。当然了，既然最后要的是PDF，这种机会不试试新的CSS布局还真说不过去。\n\n##　实现圣杯布局\n\n提到CSS布局，自然想到了圣杯，一行header，中间是sidebar和content，底下是footer。\n\n```css\n.grid {\n    display: grid;\n    grid-template-area: \"header header  header\"\n                        \"left   content right\"\n                        \"footer footer  footer\";\n}\n\n.item1 {\n    grid-area: header;\n}\n\n.item2 {\n    grid-area: left;\n}\n\n.item3 {\n    grid-area: content;\n}\n\n.item4 {\n    grid-area: right;\n}\n\n.item5 {\n    grid-area: footer;\n}\n```\n\n很简单，使用 Grid Layout 的最大好处是页面布局由CSS全部接管，意味着想把```.item5```改成header只需要修改```grid-area```即可，```grid-template-area```结合 media query　可以实现适配不同设备，如打印机布局相比于屏幕来说界面比较窄。\n\n```CSS\n@media print {\n    .grid {\n        grid-template-area: \"header\"\n                            \"left\"\n                            \"content\"\n                            \"right\"\n                            \"footer\";\n    }\n}\n```\n\n## 实现无大小限制瀑布流\n\n前端瀑布流在网格布局之下，结合``` grid-auto-flow: row dense;```可以实现大小不一的网格元素按照最合理的形式行填充。\n\n```css\n.grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, 100px);\n    grid-template-rows: 100px;\n}\n\n.size-1 {\n    grid-column: span 1;\n    grid-row: span 1;\n}\n\n.size-2 {\n    grid-column: span 2;\n    grid-row: span 2;\n}\n\n.size-3 {\n    grid-column: span 3;\n    grid-row: span 3;\n}\n\n```\n\n## 兼容性\n\n并没有测试IE11，从caniuse可以看到，主流浏览器除了IE11都是不需要家前缀的，IE11需要加-ms前缀（道听途说autoprefixer不会补grid，所以最好手改）。\n\n国产浏览器兼容性就不理想了，除了UC，百度、QQ浏览器都不支持，汗啊，看来浏览器这行业真的是不挣钱了，所以如果要支持这些浏览器还需要再等等。\n","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2018/08/07/React16.md","slug":"2018/08/07/react16","body":"# React16 模拟输入框输入事件\n\n照往常，我会新建一个input事件然后dispatch一下，今天在instagram上面试验失败了。原因是React16 内部定义了descriptor拦截了value.\n\n```javascript\nlet input = $0;\nlet value = 'new value';\n\nlet event = new Event('input', { bubble: true });\nevent.simulated = true;\n\nlet tracker = input._valueTracker;\ntracker && tracker.setValue(value);\n\ninput.value = value;\ninput.dispatchEvent(event);\n```\n","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2018/08/14/AframeJS.md","slug":"2018/08/14/aframejs","body":"# AframeJS 学习笔记\n\n## 创建项目\n\n使用 [npm/angle](https://www.npmjs.com/package/angle)\n\n## ECS(Entity-Component-System)\n\n不懂百度。\n\n## 组件库\n\nhttps://aframe.io/aframe-registry/\n\n## 博客\n\nhttps://aframe.io/blog/\n\n","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2018/08/17/GitHub-1Password.md","slug":"2018/08/17/github-1password","body":"# GitHub 打开二次 1Password 认证\n\n这个安卓没有这功能，但是 mac 和 windows 都可以。\n\n* 在 Github 的 Security 选项，打开 2 Factor authentication\n\n* 保存下一步的还原码\n\n* 点开 1Password 的 Github 项目，点击编辑，找到 label，点击右面的三个点，选择 \"one-time password\"\n\n* 用三个点旁边的二维码扫描器扫描 Github 页面上的二维码。\n\n然后你就发现你的代码不能再 commandline push 了。。。\n\n* 参照 https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/ 新建一个 token， 以后用这个token作为密码即可。\n","collection":"blog","data":{"type":"post","category":"tech"}},{"id":"2018/08/22/mock-fs-io.md","slug":"2018/08/22/mock-fs-io","body":"# 单元测试时使用mock-fs模拟IO返回值\n\n最近换工作到了一家对测试要求比较高的公司，相比以前仅仅完成Appnium完全匹配不同，这里要求使用jest自动化测试覆盖率达到80%+，[此处应有jest cheat sheet](https://devhints.io/jest)。\n\n工作过程中有很多需要读配置文件的地方，做法是在本地对应位置放上文件，然后配置ignore掉这个文件进行测试，然而这并不是个很优雅的方式（尤其是当代码中有判断此配置是否存在时，需要手动移动文件），此时即可利用mock-fs。\n\n## 简单使用\n\n```javascript\nconst mock = require('mock-fs');\n\nmock({\n  'path/to/fake/dir': {\n    'some-file.txt': 'file content here',\n    'empty-dir': {/** empty directory */}\n  },\n  'path/to/some.png': Buffer.from([8, 6, 7, 5, 3, 0, 9]),\n  'some/other/path': {/** another empty directory */}\n});\n```\n\n指定的文件夹地址是默认相对于process.cwd()的，当然也可以配置其它地址。执行mock之后，所有有关IO的部分就都被修改了。\n\n## 需要注意的地方\n\n* 因为强制修改了IO，你会发现require也不好用了所以一般放在require之后\n* 记得要在每个用例执行之后回收mock状态\n\n```javascript\ndecribe('# test', () => {\n    const mockfs = require('mock-fs');\n    beforeEach(() => jest.resetModule());\n    afterEach(() => mockfs.restore());\n    it('should do ...', () => {\n        const foo = require('foo.js');\n        mockfs({...});\n        expect(foo)...\n    });\n})\n```","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2018/08/23/prettier-eslint.md","slug":"2018/08/23/prettier-eslint","body":"# 如果prettier和eslint冲突了怎么办\n\n最近工作发现小伙伴都不喜欢用prettier，原因是格式化后的代码其实和之前约定的eslint有出入。\n\n其实安装prettier-eslint之后，你的prettier就不会将代码改成违反eslint规则的样子，在vscode配置中，打开prettier.eslintIntegration。这样自动保存也会避开eslint。\n\n另外prettier文档中也有如何解决二者冲突的方法 https://prettier.io/docs/en/integrating-with-linters.html。","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2018/08/24/eslint-plugin-typelint-jsdoc-linting.md","slug":"2018/08/24/eslint-plugin-typelint-jsdoc-linting","body":"# eslint-plugin-typelint借助jsdoc实现无编译linting级别的类型检查工具","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2018/08/26/Shenzhen-Museum.md","slug":"2018/08/26/shenzhen-museum","body":"\n# 深圳博物馆\n\n在市民中心，坐 11 号线、1 号线或者 4 号线都能到，福田站及其大，在地下找好久出来能找到博物馆。\n\n怎么说呢，中规中矩吧，毕竟深圳也没啥历史，改革开放的内容比较值得看，毕竟都是我童年的东西。\n\n深圳的民俗文化有一个鱼灯，没有看过，博物馆里都是很老的照片了，很想看看呀。\n\n另外两个借展，玛雅文化展（收获各种表情包），辽阳白塔展，哈哈家乡的味道，真香。\n\n[vlog](https://www.bilibili.com/video/av30833711)\n","collection":"blog","data":{"type":"post","category":"travel"}},{"id":"2018/08/28/Functional Reactive Programming-baconjs.md","slug":"2018/08/28/functional-reactive-programming-baconjs","body":"# Functional Reactive Programming 框架 baconjs","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2018/08/29/OpenAPI-swagger.md","slug":"2018/08/29/openapi-swagger","body":"","collection":"blog","data":{"type":"post","category":"fe"}},{"id":"2018/08/31/MagicaVoxel.md","slug":"2018/08/31/magicavoxel","body":"# MagicaVoxel 使用笔记\n\n没时间写了，上链接好了\n\nhttps://zhuanlan.zhihu.com/p/29884021\n\nhttps://zhuanlan.zhihu.com/p/23164903","collection":"blog","data":{"type":"post","category":"tech"}}]}