{"posts":[{"id":"2020/04/02/docker-mongodb.md","slug":"2020/04/02/docker-mongodb","body":"\n# docker åŒ–çš„ mongodb ä½¿ç”¨æ–¹æ¡ˆ\n\nä¹‹å‰æåˆ°è¿‡[ä½¿ç”¨ watchtower æ›´æ–°æœ¬åœ°çš„ image çš„æ–¹æ¡ˆ](/tech/2020/03/15/Coding.netä½¿ç”¨Jenkinså®ç°è‡ªåŠ¨éƒ¨ç½²CI&CD)ï¼Œæœ¬æ¥æˆ‘çš„ç³»ç»Ÿä¸€ç›´ä½¿ç”¨ sqlite æ¥åšæ•°æ®åº“ï¼Œç°åœ¨æƒ³æ”¹æˆ mongodbã€‚\n\næ¶‰åŠåˆ° mongodb å°±ä¸å¾—ä¸éœ€è¦è€ƒè™‘æ€ä¹ˆæœ¬åœ°åŒ–ï¼Œå¹¶ä¸”å¦‚ä½•åšå¤‡ä»½ã€‚æ•°æ®æœ¬åœ°åŒ–å¾ˆå¥½åšï¼Œåªéœ€è¦ docker çš„ volume å³å¯ï¼Œç¼–å†™`docker-compose.yml`ï¼Œä½¿ç”¨`docker-compose up -d`ã€‚\n\n```ini\nversion: '3.7'\n\nvolumes:\n  mongo:\n  strapi:\n\nservices:\n  mongo:\n    image: mongo\n    restart: always\n    volumes:\n      - mongo:/data/db\n    ports:\n      - 27017:27017\n  adminmongo:\n    image: mrvautin/adminmongo\n    ports:\n      - 1234:1234\n    environment:\n      - HOST=0.0.0.0\n      - CONN_NAME=mongo\n      - DB_HOST=mongo\n      - DB_PORT=27017\n      - PASSWORD=$ADMIN_MONGO_PASSWORD\n    links:\n      - mongo:mongo\n  strapi:\n      image: <strapi registry>\n      environment:\n        DATABASE_CLIENT: mongo\n        DATABASE_NAME: strapi\n        DATABASE_HOST: mongo\n        DATABASE_PORT: 27017\n      links:\n        - mongo:mongo\n      volumes:\n        - ./app:/srv/app\n      ports:\n        - '1337:1337'\n\n\n```\n\n## å¤‡ä»½\n\nä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¤‡ä»½\n\n```shell\ndocker-compose exec -T mongo mongodump --archive --gzip --db <database> > dump.gz\n```\n\n## è¿˜åŸ\n\n```shell\ndocker-compose exec -T mongo mongorestore --archive --gzip < dump.gz\n```\n\n## å¯è§†åŒ–ç®¡ç† docker\n\nä½¿ç”¨ [portainer](https://www.portainer.io/) èƒ½å¤Ÿå¯è§†åŒ–ç®¡ç†ç°åœ¨è¿è¡Œçš„ dockerã€‚æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå†è®¿é—® localhost:9000ï¼Œå—’å—’ï¼ä»¥åå†ä¹Ÿä¸éœ€è¦æ‰§è¡Œ`docker ps`äº†ã€‚\n\n```shell\ndocker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer\n```\n\n## å¯è§†åŒ–ç®¡ç† mongodb\n\nå¯ä»¥ä½¿ç”¨[adminmongo](https://github.com/mrvautin/adminMongo)æä¾›ä¸€å¥—ç®€å•å¯ç”¨çš„ WebUIï¼Œæˆ‘å·²ç»å†™åˆ°äº† docker compose é‡Œé¢äº†ã€‚\n\nå¦å¤–`environment`é‡Œé¢çš„`PASSWORD`å¹¶ä¸å¥½ä½¿ï¼Œå·²ç»æœ‰[issue](https://github.com/mrvautin/adminMongo/issues/166)ï¼Œä¸è¿‡å·²ç»æ˜¯ 2017 å¹´çš„äº†ï¼Œæœ€å¿«çš„è§£å†³æ–¹å¼å°±æ˜¯åˆ é™¤`config/app.json`ï¼Œåªéœ€è¦åœ¨ portainer é‡Œé¢é€‰æ‹©`Containers > mongodb_adminmongo_1` ç‚¹å‡» `Edit`ï¼Œä¿®æ”¹ `Command` å¹¶é‡æ–°éƒ¨ç½²ã€‚\n\n![portainerçš„è®¾ç½®](./portainer-config.jpg)\n","collection":"blog","data":{"type":"post","category":"tech","tag":["docker","portainer","mongodb"]}},{"id":"2020/04/04/ObservableHQ-JS-Jupyter.md","slug":"2020/04/04/observablehq-js-jupyter","body":"\n# ObservableHQ-JS ç»ˆäºæœ‰è‡ªå·±çš„ Jupyter ç¬”è®°æœ¬äº†\n\nå­¦ä¹ æœºå™¨å­¦ä¹ çš„æ—¶å€™ç”¨ä¸Š python çš„ Jupyter notebook æ˜¯çœŸå¥½ç”¨ï¼Œæ›¾ç»å°±æƒ³ï¼Œå¦‚æœ JavaScript ä¹Ÿæœ‰ä¸€ä¸ªå°±å¥½äº†ï¼Œæ²¡é”™[ObservableHQ](https://observablehq.com/)å°±æ˜¯åŸºäº D3.js çš„æ•°æ®å¯è§†åŒ–ç¬”è®°æœ¬ã€‚\n\nå®˜æ–¹çš„[å…¥é—¨](https://observablehq.com/@observablehq/a-taste-of-observable)è®²çš„å¾ˆè¯¦ç»†ï¼Œæ¥ä¸‹æ¥ä¸€å‘¨æˆ‘å¯èƒ½ä¼šä¸“å¿ƒäºé‡Œé¢çš„[D3 æ•™ç¨‹](https://observablehq.com/@d3/learn-d3)ï¼Œé—´æˆ–å»å­¦ä¹  threejs fundamentalã€‚\n","collection":"blog","data":{"type":"post","category":"fe","tag":["observablehq","JavaScript","d3","jupyter"]}},{"id":"2020/04/07/D3.md","slug":"2020/04/07/d3","body":"\n# å­¦ä¹  D3 çš„æ–°å§¿åŠ¿\n\nä»Šå¤©ç”¨äº†åŠå¤©çš„æ—¶é—´æŠŠ observable HQ ä¸Šé¢çš„ [Learn D3](https://observablehq.com/@d3/learn-d3) å­¦ä¹ äº†ä¸€éï¼Œ[è¿™](https://observablehq.com/@gongbaodd/d3-js)æ˜¯çº¯ç¬”è®°ç‰ˆã€‚\n\nä¸è¿‡ä»Šå¤©çœŸçš„æ˜¯çˆ½åˆ°äº†ï¼Œæ²¡é”™ï¼Œæˆ‘ç»ˆäºæ‰¾åˆ°äº†ä»¥å‰å­¦ä¹  D3 æ²¡åŠ¨åŠ›çš„åŸå› äº†ï¼Œé‚£ä¹ˆåšçš„ä¸€æœ¬ä¹¦ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯æŠŠ D3 gallery æŠ„äº†ä¸€éã€‚æœ€å¼€å§‹åŸºæœ¬ä¸Šè¿˜è¦å­¦ä¸€ä¸ª D3 ç‰ˆæœ¬çš„ jQuery é€‰æ‹©å™¨ï¼Œæ•°æ®è¿˜è¦è‡ªå·±æï¼ŒåŸºæœ¬è¯»äº†ä¸¤ç« å°±æ‰“ç®—æ”¾å¼ƒã€‚\n\n```JavaScript\nvalues = [...\"123456\"];\nimport {chart as chart1} with {values as data} from \"@d3/histogram\";\n```\n\nè¿™å°±æ˜¯ä¸€ä¸ªæŸ±çŠ¶å›¾äº†ï¼ï¼ï¼çˆ½åˆ°æœ‰æ²¡æœ‰ï¼Ÿ\n\nå¦‚æœä½ æƒ³å†™ä¸€ä¸ªæ§åˆ¶ç•Œé¢\n\n```JavaScript\nviewof replay = html`<button>Replay</button>`\n```\n\nä½¿ç”¨è¿™ä¸ªæ§åˆ¶å™¨\n\n```JavaScript\nreplay, html`\n<svg viewBox=\"0 0 ${width} ${height}\">\n  ${d3.select(svg`<g>`).call(shape_xAxis).node()}\n  ${d3.select(svg`<g>`).call(shape_yAxis).node()}\n  ${d3.select(svg`\n    <path\n      d=\"${line(shape_data)}\"\n      fill=\"none\"\n      stroke=\"steelblue\"\n      stroke-width=\"1.5\"\n      stroke-miterlimit=\"1\"\n      stroke-dasharray=\"0,1\"\n    >\n    </path>\n  `).call(reveal).node()}\n</svg>\n`\n```\n\nå“ˆå“ˆï¼Œæœ‰è¶£ï¼Œè¿™è¯­æ³•å¾ˆæœ‰æƒ³è±¡åŠ›ï¼Œæ¯” svelte æ›´åŠ å¤§èƒ†ï¼Œä»¿ä½›ç”¨ JavaScript å®ç°äº†ä¸€ä¸ªç±»ä¼¼äº python çš„è¯æ³•ã€‚å¦‚æœä½ æƒ³åˆ›å»ºä¸€ä¸ªå¤æ‚çš„å˜é‡ï¼Œä½ å¯ä»¥ï¼š\n\n```JavaScript\nsum = {\n  let s = 0;\n  for (let i = 0; i < 10; ++i) {\n    s += i;\n  }\n  return s;\n}\n```\n\nObservable HQ çš„æ¯ä¸ªè¯­å¥ç±»ä¼¼äº react çš„ render å‡½æ•°ï¼Œä½ ç”šè‡³å¯ä»¥æŠŠå®ƒå†™æˆä¸€ä¸ªè¿­ä»£å™¨ã€‚å½“ replay è¢«ç‚¹å‡»ï¼Œé¡µé¢å±•ç¤ºçš„æ•°å€¼ä¼šä» 1 é€æ¸å¢åŠ åˆ° 299ã€‚\n\n```JavaScript\n{\n  replay;\n  for (let i = 0, n = 300; i < n; ++i) {\n    yield i;\n  }\n}\n```\n\nå¦å¤–å¯ä»¥å‚è€ƒ[å¦‚ä½•åˆ©ç”¨ Wikipedia çš„æ•°æ®](https://observablehq.com/@mbostock/working-with-wikipedia-data)è¿›ä¸€æ­¥ä½¿ç”¨ observable HQã€‚\n","collection":"blog","data":{"type":"post","category":"fe","tag":["observablehq","d3"]}},{"id":"2020/04/09/Amazon's-anti-drug-drama-zero-zero.md","slug":"2020/04/09/amazons-anti-drug-drama-zero-zero","body":"\n# äºšé©¬é€Šå¹´åº¦ç¦æ¯’å¤§æˆã€Œé›¶é›¶é›¶ã€\n\nå‰å‡ å¤©åˆ·æ¨ç‰¹ï¼Œéƒ½åœ¨ä¼ ã€Œé›¶é›¶é›¶ã€è¿™ä¸ªå‰§æ€ä¹ˆæ€ä¹ˆç«ï¼Œè¯´å®è¯ï¼Œå…³äºé»‘å¸®å’Œæ¯’å“çš„å‰§æˆ‘è¿˜çœŸä¸æ•¢å…´è¶£ï¼Œè¯•ç€æŠ±ä¸€æŠ±çš„å¿ƒæ€çœ‹äº†ä¸€é›†ï¼Œç»“æœä¸€å‘ä¸å¯æ”¶æ‹¾æŠŠç¬¬ä¸€å­£å…¨çœ‹å®Œäº†ï¼Œæ¥ä¸‹æ¥ï¼Œæœ¬æ–‡å…¨æ˜¯å‰§é€ï¼\n\n![æˆªå›¾](./zzz.jpg)\n\nç¬¬ä¸€é›†è¯¦ç»†ä»‹ç»äº†å‡ºåœºäººç‰©ï¼Œåˆ†åˆ«æ˜¯ä¹°æ–¹ï¼ˆbuyerï¼‰ã€ä¸­é—´äººï¼ˆbrokerï¼‰ä»¥åŠå–æ–¹ï¼ˆsellerï¼‰ã€‚\n\nä¹°æ–¹æ˜¯ä¸€å¯¹æ„å¤§åˆ©çˆ·å­™ï¼Œæš‚æ—¶ç§°ä¹°æ–¹çˆ·çˆ·å’Œä¹°æ–¹å­™å­ï¼Œä¹°æ–¹çˆ·çˆ·æ­£åœ¨åŸ¹å…»å­™å­å¤„ç†ç”Ÿæ„ï¼Œè€Œå­™å­åˆ™è®¤ä¸ºçˆ·çˆ·æ€æ­»äº†çˆ¶äº²è€Œæš—è‡ªç»“åˆæœ‹å‹çŒªçŒªä»”å‡†å¤‡æŠ¢ä¸‹çˆ·çˆ·çš„ç”Ÿæ„å¹¶å¤ä»‡ã€‚\n\nä¸­é—´äººæ˜¯ç¾å›½çš„ä¸€å®¶äººï¼Œä¸­é—´äººçˆ¸çˆ¸å¸¦ç€å­å¥³ä¸¤äººï¼ˆä¸­é—´äººå§å§ï¼ŒEmma å’Œä¸­é—´äººå¼Ÿå¼Ÿï¼‰ç›¸ä¾ä¸ºå‘½ï¼ŒEmma å¸®ç€çˆ¶äº²å¤„ç†å®¶åº­ç”Ÿæ„è€Œå› ä¸ºå¼Ÿå¼Ÿé—ä¼ äº†æ¯äº²çš„ç—…ï¼Œä¸­é—´äººçˆ¸çˆ¸å‡ºäºä¿æŠ¤ä¸æ„¿æ„ç»™ç”Ÿæ„äº¤ç»™å„¿å­ï¼Œè€Œå¼Ÿå¼Ÿå´ä¸€ç›´æƒ³å‡ºåŠ›ã€‚\n\nå–æ–¹åœ¨å¢¨è¥¿å“¥ä¹°é€šç¼‰æ¯’è­¦å¯Ÿï¼Œç¼‰æ¯’è­¦å¯Ÿè¡¨é¢åœ¨ç¼‰æ¯’ï¼Œæš—åœ°é‡Œæ”¶äº†å–æ–¹çš„é’±å·å·ä¿æŠ¤å–æ–¹ï¼Œåœ¨ä¸€æ¬¡å‡ºè­¦æ—¶ï¼Œè™½ç„¶å·²ç»å·å·é€šçŸ¥äº¤æ˜“åŒæ–¹ï¼Œä½†è¿˜æ˜¯åœ¨æªæˆ˜ä¸­æ€æ­»äº†ä¸­é—´äººçˆ¸çˆ¸ã€‚\n\nä¸­é—´äººçˆ¸çˆ¸æ­»åï¼ŒEmma å“„éª—å¼Ÿå¼Ÿè¯´çˆ¸çˆ¸åŒæ„ä»–ä»¬ä¸€èµ·æ¥æ‰‹ç”Ÿæ„ï¼Œå¼Ÿå¼Ÿå¾ˆå¼€å¿ƒå¹¶è¦æ±‚è‡ªå·±äº²æ‰‹æ¥ç®¡æœ€æ–°çš„ä¸€æ‰¹å¯å¡å› ã€‚ç„¶è€Œèµ¶åˆ°ç¾å›½å‚åŠ è¿½æ‚¼ä¼šçš„ä¹°å®¶å­™å­è®¤ä¸ºå§å¼Ÿä¿©å¤ªå¼±å°ï¼Œå¹¶ä¸”æƒ³æ¢åˆ°è‡ªå·±çš„ä¸­é—´äººæ‰‹ä¸Šæ¥æ¶ç©ºçˆ·çˆ·ï¼Œå·å·ä¹°é€šè¿è´§çš„èˆ¹é•¿ï¼Œåˆ¶é€ èˆ¹ä¸Šäº‹æ•…ã€‚\n\nåœ¨è¿è¾“ä¸­ï¼Œèˆ¹é•¿æ”¾ç«æ‰“ç®—æŠŠå¼Ÿå¼Ÿå’Œèˆ¹ä¸€èµ·çƒ§äº†ï¼Œç„¶è€Œåœ¨èˆ¹é•¿é€ƒç¦»åï¼Œå¼Ÿå¼ŸæˆåŠŸç­ç«ï¼Œå¹¶ä¸€ä¸ªäººæŠŠèˆ¹å¼€åˆ°äº†éæ´²ã€‚Emma å’Œå¼Ÿå¼Ÿåœ¨éæ´²æ±‡åˆï¼Œä¸ºäº†èº²å¼€æµ·å…³æ£€æŸ¥ï¼Œå§å¼Ÿä¿©é€‰æ‹©äº†ä¸€æ¡ç©¿è¿‡åœ£æˆ˜åˆ†å­å é¢†çš„è·¯å‰å¾€æ‘©æ´›å“¥çš„å¡è¨å¸ƒå…°å¡ï¼Œä¸­é€”é™©äº›ä¸§å‘½ã€‚\n\nåŒæ—¶ï¼Œå–æ–¹ç¼‰æ¯’è­¦å¯Ÿæ¸…ç†äº†è‡ªå·±éƒ¨é˜Ÿé‡Œé¢çš„æ­£ä¹‰åˆ†å­ï¼Œå®Œå…¨é»‘åŒ–åå’Œè´©æ¯’è€…å‘ç”Ÿé‡‘é’±ä¸Šçš„åˆ†æ­§ï¼Œé€æ¸å£®å¤§ä¹‹åï¼Œå¹²è„†å¹²æ‰åŸæ¥çš„å–æ–¹è‡ªå·±æ”¶é’±ã€‚\n\nå–æ–¹çˆ·çˆ·å¾—çŸ¥å­™å­æƒ³å¤ä»‡ï¼Œæ¥äº†ä¸€å‡ºæ€çŒªå„†å­™ï¼ˆè¯è¯´çˆ·çˆ·çœŸçš„å¾ˆæœ‰äººæ ¼é­…åŠ›ï¼Œä¸æ„§æ˜¯æ„å¤§åˆ©é»‘å¸®ï¼‰ï¼Œå¦ç™½è‡ªå·±å½“å¹´æ€å„¿å­çš„åŸå› ã€‚çˆ·çˆ·é­åˆ°è¿½æ€ï¼Œå­™å­å‡è£…è¢«çˆ·çˆ·æ‰“ä¼¤æ”¾èµ°çˆ·çˆ·ï¼Œå¯æ˜¯å› ä¸ºæ¼”æŠ€å¤ªå·®è¢«çŒªçŒªä»”çœ‹å‡ºæ¥ï¼ŒçŒªçŒªä»”æŒŸæŒå­™å­å¦»å¥³ï¼Œè®©å­™å­æˆªä¸‹åœç•™åœ¨å¡è¨å¸ƒå…°å¡çš„è´§ã€‚\n\nèµ¶åˆ°å¡è¨å¸ƒå…°å¡çš„ä¹°æ–¹å­™å­æ‰¾åˆ°ä¸­é—´äººå¼Ÿå¼Ÿé€¼è¿«ä»–è¯´å‡ºè´§çš„ä½ç½®ï¼Œå¼Ÿå¼Ÿæ•…æ„æ‹–å»¶ï¼ŒæˆåŠŸè®©è´§ç‰©è¿å‡ºï¼Œå´å› æ­¤ä¸§äº†å‘½ã€‚Emma å¾—çŸ¥å¼Ÿå¼Ÿä¸§å‘½ï¼Œåˆ°æ„å¤§åˆ©æ‰¾åˆ°ä¹°æ–¹çˆ·çˆ·ï¼Œä¹°æˆ¿çˆ·çˆ·ä¸ºäº†ä¿å…¨ç”Ÿæ„ï¼Œæ€æ­»å­™å­ï¼Œå¹¶è§£å†³æ‰çŒªçŒªä»”ä¸€å¸®äººã€‚\n\nEmma æ¥åˆ°å¢¨è¥¿å“¥äº¤ä»˜å°¾æ¬¾ï¼Œå‘ç°å–æ–¹å·²ç»è¢«ç¼‰æ¯’è­¦å–è€Œä»£ä¹‹ï¼Œäº¤æ¥ä¸‹ä¸€å•çš„è¦æ±‚åï¼Œè™½ç„¶é¢å¸¦å¾®ç¬‘å¸¦å¿ƒæ€€æ„Ÿä¼¤çš„ç¦»å¼€ã€‚è€Œè¿œåœ¨æ„å¤§åˆ©ï¼Œä¹°æ–¹çˆ·çˆ·é‡å‡ºæ±Ÿæ¹–å¤„ç†æ¯’å“ï¼Œå¹¶å‡†å¤‡åŸ¹å…»ä»–çš„æ›¾å­™ã€‚\n\næ‰€ä»¥ï¼Œåƒä¸‡ä¸è¦è´©æ¯’ ğŸ˜‚ã€‚\n","collection":"blog","data":{"type":"post","category":"tv"}},{"id":"2020/04/13/threejs-fundamentals-threejs.md","slug":"2020/04/13/threejs-fundamentals-threejs","body":"\n# threejs fundamentals åå‰¯å…¶å®çš„ threejs å…¥é—¨ä¹¦\n\næœ€è¿‘å‡ å¤©çœŸæ˜¯å¿™ï¼Œé™¤äº†è¯»è¿™æœ¬ä¹¦ï¼Œæˆ‘çš„å¹³æ¿ï¼ˆé…·æ¯”é­”æ–¹ Mix Plusï¼‰çªç„¶è¿›ä¸å»ç³»ç»Ÿäº†ï¼ŒæŸ¥äº†ä¸€ä¸‹ï¼ŒåŸæ¥å±±å¯¨æœ¬ç¡¬ç›˜è´¨é‡ä¸å¥½ï¼Œè«åå…¶å¦™å…¨æ¸…äº†ï¼ˆæƒŠï¼ï¼‰ï¼Œå¥½åœ¨åšäº†å¤‡ä»½ï¼Œå½“ç„¶å› ä¸ºä¸æƒ³èŠ±é’±ï¼Œæ²¡å†ä¹°ä¸€ä¸ª SATA SSD ç¡¬ç›˜ï¼ŒèŠ±äº†ä¸€äº›æ—¶é—´é‡åšç³»ç»Ÿã€‚\n\nç¥¸ä¸å•è¡Œï¼Œä¸»åŠ›æœº Dell inspiron 13 é£æ‰‡åäº†ï¼Œè™½ç„¶å·²ç»æŠ¥ä¿®ï¼Œä½†è¿˜åœ¨èµ°æµç¨‹ï¼Œè¿™ä½¿å¾—æˆ‘ç°åœ¨åªèƒ½ä»¥ 1.8GHzï¼ˆå…³é—­é£æ‰‡ï¼‰ å·¥ä½œ ğŸ˜­ã€‚\n\næ­£å¥½ï¼Œåˆšåšå®Œç³»ç»Ÿï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« æˆ‘äº‰å–åœ¨å¹³æ¿ä¸Šå†™ï¼Œä»¥ä¿è¯ç³»ç»Ÿå®‰è£…æ­£ç¡®ã€‚\n\nå¦å¤–ï¼Œå› ä¸ºæŠ¢åˆ°äº†ç¦ç”°çš„æ¶ˆè´¹åˆ¸ï¼Œæ‰€ä»¥è¿™æœ¬ä¹¦çš„å®ç°ï¼Œäº‰å–åœ¨æœ¬å‘¨å®Œæˆã€‚\n","collection":"blog","data":{"type":"post","category":"book","tag":["threejs","JavaScript","webGL"]}},{"id":"2020/04/16/CSS.md","slug":"2020/04/16/css","body":"\n# CSS æ¸å˜åˆ©å™¨\n\n[CSS gradient generator](https://mybrandnewlogo.com/color-gradient-generator)\n","collection":"blog","data":{"type":"post","category":"fe","tag":["css","gradient"],"series":{"slug":"tools","name":"åˆ©å™¨"}}},{"id":"2020/04/21/threejs-mesh.md","slug":"2020/04/21/threejs-mesh","body":"\n# threejs ç»†åŒ–-åˆ›å»ºä¸€ä¸ª meshã€ä½¿ç”¨åŠ è½½å™¨ã€å¤šä¸ªåœºæ™¯\n\nè®°å½•ä¸‹æœ€è¿‘å‡ å¤©çš„äº‹ï¼Œç»ˆäº Dell çš„ç»´ä¿®æŠŠæˆ‘ç”µè„‘çš„é£æ‰‡ä¿®å¥½äº†ï¼Œä¸è¿‡æ„Ÿè§‰ inspiron çš„é£æ‰‡è®¾è®¡æœ‰ bugï¼Œæ–°é£æ‰‡ä¼°è®¡ä¹Ÿæ’‘ä¸äº†å¤šä¹…ï¼Œä½†æ„¿åªæ˜¯æˆ‘å¤šç–‘äº†ã€‚å¦å¤–é€šè¿‡ç¥å¥‡çš„æŸå®ï¼Œæˆ‘å°†æˆ‘æ‰‹ä¸Šçš„å°ç±³å¹³æ¿äºŒå‡çº§äº†å†…å­˜å’Œç¡¬ç›˜ï¼Œè€ƒè™‘åˆ° 8GB å†…å­˜å¯¹äº Atom Z8500 è¿™ä¸ª CPU æœ‰ç‚¹å¤šä½™ï¼Œäºæ˜¯å‡çº§åˆ°äº† 4GB + 128GBï¼Œåˆ°æ‰‹ä¹‹åæœç„¶æ¯” 2GB æµç•…ï¼ˆå½“ç„¶è‚¯å®šæ²¡æ³•æ¯”é…·ç¿äº†ï¼‰ï¼Œæ‰€ä»¥è¿™ä¸ªé…ç½®è¿˜æ˜¯æ¯”è¾ƒæ¨èçš„ã€‚\n\nå›åˆ°ä¸»é¢˜ï¼Œæœ€è¿‘ä¸€å‘¨æˆ‘éƒ½åœ¨ä½¿ç”¨ react-three-fiber æ¥å­¦ä¹  threejsï¼Œè¿™é‡Œä¼šåšä¸€ä¸ªç³»åˆ—æ¥è¯¦ç»†æ•´ç†ä¸€ä¸‹ã€‚\n\n## åˆ›å»ºä¸€ä¸ª mesh\n\nå¯ä»¥ä½¿ç”¨ JSX åˆ›å»º mesh, å› ä¸º mesh æœ‰ material å’Œ geometry ä¸¤ä¸ªè®¿é—®å™¨ï¼Œåœ¨ JSX ä¸­å¯ä»¥ä½œä¸ºå±æ€§ä½¿ç”¨ã€‚\n\n```JavaScript\nexport default () => (\n    <Canvas>\n        <mesh\n            name=\"mesh\"\n            material={new MeshBasicMaterial()}\n            geometry={new BoxBufferGeometry(1, 1, 1)}\n        />\n    </Canvas>\n);\n```\n\nå½“ç„¶ä½œä¸ºå‚æ•°ä¹Ÿå¯ä»¥ã€‚\n\n```JavaScript\nexport default () => (\n    <Canvas>\n        <mesh arg={[new BoxBufferGeometry(1, 1, 1), new MeshBasicMaterial()]}/>\n    </Canvas>\n);\n```\n\nå®˜ç½‘è¿˜æä¾›äº†ä¸€ä¸ªç»å¦™çš„æ–¹æ³•ã€‚\n\n```JavaScript\n// å®ç°ä¸äº†ï¼Œä¸çŸ¥é“å’‹å›äº‹å„¿\nexport default () => (\n    <Canvas>\n        <mesh>\n            <boxBufferGeometry attach=\"geometry\" />\n            <meshBasicMaterial attach=\"material\" />\n        </mesh>\n    </Canvas>\n);\n```\n\nå¦å¤–å› ä¸º Canvas é‡Œé¢çš„å…ƒç´ å’Œ JSX çš„ç»‘å®šä½¿ç”¨çš„æ˜¯ memoï¼Œæ‰€ä»¥å¦‚æœä½¿ç”¨ primitive å®šä¹‰å…ƒç´ çš„æ—¶å€™ä¼šä¸¢ã€‚\n\n```JavaScript\n// è¿™ä¹ˆåšè™½ç„¶ä¼šæ¸²æŸ“å‡ºæ¥ï¼Œä½†æ˜¯Boxæœ‰çš„æ—¶å€™ä¼šä¸¢\nconst Box = new Mesh(\n    new BoxBufferGeometry(1, 1, 1),\n    new MeshBasicMaterial(),\n);\n\nexport default () => (\n    <Canvas>\n        <primitive object={Box} />\n    </Canvas>\n);\n```\n\n## åŠ è½½å™¨\n\nåŠ è½½ texture æ—¶ï¼Œå¯ä»¥ä½¿ç”¨`useEffect`è‡ªå·±å†™ï¼Œå½“ç„¶ä¹Ÿæœ‰æ›´ä¼˜é›…çš„æ–¹æ³•ï¼Œåˆ©ç”¨ react è‡ªå·±çš„`useMemo`æˆ–è€…`useCallback`ï¼Œå†å°±æ˜¯ä½¿ç”¨ react three fiber çš„`useLoader`ã€‚\n\n```JavaScript\n// ä½¿ç”¨ useMemo\nconst Plane = () => {\n    const texture = useMemo(() => new TextureLoader().load(\"xxx.jpg\"), [])\n    return <mesh\n        material={new MeshBasicMaterial({map: texture})}\n        geometry={new PlaneGeometry(1, 1)}\n    />\n}\n```\n\n```JavaScript\n// ä½¿ç”¨ useLoader\nconst PlaneAsync = () => {\n    const [texture] = useLoader(TextureLoader, \"xxx.jpg\");\n\n    return <mesh\n        material={new MeshBasicMaterial({map: texture})}\n        geometry={new PlaneGeometry(1, 1)}\n    />\n}\n\nconst Plane = () => (\n        <Suspense fallback={<mesh />}>\n            <PlaneAsync />\n        </Suspense>\n    )\n```\n\n## ä½¿ç”¨å¤šä¸ªåœºæ™¯\n\nthree react fiber ä¼šé»˜è®¤ç»™ä¸€ä¸ªåœºæ™¯(scene)ã€ä¸€ä¸ªæ‘„åƒå¤´(camera)è¿˜æœ‰ä¸€ä¸ªæ¸²æŸ“å™¨(render)ã€‚å¯æ˜¯å¦‚æœæˆ‘éœ€è¦å¤šä¸ªåœºæ™¯ï¼Œæ¯”å¦‚å»ºæ¨¡å·¥å…·å¾€å¾€ä¼šç»™ä¸€ä¸ªæ­£äº¤è§†å›¾ä»¥åŠæ­£è§†å›¾ï¼Œè¿™ç§æƒ…å†µå°±éœ€è¦å¤šä¸ªåœºæ™¯ã€‚\n\né¦–å…ˆè¦ä½¿ç”¨`setDefaultCamera`å°†æ–°å»ºçš„æ‘„åƒå¤´ä»£æ›¿é»˜è®¤æ‘„åƒå¤´ã€‚\n\n```TypeScript\nexport default () => {\n    const { setDefaultCamera } = useThree();\n    const camera = useRef<PerspectiveCamera>();\n\n    useLayoutEffect(() => camera.current && setDefaultCamera(camera.current), [])\n\n    return <perspectiveCamera\n      name=\"camera\"\n      ref={camera}\n    />\n}\n```\n\næ¥ä¸‹æ¥æ˜¯åˆ›å»ºåœºæ™¯ï¼Œåœºæ™¯ä¸éœ€è¦ä»£æ›¿åŸæœ‰åœºæ™¯ï¼Œä½†æ˜¯éœ€è¦ä½¿ç”¨`useFrame`ä¿®æ”¹`render`æ–¹æ³•ã€‚\n\n```TypeScript\n// å†åŸç”»é¢çš„å·¦ä¸Šè§’ç»˜åˆ¶åœºæ™¯\nexport default () => {\n    const scene = useRef<Scene>();\n    const {\n        size: {left, top, width, height},\n        camera,\n    } = useThree();\n\n    useFrame(({ gl }) => {\n        gl.autoClear = true;\n        gl.setScissor(left, top, width / 2, height / 2);\n        gl.setViewport(left, top, width / 2, height / 2);\n\n        scene.current && gl.render(scene, camera)\n    }, 10);\n\n    return (\n        <scene ref={scene}>\n            <mesh />\n        </scene>\n    );\n}\n```\n\nè¿™é‡Œ`useFrame`çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºå®ƒçš„ä¼˜å…ˆçº§ï¼Œå€¼è¶Šé«˜ï¼Œè¶Šå…ˆæ¸²æŸ“ï¼Œè¿™æ„å‘³ç€æ¯”å®ƒä¼˜å…ˆçº§ä½çš„åœºæ™¯æ¸²æŸ“ä¹‹å‰è¦æŠŠ`gl.autoClear`è®¾ç½®ä¸º`false`ï¼Œä»¥é¿å…è¢«æ¸…é™¤ã€‚\n\n## å…¶å®ƒ\n\nå¦å¤–å¯ä»¥çœ‹çœ‹äº¬ä¸œçš„ä¸€ç¯‡åšå®¢[å‡¹å‡¸å®éªŒå®¤](https://aotu.io/notes/2018/10/18/cannonjs/index.html)ã€‚\n","collection":"blog","data":{"type":"post","category":"fe","tag":["threejs","JavaScript","webGL"],"series":{"slug":"threejs-howto","name":"ç»†å“threejs"}}},{"id":"2020/04/22/Devs.md","slug":"2020/04/22/devs","body":"\n# Devs -é…ä¹å¾ˆç¾ä¸½ï¼Œæ•…äº‹æœ‰ç‚¹è™å¤´è›‡å°¾çš„å‰§\n\n![Devs cover](./devs.jpg)\n\næœ¬å‰§çš„ä¸»è§’ Lily å’Œå¥¹çš„ç”·å‹åœ¨ä¸€å®¶é«˜ç«¯æŠ€æœ¯å…¬å¸å·¥ä½œï¼Œç”·å‹å› ä¸ºé¡¹ç›®è¡¨ç°ä¼˜å¼‚è¢«ææ‹”åˆ° Devs é¡¹ç›®ä¸­ã€‚å½“å¤©æ™šä¸Šï¼Œç”·å‹å› ä¸ºå¸®åŠ©ä¿„ç½—æ–¯ç‰¹å·¥å·çªƒ Devs çš„ä»£ç è€Œè¢«å…¬å¸çš„ä¿å®‰ç”·æ€å®³ã€‚\n\nç¬¬äºŒå¤© Lily è¯¢é—®å…¬å¸é«˜ç®¡ç”·å‹çš„è¸ªè¿¹è¢«å‘ŠçŸ¥ç”·å‹è‡ªæ€ï¼ŒLily æ— æ„é—´å‘ç°ç”·å‹æ‰‹æœºå†…å®‰è£…äº†åŠ å¯†è½¯ä»¶ï¼Œæ‰€ä»¥æ‰¾åˆ°å¤‡èƒå‰ç”·å‹è§£é”ã€‚å¤‡èƒå‰ç”·å‹æœ¬ç€ã€Œå½“ç„¶è¿˜æ˜¯åŸè°…å¥¹ã€çš„åŸåˆ™å¸®å¥¹è§£é”å¹¶è”ç³»ä¸Šäº†ä¿„ç½—æ–¯çº¿äººã€‚çº¿äººå‡†å¤‡æ‹‰ Lily ä¸‹æ°´ï¼Œä½†è¢« Lily æ‹’ç»ï¼Œè¿™æ¬¡è”ç»œè¢«ä¿å®‰ç”·å‘ç°ï¼Œä¿å®‰ç”·è§£å†³æ‰çº¿äººï¼Œå¹¶æ‰“ç®—é€ Lily å»ç²¾ç¥ç—…é™¢ã€‚\n\nLily å’Œå¤‡èƒå‰ç”·å‹å‘ç°ç”·å‹çš„è‡ªæ€è¯æ®æœ‰é€ å‡ï¼Œç¡®å®šç”·å‹æ˜¯è¢«è°‹æ€ï¼Œå¯æ˜¯ Lily è¢«ä¿å®‰ç”·èƒè¿«å»ç²¾ç¥ç—…é™¢ã€‚å¤‡èƒå‰ç”·å‹å·å·å¸¦ Lily é€ƒç¦»ç²¾ç¥ç—…é™¢ï¼Œå¹¶ä¸€åŒå‰å¾€å…¬å¸é«˜ç®¡å¯¹å³™ä»€ä¹ˆæ˜¯ Devsã€‚\n\nå…¬å¸é«˜ç®¡å‘Šè¯‰ Lilyï¼ŒDevs é€šè¿‡ç®—æ³•ç”¨æ¥é¢„æµ‹è¿‡å»ä¸æœªæ¥ï¼Œå¹¶ä¸”è¿™ä¸ªæœºå™¨é¢„æµ‹åˆ° Lily å’Œé«˜ç®¡ä¸€èµ·æ­»äº¡åå°±å®•æœºäº†ã€‚\n\nå…¶å® Devs æ˜¯å…¬å¸é«˜ç®¡ç”¨æ¥å¤æ´»å‡ºè½¦ç¥¸å¥³å„¿çš„è®¾å¤‡ï¼Œåœ¨åšæŒå•ä¸€å®‡å®™è§‚å¤šæ¬¡å¤±è´¥ä¹‹åï¼Œä¸€ä¸ªå·¥ç¨‹å¸ˆåŠ å…¥äº†å¤šå…ƒå®‡å®™çš„ç®—æ³•ï¼Œæœ€ç»ˆèƒ½å¤Ÿè¿‘ä¼¼åœ°é¢„æµ‹è¿‡å»å’Œæœªæ¥ï¼Œä½†å› ä¸ºæ‰“ç ´ Devs çš„åˆè¡·ï¼Œè¿™åå·¥ç¨‹å¸ˆä¹Ÿè¢«å¼€é™¤ï¼Œè¢«è®¾è®¡è‡ªæ€ã€‚\n\nLily å†³å®šä¸å›å…¬å¸ï¼Œè¿™æ ·å°±èƒ½æ‰“ç ´æœºå™¨çš„é¢„æµ‹ã€‚æ„å¤–çš„æ˜¯ä¿å®‰ç”·å°†å¤‡èƒå‰ç”·å‹æ€æ­»ï¼Œå‡†å¤‡æ€ Lily çš„æ—¶å€™ï¼Œè¢« Lily å®¶é—¨å£çš„ä¹ä¸ç”·æ€æ­»ã€‚ä¹ä¸ç”·æ˜¯å¦ä¸€ä¸ªä¿„ç½—æ–¯ç‰¹å·¥ï¼Œä»–è¦æ±‚ Lily å›åˆ°é¦™æ¸¯ï¼Œè¿™æ ·èƒ½èº²è¿‡è¿½è´£ï¼Œç„¶è€Œ Lily æœ€ç»ˆè¿˜æ˜¯å…ˆæ‹©èµ°æœºå™¨é¢„æµ‹çš„è·¯ï¼Œå›åˆ°äº†å…¬å¸ï¼Œé«˜ç®¡å’Œ Lily ä¸€åŒçœ‹äº†å®•æœºå‰å¾—é¢„æµ‹ï¼ŒåŸæ¥ Lily æŒæªå’Œé«˜ç®¡åœ¨ç”µæ¢¯å¯¹å³™ï¼Œæªå‡»ä¸­é«˜ç®¡å¹¶ç ´åäº†ç”µæ¢¯ï¼Œä¸¤äººè·Œè½è€Œäº¡ã€‚\n\nä¸è¿‡å’Œé¢„æµ‹ä¸åŒçš„æ˜¯ï¼ŒLily åœ¨å’Œé«˜ç®¡è¿›å…¥ç”µæ¢¯æ—¶æ•…æ„æ‰”æ‰æªï¼Œè¿™æ ·å°±åˆæ‰“ç ´äº†æœºå™¨çš„é¢„æµ‹ã€‚é«˜ç®¡å‘Šè¯‰ Lilyï¼ŒDevs å…¶å®æ˜¯ Deusï¼Œåªæ˜¯ u è®¾è®¡å¾—å¤ªåƒ v äº†ï¼ˆç‹å¾·å‘ï¼Ÿï¼‰ã€‚å¯æ˜¯ç”µæ¢¯è¿˜æ˜¯è¢«è®¤ä¸ºå¤±æ§ï¼Œä¸¤äººå è½è€Œäº¡ã€‚\n\nLily é†’æ¥ï¼Œå‘ç°ç”·å‹è¿˜åœ¨èº«æ—ï¼Œå¤‡èƒå‰ç”·å‹ä¹Ÿæ´»ç€ï¼Œåˆ°å…¬å¸å‘ç°é«˜ç®¡å’Œä»–çš„å¥³å„¿éƒ½æ´»ç€ã€‚åŸæ¥é«˜ç®¡å°†æ‰€æœ‰äººå¤åˆ¶åˆ°äº† Deus å¾—ä¸–ç•Œä¸­ï¼Œæ‰€ä»¥å³ä½¿ç°å®ä¸¤äººå·²ç»æ­»äº¡ï¼Œåªè¦ Deus ä¸å…³é—­ï¼Œä»–ä»¬æ€»èƒ½ç”Ÿæ´»åœ¨è¿™ä¸ªè™šæ‹Ÿçš„å¹³è¡Œç©ºé—´ä¸­ï¼Œå…¨å‰§ç»ˆï¼ˆç‹å¾·å‘ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼‰ã€‚\n","collection":"blog","data":{"type":"post","category":"tv"}},{"id":"2020/04/25/Tales.From.the.Loop.md","slug":"2020/04/25/talesfromtheloop","body":"\n# Tales from the Loop-åŒ—æ¬§æ²»æ„ˆé£é»‘é•œ\n\n\nå…«ä¸ªå°æ•…äº‹ï¼Œä½†åˆæ˜¯å‘ç”Ÿåœ¨åŒä¸€ä¸ªå°é•‡ä¸­çš„ä¸€ç¾¤äººä¸­ã€‚å®‰åˆ©[å¤§èªè¯´ç”µå½±](https://www.bilibili.com/video/BV1Ze411x7sd/) çš„è§£è¯´ï¼Œæœ€å–œæ¬¢çš„å°±æ˜¯æœ€åä¸€é›†ï¼Œæ—¶é—´è½¬ç¬å³é€å•Šï¼Œçæƒœå§ï¼Œéªšå¹´ã€‚\n","collection":"blog","data":{"type":"post","category":"tv"}},{"id":"2020/04/26/Hunger-Platform-Direct-Reviewing-Class-Questions-Movies.md","slug":"2020/04/26/hunger-platform-direct-reviewing-class-questions-movies","body":"\n# é¥¥é¥¿å¹³å° ç›´æ¥è¯„è®ºé˜¶çº§é—®é¢˜çš„ç”µå½±\n\nå¬[é»‘æ°´å…¬å›­](https://music.163.com/#/program?id=2066839072)æåˆ°çš„ç”µå½±ï¼Œç›¸æ¯”äºã€Œå¯„ç”Ÿè™«ã€è¿™é‡ŒæŠŠé˜¶çº§å…³ç³»å†™çš„æœ‰ç‚¹ç›´æ¥ï¼Œæœ¬èº«å‡ºèº«æ¯”è¾ƒä½çš„æˆ‘å¹¶ä¸å¤ªæƒ³è®¨è®ºè¿™ç§è¯é¢˜ï¼ŒåŒ…æ‹¬å³åˆ»é‡Œé¢çš„ã€Œä½ ä¸ºä»€ä¹ˆè€ƒä¸ä¸Šäººå¤§é™„ã€è¿˜æœ‰ B ç«™ã€Œä½ é‚£ä¹ˆç©·ï¼Œå°±åˆ«å‘æ²¹ç®¡ä¸Šï¼Œå¥½è±¡å…¨å›½éƒ½å¾ˆç©·ã€ä¹‹ç±»çš„è¯é¢˜ï¼Œå› ä¸ºæ²¡æ„ä¹‰ã€‚å°±è·Ÿç”µå½±é‡Œé¢é€ä¸Šå»çš„è›‹ç³•ä¸€æ ·ï¼Œå“ªæ€•ä½ é€ä¸Šå»çš„æ˜¯å°å¥³å­©ï¼Œåˆæ€æ ·ï¼Ÿ\n","collection":"blog","data":{"type":"post","category":"movie"}},{"id":"2020/04/27/threejs.md","slug":"2020/04/27/threejs","body":"\n# threejs ç»†åŒ–-åœ¨ç½‘æ ¼ä¸Šæ¸²æŸ“ï¼Œåœæ­¢æ¸²æŸ“ï¼Œä½¿ç”¨ç‰©ç†å¼•æ“\n\nè¿™æ˜¯ç»†åŒ–äº†è§£ threejs çš„ç¬¬äºŒç¯‡ï¼Œ[ç¬¬ä¸€ç¯‡](/fe/2020/04/21/threejsç»†åŒ–-åˆ›å»ºä¸€ä¸ªmeshã€ä½¿ç”¨åŠ è½½å™¨ã€å¤šä¸ªåœºæ™¯.html)\n\n## åœ¨ç½‘æ ¼ä¸Šæ¸²æŸ“\n\nè¿™é‡Œæœ‰ä¸€ç‚¹ç±»ä¼¼äºä½¿ç”¨å¤šä¸ªåœºæ™¯ï¼Œè®¾æƒ³å¦‚æœæƒ³è¦åšä¸€ä¸ªç±»ä¼¼äºæ°´æ™¶çƒçš„è®¾è®¡ï¼Œæ°´æ™¶çƒæœ‰ä¸€ä¸ª scene1ï¼Œæ°´æ™¶çƒè‡ªå·±åˆåœ¨å¦ä¸€ä¸ª scene0 é‡Œé¢ï¼Œè¿™é‡Œå°±éœ€è¦ä½¿ç”¨ renderTarget æ¸²æŸ“ scene1 åˆ°æ°´æ™¶çƒä¸Šé¢ã€‚\n\nå…ˆåˆ›å»ºä¸€ä¸ª targetã€‚\n\n```typescript\nconst target = new WebGLRenderTarget(width, height);\n```\n\nå†åˆ›å»ºä¸€ä¸ªçƒï¼Œå¹¶ä½¿ç”¨ target ä½œä¸ºææ–™ã€‚\n\n```tsx\nconst ball = () => {\n  return (\n    <mesh name=\"ball\">\n      <sphereBufferGeometry attach=\"geometry\" args={[1, 32, 16]} />\n      <meshPhongMaterial attach=\"material\" map={target.texture} />\n    </mesh>\n  );\n};\n```\n\nç„¶ååˆ›å»º scene1ã€‚\n\n```ts\nconst scene1 = new Scene();\nconst camera = new PerspectiveCamera(75, 1, 0.1, 5, position: [0, 1, 2]);\n\n{\n  const light = new HemisphereLight();\n  scene1.add(light);\n}\n\n{\n  const mesh = new Mesh(\n    new BoxBufferGeometry(1, 1, 1),\n    new MeshPhongMaterial({ color: 0x8844aa }),\n  );\n  scene1.add(mesh);\n}\n```\n\nè²Œä¼¼ react-three-fiber çš„ render å‡½æ•°ä¹Ÿå¯ä»¥æŠŠ JSX æ¸²æŸ“æˆ sceneã€‚ä½†æ˜¯ä½¿ç”¨çš„æ—¶å€™å‘Šè¯‰æˆ‘éœ€è¦åˆ›å»º contextï¼Œéš¾é“æ˜¯è¦ç”¨ React.createContext? æ„Ÿè§‰å‘å¾ˆå¤šï¼Œæ‰€ä»¥æš‚æ—¶æ²¡æœ‰å°è¯•ï¼Œä»¥åå†è¡¥å……è¿™é‡Œã€‚\n\n```tsx\nconst scene = new Scene();\nconst context = createContext();\n\nrender(\n  <>\n    <perspectiveCamera />\n    <hemishpereLight />\n    <mesh>\n      <boxBufferGeometry args={[1, 1, 1]} attach=\"geometry\" />\n      <meshPhongMaterial color={0x8844aa} attach=\"material\" />\n    </mesh>\n  </>,\n  scene,\n  context\n);\n```\n\nå¥½äº†ï¼Œå›åˆ°æ­£é¢˜ï¼Œç°åœ¨éœ€è¦åœ¨ target ä¸Šé¢æ¸²æŸ“ scene1.\n\n```ts\nuseFrame(({ gl }) => {\n  gl.setRenderTarget(target);\n  gl.render(scene1, camera); // è¿™é‡Œçš„cameraæ˜¯scene1é‡Œé¢çš„camera\n  gl.setRenderTarget(null);\n});\n```\n\nå’Œæ¸²æŸ“ä¸¤ä¸ª scene ä¸€æ ·ï¼Œä¸ç®¡æ‰“ç®—æ¸²æŸ“å‡ ä¸ªåœºæ™¯ï¼Œå®é™…çš„æ¸²æŸ“å™¨åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥æ¸²æŸ“å¥½ target åè¿˜è¦æŠŠè¦æ¸²æŸ“çš„ç›®æ ‡æ¢å›æ¥ã€‚\n\n## åœæ­¢æ¸²æŸ“\n\nreact-three-fiber é»˜è®¤ä¼šä¸€ç›´æ¸²æŸ“æ¯ä¸€å¸§ï¼Œè€Œåœ¨ç½‘é¡µä¸Šï¼Œæˆ‘ä»¬å¾€å¾€ä¸éœ€è¦å®ƒä¸€ç›´è€—è´¹ GPU æ—¶é—´ï¼Œæ¯”å¦‚æ¸²æŸ“å¥½çš„åŠ¨ç”»ï¼Œåªéœ€è¦å®ƒåœ¨ç‰¹æ®Šæ—¶é—´æ‰è¿åŠ¨ï¼Œreact-three-fiber æœ‰ä¸€ä¸ª invalidateFrameloop é€‰é¡¹å¯ä»¥æš‚åœæ¸²æŸ“ã€‚\n\n```tsx\n<Canvas invalidateFrameloop />\n```\n\nå¦å¤–`useThree().invalidate`ä¹Ÿå¯ä»¥æš‚åœæ¸²æŸ“ï¼Œä½†è¿™ä¸ªä¸å¤ªç¨³å®šï¼Œä¸ç¡®å®šæ˜¯ä¸æ˜¯æˆ‘çš„é—®é¢˜ã€‚\n\næ¯”å¦‚åŠ è½½è¿›æ¥ä¸€ä¸ªæ¨¡å‹ï¼Œæƒ³è®©å®ƒåŠ¨ç”»ç»“æŸåå°±åœæ­¢ GPU æ¸²æŸ“ã€‚\n\n```tsx\nconst animate = useMemo(() => new AnimationMixer(obj));\nconst action = useMemo(() => {\n  const act = animate.clipAction(obj.animations[0]);\n  act.setLoop(LoopOnce, 1);\n  act.enabled = true;\n  act.clampedWhenFinished = true;\n  act.play();\n  return act;\n}, []);\n\nconst { invalidate } = useThree();\n\nuseFrame((_, delta) => {\n  animate.update(delta);\n  if (!act.isRunning()) {\n    invalidate();\n  }\n});\n```\n\n## ä½¿ç”¨ç‰©ç†å¼•æ“\n\nç‰©ç†å¼•æ“æ˜¯ä½¿ç”¨ webGL æœ€çˆ½çš„éƒ¨åˆ†ï¼Œä¸»è¦æ˜¯ä¸ç”¨è€ƒè™‘é‚£äº›å…¬å¼ï¼Œè¿™é‡Œç”¨`Cannon.js`æ‰“ä¸ªæ¯”æ–¹ï¼Œï¼ˆæ„ŸåŠ¨å¸¸åœ¨ï¼‰ã€‚\n\né¦–å…ˆåˆ›å»ºä¸–ç•Œï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ª z è½´åŠ é€Ÿåº¦ä¸º 9.82 çš„ä¸–ç•Œï¼Œè¿˜éœ€è¦ NaiveBroadphase åšç¢°æ’æ£€æµ‹ã€‚\n\n```ts\nconst world = new World();\nworld.gravity.set(0, 0, -9.82);\nworld.broadphase = new NaiveBroadphase();\n```\n\næ¥ä¸‹æ¥åˆ›å»ºä¸€ä¸ªç‰©ä½“ï¼ŒåŒ…æ‹¬å®ƒçš„å½¢çŠ¶ï¼ˆshapeï¼‰å’Œåœ¨ä¸–ç•Œä¸­çš„ç»†èŠ‚å‚æ•°ï¼ˆbodyï¼‰ã€‚\n\n```ts\nconst shape = new Sphere(1);\nconst body = new Body({ mass: 5, shape });\nworld.add(body);\n```\n\næ¥ä¸‹æ¥è®¾ç½®æ¸²æŸ“çš„æ—¶é—´é—´éš”ã€‚\n\n```ts\nuseFrame(() => world.step(1 / 60)); // å•ä½ç§’\n```\n\nå¥½äº†ï¼Œé‚£ä¹ˆæ€ä¹ˆå’Œ react-three-fiber ç©è€å‘¢ï¼Ÿå…¶å®å¯ä»¥å†™ä¸€ä¸ª[useCannon](https://github.com/gongbaodd/webgl_demos/blob/dev/hooks/useCannon.tsx)ã€‚\n\nä½†æ˜¯è€ƒè™‘åˆ°æœ‰ç°æˆçš„ hooksï¼Œè‡ªå·±å°±ä¸ç”¨å†™è½®å­äº†ï¼Œ[react-spring/use-cannon](https://github.com/react-spring/use-cannon)ï¼Œä»–æ˜¯ç”¨ web worker è·‘çš„ï¼Œæ€§èƒ½è‚¯å®šæ›´å¥½ï¼Œç›´æ¥çœ‹ä¾‹å­å¥½äº†ï¼Œç™½å«–çœŸçˆ½ã€‚\n\n```jsx\nimport { Canvas } from \"react-three-fiber\";\nimport { Physics, usePlane, useBox } from \"use-cannon\";\n\nfunction Plane(props) {\n  const [ref] = usePlane(() => ({ rotation: [-Math.PI / 2, 0, 0], ...props }));\n  return (\n    <mesh ref={ref}>\n      <planeBufferGeometry attach=\"geometry\" args={[100, 100]} />\n    </mesh>\n  );\n}\n\nfunction Cube(props) {\n  const [ref] = useBox(() => ({ mass: 1, position: [0, 5, 0], ...props }));\n  return (\n    <mesh ref={ref}>\n      <boxBufferGeometry attach=\"geometry\" />\n    </mesh>\n  );\n}\n\nReactDOM.render(\n  <Canvas>\n    <Physics>\n      <Plane />\n      <Cube />\n    </Physics>\n  </Canvas>,\n  document.getElementById(\"root\")\n);\n```\n","collection":"blog","data":{"type":"post","category":"fe","tag":["threejs","webgl"],"series":{"slug":"threejs-howto","name":"ç»†å“threejs"}}},{"id":"2020/04/28/keyLemon.md","slug":"2020/04/28/keylemon","body":"\n# keyLemon è®©ä»»ä½•ä¸€ä¸ªæ‘„åƒå¤´éƒ½æ”¯æŒäººè„¸ç™»å…¥\n\nWindows hello æ˜¯ä¸€ä¸ªç”¨ä¸€æ¬¡å°±å›ä¸å»çš„åŠŸèƒ½ï¼Œç›®å‰æˆ‘çš„ç¬”è®°æœ¬æ”¯æŒæŒ‡çº¹ç™»å…¥ï¼Œä¸€å°å¹³æ¿å¤–æ¥äº†ä¸€ä¸ªæŒ‡çº¹æ¥æ”¶å™¨ï¼Œå¦ä¸€å°åªèƒ½ PIN ç ç™»å…¥ã€‚æ˜¾ç„¶ PIN ç ç”¨èµ·æ¥å°±ä¸æ˜¯å¾ˆçˆ½ï¼Œç„¶è€Œè¿™æœºå™¨è¿˜æ˜¯ç”¨æ¥çœ‹ä¹¦çš„ã€‚\n\nç„¶è€Œ Windows Hello å¯¹æ‘„åƒå¤´è¦æ±‚å¾ˆè‹›åˆ»ï¼Œäºæ˜¯æˆ‘åœ¨æƒ³ï¼Œæœ‰æ²¡æœ‰ç±»ä¼¼äºå®‰å“çš„å•é•œå¤´è§£é”æ–¹æ¡ˆï¼ŒKeyLemon å°±æ˜¯ï¼Œv3 ç‰ˆæœ¬å·²ç»æ”¯æŒ Windows 10ï¼Œè™½ç„¶ç½‘ä¸Šæœ‰è¯„è®ºè¯´è¿™è½¯ä»¶å…è´¹ç‰ˆåªèƒ½ç”¨ 7 å¤©ï¼Œä½†æ˜¯è½¯ä»¶ä¸­åªçœ‹åˆ°ä¸‰ç§æˆæƒæ–¹å¼ï¼Œbasic ä»…æ”¯æŒä¸€å¼ äººè„¸å’Œæ— æ´»ä½“æ£€æµ‹çš„äººè„¸ç™»å½•ï¼Œè²Œä¼¼è¿™ä¸ª basic å°±æ˜¯å…è´¹ç‰ˆã€‚\n\nå®é™…ä½“éªŒï¼Œè¿™ä¸ªè½¯ä»¶å—å…‰ç…§å½±å“å¾ˆå¤§ï¼Œæ™šä¸Šå½•å…¥çš„è„¸åˆ°æ—©ä¸Šå°±ä¸è¯†åˆ«äº†ï¼Œè¿™æ—¶è¾“å…¥ PIN ç ä¾ç„¶å¯ä»¥ç™»å…¥ã€‚\n","collection":"blog","data":{"type":"post","category":"tech","tag":["windows","facial-recognition","keyLemon"],"series":{"slug":"windows-howto","name":"Windowsèˆ’é€‚æŒ‡å—"}}}]}