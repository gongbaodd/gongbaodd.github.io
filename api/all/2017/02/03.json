{"posts":[{"id":"2017/02/03/node-302.md","slug":"2017/02/03/node-302","body":"\n```javascript\nvar http = require(\"http\");\n\nvar server = http.createServer(function(req, res) {\n    var clientIP = req.headers['x-forwarded-for'] ||\n                   req.connection.remoteAddress ||\n                   req.socket.remoteAddress ||\n                   req.connection.socket.remoteAddress,\n        ServerDate = new Date();\n    console.log('['+ ServerDate +']' + clientIP);\n    res.writeHead( 302, { 'Location': 'http://www.baidu.com/' });\n    res.end();\n});\n\nserver.listen(80);\n```\n\n然后将脚本作为守护进程启动\n\n```bash\nnohup node app.js > app.log &\n```","collection":"blog","data":{"type":"post","category":"tech"}}]}