{"posts":[{"id":"2020/04/04/ObservableHQ-JS-Jupyter.md","slug":"2020/04/04/observablehq-js-jupyter","body":"\n# ObservableHQ-JS 终于有自己的 Jupyter 笔记本了\n\n学习机器学习的时候用上 python 的 Jupyter notebook 是真好用，曾经就想，如果 JavaScript 也有一个就好了，没错[ObservableHQ](https://observablehq.com/)就是基于 D3.js 的数据可视化笔记本。\n\n官方的[入门](https://observablehq.com/@observablehq/a-taste-of-observable)讲的很详细，接下来一周我可能会专心于里面的[D3 教程](https://observablehq.com/@d3/learn-d3)，间或去学习 threejs fundamental。\n","collection":"blog","data":{"type":"post","category":"fe","tag":["observablehq","JavaScript","d3","jupyter"]}},{"id":"2020/04/07/D3.md","slug":"2020/04/07/d3","body":"\n# 学习 D3 的新姿势\n\n今天用了半天的时间把 observable HQ 上面的 [Learn D3](https://observablehq.com/@d3/learn-d3) 学习了一遍，[这](https://observablehq.com/@gongbaodd/d3-js)是纯笔记版。\n\n不过今天真的是爽到了，没错，我终于找到了以前学习 D3 没动力的原因了，那么厚的一本书，基本上就是把 D3 gallery 抄了一遍。最开始基本上还要学一个 D3 版本的 jQuery 选择器，数据还要自己搞，基本读了两章就打算放弃。\n\n```JavaScript\nvalues = [...\"123456\"];\nimport {chart as chart1} with {values as data} from \"@d3/histogram\";\n```\n\n这就是一个柱状图了！！！爽到有没有？\n\n如果你想写一个控制界面\n\n```JavaScript\nviewof replay = html`<button>Replay</button>`\n```\n\n使用这个控制器\n\n```JavaScript\nreplay, html`\n<svg viewBox=\"0 0 ${width} ${height}\">\n  ${d3.select(svg`<g>`).call(shape_xAxis).node()}\n  ${d3.select(svg`<g>`).call(shape_yAxis).node()}\n  ${d3.select(svg`\n    <path\n      d=\"${line(shape_data)}\"\n      fill=\"none\"\n      stroke=\"steelblue\"\n      stroke-width=\"1.5\"\n      stroke-miterlimit=\"1\"\n      stroke-dasharray=\"0,1\"\n    >\n    </path>\n  `).call(reveal).node()}\n</svg>\n`\n```\n\n哈哈，有趣，这语法很有想象力，比 svelte 更加大胆，仿佛用 JavaScript 实现了一个类似于 python 的词法。如果你想创建一个复杂的变量，你可以：\n\n```JavaScript\nsum = {\n  let s = 0;\n  for (let i = 0; i < 10; ++i) {\n    s += i;\n  }\n  return s;\n}\n```\n\nObservable HQ 的每个语句类似于 react 的 render 函数，你甚至可以把它写成一个迭代器。当 replay 被点击，页面展示的数值会从 1 逐渐增加到 299。\n\n```JavaScript\n{\n  replay;\n  for (let i = 0, n = 300; i < n; ++i) {\n    yield i;\n  }\n}\n```\n\n另外可以参考[如何利用 Wikipedia 的数据](https://observablehq.com/@mbostock/working-with-wikipedia-data)进一步使用 observable HQ。\n","collection":"blog","data":{"type":"post","category":"fe","tag":["observablehq","d3"]}}]}