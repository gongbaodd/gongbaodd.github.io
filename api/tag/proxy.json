{"posts":[{"id":"2020/03/11/apt.md","slug":"2020/03/11/apt","body":"\n# 为 apt 添加代理\n\n我的上帝啊，这两天都在忙活代理（翻译腔）。\n\n系统全局下的`http_proxy`似乎对 apt 无效，需要单独设置。\n\n```shell\nsudo nano /etc/apt/apt.conf.d/proxy.conf\n```\n\n增加代理\n\n```shell\nAcquire {\n  HTTP::proxy \"http://127.0.0.1:8080\";\n  HTTPS::proxy \"http://127.0.0.1:8080\";\n}\n```\n","collection":"blog","data":{"type":"post","category":"tech","tag":["apt","proxy"]}},{"id":"2020/03/11/snap.md","slug":"2020/03/11/snap","body":"\n# 为 snap 添加代理\n\n想在腾讯云里面做个 CI，本着用新不用旧的思想，我打算试试搭建 microk8s。可是我国强大的网络环境无法导致无法安装，也没有个大厂出一个镜像解围，只好挂下代理解决。\n\n## sslocal\n\n注意，腾讯云里面安装 sslocal 会被和谐的，但是试了下 docker 却可以，我安装了 [teachmyself/sslocal](https://hub.docker.com/r/teachmyself/sslocal) ，目前没问题。\n\n## 修改`/etc/environment`\n\n```ini\nhttp_proxy=http://[服务器地址]:[端口号]\nhttps_proxy=http://[服务器地址]:[端口号]\n```\n\n重启 snap 即可\n\n```\nsudo systemctl restart snapd\n```\n","collection":"blog","data":{"type":"post","category":"tech","tag":["microk8s","snap","docker","shadowsocks","proxy"]}}]}